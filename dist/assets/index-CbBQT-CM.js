var Mg=e=>{throw TypeError(e)};var Qd=(e,t,r)=>t.has(e)||Mg("Cannot "+r);var I=(e,t,r)=>(Qd(e,t,"read from private field"),r?r.call(e):t.get(e)),_e=(e,t,r)=>t.has(e)?Mg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),oe=(e,t,r,n)=>(Qd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ct=(e,t,r)=>(Qd(e,t,"access private method"),r);var hc=(e,t,r,n)=>({set _(s){oe(e,t,s,r)},get _(){return I(e,t,n)}});function Ux(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Bx={exports:{}},td={},Wx={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),nS=Symbol.for("react.portal"),sS=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),iS=Symbol.for("react.provider"),lS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),uS=Symbol.for("react.suspense"),dS=Symbol.for("react.memo"),fS=Symbol.for("react.lazy"),Ig=Symbol.iterator;function hS(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,Vx={};function Jo(e,t,r){this.props=e,this.context=t,this.refs=Vx,this.updater=r||qx}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gx(){}Gx.prototype=Jo.prototype;function Sm(e,t,r){this.props=e,this.context=t,this.refs=Vx,this.updater=r||qx}var Nm=Sm.prototype=new Gx;Nm.constructor=Sm;Hx(Nm,Jo.prototype);Nm.isPureReactComponent=!0;var Dg=Array.isArray,Kx=Object.prototype.hasOwnProperty,Cm={current:null},Yx={key:!0,ref:!0,__self:!0,__source:!0};function Qx(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Kx.call(t,n)&&!Yx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zl,type:e,key:a,ref:i,props:s,_owner:Cm.current}}function mS(e,t){return{$$typeof:zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function km(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl}function pS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lg=/\/+/g;function Xd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pS(""+e.key):t.toString(36)}function Hc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case zl:case nS:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Xd(i,0):n,Dg(s)?(r="",e!=null&&(r=e.replace(Lg,"$&/")+"/"),Hc(s,t,r,"",function(u){return u})):s!=null&&(km(s)&&(s=mS(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Lg,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Dg(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Xd(a,l);i+=Hc(a,t,r,c,s)}else if(c=hS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Xd(a,l++),i+=Hc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function mc(e,t,r){if(e==null)return e;var n=[],s=0;return Hc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function gS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Vc={transition:null},vS={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Cm};function Xx(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:mc,forEach:function(e,t,r){mc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mc(e,function(){t++}),t},toArray:function(e){return mc(e,function(t){return t})||[]},only:function(e){if(!km(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Jo;we.Fragment=sS;we.Profiler=oS;we.PureComponent=Sm;we.StrictMode=aS;we.Suspense=uS;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vS;we.act=Xx;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hx({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Cm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Kx.call(t,c)&&!Yx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zl,type:e.type,key:s,ref:a,props:n,_owner:i}};we.createContext=function(e){return e={$$typeof:lS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iS,_context:e},e.Consumer=e};we.createElement=Qx;we.createFactory=function(e){var t=Qx.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:cS,render:e}};we.isValidElement=km;we.lazy=function(e){return{$$typeof:fS,_payload:{_status:-1,_result:e},_init:gS}};we.memo=function(e,t){return{$$typeof:dS,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Vc.transition;Vc.transition={};try{e()}finally{Vc.transition=t}};we.unstable_act=Xx;we.useCallback=function(e,t){return zt.current.useCallback(e,t)};we.useContext=function(e){return zt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};we.useEffect=function(e,t){return zt.current.useEffect(e,t)};we.useId=function(){return zt.current.useId()};we.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return zt.current.useMemo(e,t)};we.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};we.useRef=function(e){return zt.current.useRef(e)};we.useState=function(e){return zt.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return zt.current.useTransition()};we.version="18.3.1";Wx.exports=we;var p=Wx.exports;const z=zx(p),Rm=Ux({__proto__:null,default:z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS=p,xS=Symbol.for("react.element"),wS=Symbol.for("react.fragment"),bS=Object.prototype.hasOwnProperty,jS=yS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_S={key:!0,ref:!0,__self:!0,__source:!0};function Jx(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)bS.call(t,n)&&!_S.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xS,type:e,key:a,ref:i,props:s,_owner:jS.current}}td.Fragment=wS;td.jsx=Jx;td.jsxs=Jx;Bx.exports=td;var o=Bx.exports,Zx={exports:{}},ur={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var $=P.length;P.push(T);e:for(;0<$;){var Q=$-1>>>1,H=P[Q];if(0<s(H,T))P[Q]=T,P[$]=H,$=Q;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var T=P[0],$=P.pop();if($!==T){P[0]=$;e:for(var Q=0,H=P.length,fe=H>>>1;Q<fe;){var he=2*(Q+1)-1,je=P[he],Pe=he+1,le=P[Pe];if(0>s(je,$))Pe<H&&0>s(le,je)?(P[Q]=le,P[Pe]=$,Q=Pe):(P[Q]=je,P[he]=$,Q=he);else if(Pe<H&&0>s(le,$))P[Q]=le,P[Pe]=$,Q=Pe;else break e}}return T}function s(P,T){var $=P.sortIndex-T.sortIndex;return $!==0?$:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=P)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function j(P){if(y=!1,g(P),!w)if(r(c)!==null)w=!0,ee(E);else{var T=r(u);T!==null&&se(j,T.startTime-P)}}function E(P,T){w=!1,y&&(y=!1,x(C),C=-1),m=!0;var $=h;try{for(g(T),f=r(c);f!==null&&(!(f.expirationTime>T)||P&&!B());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var H=Q(f.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),g(T)}else n(c);f=r(c)}if(f!==null)var fe=!0;else{var he=r(u);he!==null&&se(j,he.startTime-T),fe=!1}return fe}finally{f=null,h=$,m=!1}}var N=!1,_=null,C=-1,M=5,R=-1;function B(){return!(e.unstable_now()-R<M)}function D(){if(_!==null){var P=e.unstable_now();R=P;var T=!0;try{T=_(!0,P)}finally{T?W():(N=!1,_=null)}}else N=!1}var W;if(typeof v=="function")W=function(){v(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ue=K.port2;K.port1.onmessage=D,W=function(){ue.postMessage(null)}}else W=function(){b(D,0)};function ee(P){_=P,N||(N=!0,W())}function se(P,T){C=b(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,ee(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var $=h;h=T;try{return P()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=h;h=P;try{return T()}finally{h=$}},e.unstable_scheduleCallback=function(P,T,$){var Q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,P={id:d++,callback:T,priorityLevel:P,startTime:$,expirationTime:H,sortIndex:-1},$>Q?(P.sortIndex=$,t(u,P),r(c)===null&&P===r(u)&&(y?(x(C),C=-1):y=!0,se(j,$-Q))):(P.sortIndex=H,t(c,P),w||m||(w=!0,ee(E))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var T=h;return function(){var $=h;h=T;try{return P.apply(this,arguments)}finally{h=$}}}})(tw);ew.exports=tw;var ES=ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=p,cr=ES;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rw=new Set,sl={};function Na(e,t){Io(e,t),Io(e+"Capture",t)}function Io(e,t){for(sl[e]=t,e=0;e<t.length;e++)rw.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,NS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$g={},Fg={};function CS(e){return Zf.call(Fg,e)?!0:Zf.call($g,e)?!1:NS.test(e)?Fg[e]=!0:($g[e]=!0,!1)}function kS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RS(e,t,r,n){if(t===null||typeof t>"u"||kS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pm=/[\-:]([a-z])/g;function Tm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pm,Tm);Et[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pm,Tm);Et[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pm,Tm);Et[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Om(e,t,r,n){var s=Et.hasOwnProperty(t)?Et[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RS(t,r,s,n)&&(r=null),n||s===null?CS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gn=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),to=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),aw=Symbol.for("react.offscreen"),Ug=Symbol.iterator;function yi(e){return e===null||typeof e!="object"?null:(e=Ug&&e[Ug]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Jd;function Ii(e){if(Jd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jd=t&&t[1]||""}return`
`+Jd+e}var Zd=!1;function ef(e,t){if(!e||Zd)return"";Zd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Zd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ii(e):""}function PS(e){switch(e.tag){case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return e=ef(e.type,!1),e;case 11:return e=ef(e.type.render,!1),e;case 1:return e=ef(e.type,!0),e;default:return""}}function nh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ro:return"Fragment";case to:return"Portal";case eh:return"Profiler";case Am:return"StrictMode";case th:return"Suspense";case rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sw:return(e.displayName||"Context")+".Consumer";case nw:return(e._context.displayName||"Context")+".Provider";case Mm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Im:return t=e.displayName||null,t!==null?t:nh(e.type)||"Memo";case ns:t=e._payload,e=e._init;try{return nh(e(t))}catch{}}return null}function TS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nh(t);case 8:return t===Am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ow(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OS(e){var t=ow(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gc(e){e._valueTracker||(e._valueTracker=OS(e))}function iw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ow(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sh(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ks(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lw(e,t){t=t.checked,t!=null&&Om(e,"checked",t,!1)}function ah(e,t){lw(e,t);var r=ks(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oh(e,t.type,r):t.hasOwnProperty("defaultValue")&&oh(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oh(e,t,r){(t!=="number"||uu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Di=Array.isArray;function mo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ks(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ih(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Di(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ks(r)}}function cw(e,t){var r=ks(t.value),n=ks(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,dw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function al(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AS=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){AS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bi[t]=Bi[e]})});function fw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+t).trim():t+"px"}function hw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=fw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var MS=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ch(e,t){if(t){if(MS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function uh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=null;function Dm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fh=null,po=null,go=null;function Hg(e){if(e=ql(e)){if(typeof fh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=od(t),fh(e.stateNode,e.type,t))}}function mw(e){po?go?go.push(e):go=[e]:po=e}function pw(){if(po){var e=po,t=go;if(go=po=null,Hg(e),t)for(e=0;e<t.length;e++)Hg(t[e])}}function gw(e,t){return e(t)}function vw(){}var tf=!1;function yw(e,t,r){if(tf)return e(t,r);tf=!0;try{return gw(e,t,r)}finally{tf=!1,(po!==null||go!==null)&&(vw(),pw())}}function ol(e,t){var r=e.stateNode;if(r===null)return null;var n=od(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var hh=!1;if(Fn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){hh=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{hh=!1}function IS(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Wi=!1,du=null,fu=!1,mh=null,DS={onError:function(e){Wi=!0,du=e}};function LS(e,t,r,n,s,a,i,l,c){Wi=!1,du=null,IS.apply(DS,arguments)}function $S(e,t,r,n,s,a,i,l,c){if(LS.apply(this,arguments),Wi){if(Wi){var u=du;Wi=!1,du=null}else throw Error(F(198));fu||(fu=!0,mh=u)}}function Ca(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(Ca(e)!==e)throw Error(F(188))}function FS(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Vg(s),e;if(a===n)return Vg(s),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function ww(e){return e=FS(e),e!==null?bw(e):null}function bw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bw(e);if(t!==null)return t;e=e.sibling}return null}var jw=cr.unstable_scheduleCallback,Gg=cr.unstable_cancelCallback,US=cr.unstable_shouldYield,zS=cr.unstable_requestPaint,tt=cr.unstable_now,BS=cr.unstable_getCurrentPriorityLevel,Lm=cr.unstable_ImmediatePriority,_w=cr.unstable_UserBlockingPriority,hu=cr.unstable_NormalPriority,WS=cr.unstable_LowPriority,Ew=cr.unstable_IdlePriority,rd=null,hn=null;function qS(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(rd,e,void 0,(e.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:GS,HS=Math.log,VS=Math.LN2;function GS(e){return e>>>=0,e===0?32:31-(HS(e)/VS|0)|0}var yc=64,xc=4194304;function Li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Li(l):(a&=i,a!==0&&(n=Li(a)))}else i=r&~s,i!==0?n=Li(i):a!==0&&(n=Li(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wr(t),s=1<<r,n|=e[r],t&=~s;return n}function KS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Wr(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=KS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ph(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sw(){var e=yc;return yc<<=1,!(yc&4194240)&&(yc=64),e}function rf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wr(t),e[t]=r}function QS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function $m(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Le=0;function Nw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cw,Fm,kw,Rw,Pw,gh=!1,wc=[],vs=null,ys=null,xs=null,il=new Map,ll=new Map,as=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function wi(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ql(t),t!==null&&Fm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function JS(e,t,r,n,s){switch(t){case"focusin":return vs=wi(vs,e,t,r,n,s),!0;case"dragenter":return ys=wi(ys,e,t,r,n,s),!0;case"mouseover":return xs=wi(xs,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return il.set(a,wi(il.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ll.set(a,wi(ll.get(a)||null,e,t,r,n,s)),!0}return!1}function Tw(e){var t=aa(e.target);if(t!==null){var r=Ca(t);if(r!==null){if(t=r.tag,t===13){if(t=xw(r),t!==null){e.blockedOn=t,Pw(e.priority,function(){kw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dh=n,r.target.dispatchEvent(n),dh=null}else return t=ql(r),t!==null&&Fm(t),e.blockedOn=r,!1;t.shift()}return!0}function Yg(e,t,r){Gc(e)&&r.delete(t)}function ZS(){gh=!1,vs!==null&&Gc(vs)&&(vs=null),ys!==null&&Gc(ys)&&(ys=null),xs!==null&&Gc(xs)&&(xs=null),il.forEach(Yg),ll.forEach(Yg)}function bi(e,t){e.blockedOn===t&&(e.blockedOn=null,gh||(gh=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,ZS)))}function cl(e){function t(s){return bi(s,e)}if(0<wc.length){bi(wc[0],e);for(var r=1;r<wc.length;r++){var n=wc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vs!==null&&bi(vs,e),ys!==null&&bi(ys,e),xs!==null&&bi(xs,e),il.forEach(t),ll.forEach(t),r=0;r<as.length;r++)n=as[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<as.length&&(r=as[0],r.blockedOn===null);)Tw(r),r.blockedOn===null&&as.shift()}var vo=Gn.ReactCurrentBatchConfig,pu=!0;function eN(e,t,r,n){var s=Le,a=vo.transition;vo.transition=null;try{Le=1,Um(e,t,r,n)}finally{Le=s,vo.transition=a}}function tN(e,t,r,n){var s=Le,a=vo.transition;vo.transition=null;try{Le=4,Um(e,t,r,n)}finally{Le=s,vo.transition=a}}function Um(e,t,r,n){if(pu){var s=vh(e,t,r,n);if(s===null)hf(e,t,n,gu,r),Kg(e,n);else if(JS(s,e,t,r,n))n.stopPropagation();else if(Kg(e,n),t&4&&-1<XS.indexOf(e)){for(;s!==null;){var a=ql(s);if(a!==null&&Cw(a),a=vh(e,t,r,n),a===null&&hf(e,t,n,gu,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else hf(e,t,n,null,r)}}var gu=null;function vh(e,t,r,n){if(gu=null,e=Dm(n),e=aa(e),e!==null)if(t=Ca(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gu=e,null}function Ow(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case Lm:return 1;case _w:return 4;case hu:case WS:return 16;case Ew:return 536870912;default:return 16}default:return 16}}var ms=null,zm=null,Kc=null;function Aw(){if(Kc)return Kc;var e,t=zm,r=t.length,n,s="value"in ms?ms.value:ms.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Kc=s.slice(e,1<n?1-n:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bc(){return!0}function Qg(){return!1}function dr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bc:Qg,this.isPropagationStopped=Qg,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),t}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=dr(Zo),Wl=Ye({},Zo,{view:0,detail:0}),rN=dr(Wl),nf,sf,ji,nd=Ye({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(nf=e.screenX-ji.screenX,sf=e.screenY-ji.screenY):sf=nf=0,ji=e),nf)},movementY:function(e){return"movementY"in e?e.movementY:sf}}),Xg=dr(nd),nN=Ye({},nd,{dataTransfer:0}),sN=dr(nN),aN=Ye({},Wl,{relatedTarget:0}),af=dr(aN),oN=Ye({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),iN=dr(oN),lN=Ye({},Zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cN=dr(lN),uN=Ye({},Zo,{data:0}),Jg=dr(uN),dN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hN[e])?!!t[e]:!1}function Wm(){return mN}var pN=Ye({},Wl,{key:function(e){if(e.key){var t=dN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wm,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gN=dr(pN),vN=Ye({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=dr(vN),yN=Ye({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wm}),xN=dr(yN),wN=Ye({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),bN=dr(wN),jN=Ye({},nd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_N=dr(jN),EN=[9,13,27,32],qm=Fn&&"CompositionEvent"in window,qi=null;Fn&&"documentMode"in document&&(qi=document.documentMode);var SN=Fn&&"TextEvent"in window&&!qi,Mw=Fn&&(!qm||qi&&8<qi&&11>=qi),ev=" ",tv=!1;function Iw(e,t){switch(e){case"keyup":return EN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function NN(e,t){switch(e){case"compositionend":return Dw(t);case"keypress":return t.which!==32?null:(tv=!0,ev);case"textInput":return e=t.data,e===ev&&tv?null:e;default:return null}}function CN(e,t){if(no)return e==="compositionend"||!qm&&Iw(e,t)?(e=Aw(),Kc=zm=ms=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mw&&t.locale!=="ko"?null:t.data;default:return null}}var kN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kN[e.type]:t==="textarea"}function Lw(e,t,r,n){mw(n),t=vu(t,"onChange"),0<t.length&&(r=new Bm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hi=null,ul=null;function RN(e){Kw(e,0)}function sd(e){var t=oo(e);if(iw(t))return e}function PN(e,t){if(e==="change")return t}var $w=!1;if(Fn){var of;if(Fn){var lf="oninput"in document;if(!lf){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),lf=typeof nv.oninput=="function"}of=lf}else of=!1;$w=of&&(!document.documentMode||9<document.documentMode)}function sv(){Hi&&(Hi.detachEvent("onpropertychange",Fw),ul=Hi=null)}function Fw(e){if(e.propertyName==="value"&&sd(ul)){var t=[];Lw(t,ul,e,Dm(e)),yw(RN,t)}}function TN(e,t,r){e==="focusin"?(sv(),Hi=t,ul=r,Hi.attachEvent("onpropertychange",Fw)):e==="focusout"&&sv()}function ON(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sd(ul)}function AN(e,t){if(e==="click")return sd(t)}function MN(e,t){if(e==="input"||e==="change")return sd(t)}function IN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:IN;function dl(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Zf.call(t,s)||!Hr(e[s],t[s]))return!1}return!0}function av(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ov(e,t){var r=av(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=av(r)}}function Uw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zw(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uu(e.document)}return t}function Hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DN(e){var t=zw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uw(r.ownerDocument.documentElement,r)){if(n!==null&&Hm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=ov(r,a);var i=ov(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LN=Fn&&"documentMode"in document&&11>=document.documentMode,so=null,yh=null,Vi=null,xh=!1;function iv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xh||so==null||so!==uu(n)||(n=so,"selectionStart"in n&&Hm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vi&&dl(Vi,n)||(Vi=n,n=vu(yh,"onSelect"),0<n.length&&(t=new Bm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=so)))}function jc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ao={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},cf={},Bw={};Fn&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ad(e){if(cf[e])return cf[e];if(!ao[e])return e;var t=ao[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bw)return cf[e]=t[r];return e}var Ww=ad("animationend"),qw=ad("animationiteration"),Hw=ad("animationstart"),Vw=ad("transitionend"),Gw=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){Gw.set(e,t),Na(t,[e])}for(var uf=0;uf<lv.length;uf++){var df=lv[uf],$N=df.toLowerCase(),FN=df[0].toUpperCase()+df.slice(1);Ms($N,"on"+FN)}Ms(Ww,"onAnimationEnd");Ms(qw,"onAnimationIteration");Ms(Hw,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(Vw,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UN=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function cv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$S(n,t,void 0,e),e.currentTarget=null}function Kw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;cv(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;cv(s,l,u),a=c}}}if(fu)throw e=mh,fu=!1,mh=null,e}function We(e,t){var r=t[Eh];r===void 0&&(r=t[Eh]=new Set);var n=e+"__bubble";r.has(n)||(Yw(t,e,2,!1),r.add(n))}function ff(e,t,r){var n=0;t&&(n|=4),Yw(r,e,n,t)}var _c="_reactListening"+Math.random().toString(36).slice(2);function fl(e){if(!e[_c]){e[_c]=!0,rw.forEach(function(r){r!=="selectionchange"&&(UN.has(r)||ff(r,!1,e),ff(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_c]||(t[_c]=!0,ff("selectionchange",!1,t))}}function Yw(e,t,r,n){switch(Ow(t)){case 1:var s=eN;break;case 4:s=tN;break;default:s=Um}r=s.bind(null,t,r,e),s=void 0,!hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function hf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=aa(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}yw(function(){var u=a,d=Dm(r),f=[];e:{var h=Gw.get(e);if(h!==void 0){var m=Bm,w=e;switch(e){case"keypress":if(Yc(r)===0)break e;case"keydown":case"keyup":m=gN;break;case"focusin":w="focus",m=af;break;case"focusout":w="blur",m=af;break;case"beforeblur":case"afterblur":m=af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xN;break;case Ww:case qw:case Hw:m=iN;break;case Vw:m=bN;break;case"scroll":m=rN;break;case"wheel":m=_N;break;case"copy":case"cut":case"paste":m=cN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zg}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,g;v!==null;){g=v;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=ol(v,x),j!=null&&y.push(hl(v,j,g)))),b)break;v=v.return}0<y.length&&(h=new m(h,w,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==dh&&(w=r.relatedTarget||r.fromElement)&&(aa(w)||w[Un]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?aa(w):null,w!==null&&(b=Ca(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=Xg,j="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zg,j="onPointerLeave",x="onPointerEnter",v="pointer"),b=m==null?h:oo(m),g=w==null?h:oo(w),h=new y(j,v+"leave",m,r,d),h.target=b,h.relatedTarget=g,j=null,aa(d)===u&&(y=new y(x,v+"enter",w,r,d),y.target=g,y.relatedTarget=b,j=y),b=j,m&&w)t:{for(y=m,x=w,v=0,g=y;g;g=$a(g))v++;for(g=0,j=x;j;j=$a(j))g++;for(;0<v-g;)y=$a(y),v--;for(;0<g-v;)x=$a(x),g--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=$a(y),x=$a(x)}y=null}else y=null;m!==null&&uv(f,h,m,y,!1),w!==null&&b!==null&&uv(f,b,w,y,!0)}}e:{if(h=u?oo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=PN;else if(rv(h))if($w)E=MN;else{E=ON;var N=TN}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=AN);if(E&&(E=E(e,u))){Lw(f,E,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&oh(h,"number",h.value)}switch(N=u?oo(u):window,e){case"focusin":(rv(N)||N.contentEditable==="true")&&(so=N,yh=u,Vi=null);break;case"focusout":Vi=yh=so=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,iv(f,r,d);break;case"selectionchange":if(LN)break;case"keydown":case"keyup":iv(f,r,d)}var _;if(qm)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else no?Iw(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Mw&&r.locale!=="ko"&&(no||C!=="onCompositionStart"?C==="onCompositionEnd"&&no&&(_=Aw()):(ms=d,zm="value"in ms?ms.value:ms.textContent,no=!0)),N=vu(u,C),0<N.length&&(C=new Jg(C,e,null,r,d),f.push({event:C,listeners:N}),_?C.data=_:(_=Dw(r),_!==null&&(C.data=_)))),(_=SN?NN(e,r):CN(e,r))&&(u=vu(u,"onBeforeInput"),0<u.length&&(d=new Jg("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}Kw(f,t)})}function hl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ol(e,r),a!=null&&n.unshift(hl(e,a,s)),a=ol(e,t),a!=null&&n.push(hl(e,a,s))),e=e.return}return n}function $a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uv(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ol(r,a),c!=null&&i.unshift(hl(r,c,l))):s||(c=ol(r,a),c!=null&&i.push(hl(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var zN=/\r\n?/g,BN=/\u0000|\uFFFD/g;function dv(e){return(typeof e=="string"?e:""+e).replace(zN,`
`).replace(BN,"")}function Ec(e,t,r){if(t=dv(t),dv(e)!==t&&r)throw Error(F(425))}function yu(){}var wh=null,bh=null;function jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,WN=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,qN=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(e){return fv.resolve(null).then(e).catch(HN)}:_h;function HN(e){setTimeout(function(){throw e})}function mf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),cl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);cl(t)}function ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),ln="__reactFiber$"+ei,ml="__reactProps$"+ei,Un="__reactContainer$"+ei,Eh="__reactEvents$"+ei,VN="__reactListeners$"+ei,GN="__reactHandles$"+ei;function aa(e){var t=e[ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hv(e);e!==null;){if(r=e[ln])return r;e=hv(e)}return t}e=r,r=e.parentNode}return null}function ql(e){return e=e[ln]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function od(e){return e[ml]||null}var Sh=[],io=-1;function Is(e){return{current:e}}function qe(e){0>io||(e.current=Sh[io],Sh[io]=null,io--)}function ze(e,t){io++,Sh[io]=e.current,e.current=t}var Rs={},Ot=Is(Rs),Xt=Is(!1),ya=Rs;function Do(e,t){var r=e.type.contextTypes;if(!r)return Rs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(e){return e=e.childContextTypes,e!=null}function xu(){qe(Xt),qe(Ot)}function mv(e,t,r){if(Ot.current!==Rs)throw Error(F(168));ze(Ot,t),ze(Xt,r)}function Qw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,TS(e)||"Unknown",s));return Ye({},r,n)}function wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rs,ya=Ot.current,ze(Ot,e),ze(Xt,Xt.current),!0}function pv(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=Qw(e,t,ya),n.__reactInternalMemoizedMergedChildContext=e,qe(Xt),qe(Ot),ze(Ot,e)):qe(Xt),ze(Xt,r)}var Tn=null,id=!1,pf=!1;function Xw(e){Tn===null?Tn=[e]:Tn.push(e)}function KN(e){id=!0,Xw(e)}function Ds(){if(!pf&&Tn!==null){pf=!0;var e=0,t=Le;try{var r=Tn;for(Le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tn=null,id=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(e+1)),jw(Lm,Ds),s}finally{Le=t,pf=!1}}return null}var lo=[],co=0,bu=null,ju=0,yr=[],xr=0,xa=null,An=1,Mn="";function Xs(e,t){lo[co++]=ju,lo[co++]=bu,bu=e,ju=t}function Jw(e,t,r){yr[xr++]=An,yr[xr++]=Mn,yr[xr++]=xa,xa=e;var n=An;e=Mn;var s=32-Wr(n)-1;n&=~(1<<s),r+=1;var a=32-Wr(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,An=1<<32-Wr(t)+s|r<<s|n,Mn=a+e}else An=1<<a|r<<s|n,Mn=e}function Vm(e){e.return!==null&&(Xs(e,1),Jw(e,1,0))}function Gm(e){for(;e===bu;)bu=lo[--co],lo[co]=null,ju=lo[--co],lo[co]=null;for(;e===xa;)xa=yr[--xr],yr[xr]=null,Mn=yr[--xr],yr[xr]=null,An=yr[--xr],yr[xr]=null}var or=null,ar=null,Ve=!1,Br=null;function Zw(e,t){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xa!==null?{id:An,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ch(e){if(Ve){var t=ar;if(t){var r=t;if(!gv(e,t)){if(Nh(e))throw Error(F(418));t=ws(r.nextSibling);var n=or;t&&gv(e,t)?Zw(n,r):(e.flags=e.flags&-4097|2,Ve=!1,or=e)}}else{if(Nh(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ve=!1,or=e}}}function vv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Sc(e){if(e!==or)return!1;if(!Ve)return vv(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jh(e.type,e.memoizedProps)),t&&(t=ar)){if(Nh(e))throw e0(),Error(F(418));for(;t;)Zw(e,t),t=ws(t.nextSibling)}if(vv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=ws(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?ws(e.stateNode.nextSibling):null;return!0}function e0(){for(var e=ar;e;)e=ws(e.nextSibling)}function Lo(){ar=or=null,Ve=!1}function Km(e){Br===null?Br=[e]:Br.push(e)}var YN=Gn.ReactCurrentBatchConfig;function _i(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Nc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yv(e){var t=e._init;return t(e._payload)}function t0(e){function t(x,v){if(e){var g=x.deletions;g===null?(x.deletions=[v],x.flags|=16):g.push(v)}}function r(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Es(x,v),x.index=0,x.sibling=null,x}function a(x,v,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<v?(x.flags|=2,v):g):(x.flags|=2,v)):(x.flags|=1048576,v)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,g,j){return v===null||v.tag!==6?(v=jf(g,x.mode,j),v.return=x,v):(v=s(v,g),v.return=x,v)}function c(x,v,g,j){var E=g.type;return E===ro?d(x,v,g.props.children,j,g.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ns&&yv(E)===v.type)?(j=s(v,g.props),j.ref=_i(x,v,g),j.return=x,j):(j=ru(g.type,g.key,g.props,null,x.mode,j),j.ref=_i(x,v,g),j.return=x,j)}function u(x,v,g,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=_f(g,x.mode,j),v.return=x,v):(v=s(v,g.children||[]),v.return=x,v)}function d(x,v,g,j,E){return v===null||v.tag!==7?(v=va(g,x.mode,j,E),v.return=x,v):(v=s(v,g),v.return=x,v)}function f(x,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jf(""+v,x.mode,g),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pc:return g=ru(v.type,v.key,v.props,null,x.mode,g),g.ref=_i(x,null,v),g.return=x,g;case to:return v=_f(v,x.mode,g),v.return=x,v;case ns:var j=v._init;return f(x,j(v._payload),g)}if(Di(v)||yi(v))return v=va(v,x.mode,g,null),v.return=x,v;Nc(x,v)}return null}function h(x,v,g,j){var E=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(x,v,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pc:return g.key===E?c(x,v,g,j):null;case to:return g.key===E?u(x,v,g,j):null;case ns:return E=g._init,h(x,v,E(g._payload),j)}if(Di(g)||yi(g))return E!==null?null:d(x,v,g,j,null);Nc(x,g)}return null}function m(x,v,g,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,l(v,x,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pc:return x=x.get(j.key===null?g:j.key)||null,c(v,x,j,E);case to:return x=x.get(j.key===null?g:j.key)||null,u(v,x,j,E);case ns:var N=j._init;return m(x,v,g,N(j._payload),E)}if(Di(j)||yi(j))return x=x.get(g)||null,d(v,x,j,E,null);Nc(v,j)}return null}function w(x,v,g,j){for(var E=null,N=null,_=v,C=v=0,M=null;_!==null&&C<g.length;C++){_.index>C?(M=_,_=null):M=_.sibling;var R=h(x,_,g[C],j);if(R===null){_===null&&(_=M);break}e&&_&&R.alternate===null&&t(x,_),v=a(R,v,C),N===null?E=R:N.sibling=R,N=R,_=M}if(C===g.length)return r(x,_),Ve&&Xs(x,C),E;if(_===null){for(;C<g.length;C++)_=f(x,g[C],j),_!==null&&(v=a(_,v,C),N===null?E=_:N.sibling=_,N=_);return Ve&&Xs(x,C),E}for(_=n(x,_);C<g.length;C++)M=m(_,x,C,g[C],j),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?C:M.key),v=a(M,v,C),N===null?E=M:N.sibling=M,N=M);return e&&_.forEach(function(B){return t(x,B)}),Ve&&Xs(x,C),E}function y(x,v,g,j){var E=yi(g);if(typeof E!="function")throw Error(F(150));if(g=E.call(g),g==null)throw Error(F(151));for(var N=E=null,_=v,C=v=0,M=null,R=g.next();_!==null&&!R.done;C++,R=g.next()){_.index>C?(M=_,_=null):M=_.sibling;var B=h(x,_,R.value,j);if(B===null){_===null&&(_=M);break}e&&_&&B.alternate===null&&t(x,_),v=a(B,v,C),N===null?E=B:N.sibling=B,N=B,_=M}if(R.done)return r(x,_),Ve&&Xs(x,C),E;if(_===null){for(;!R.done;C++,R=g.next())R=f(x,R.value,j),R!==null&&(v=a(R,v,C),N===null?E=R:N.sibling=R,N=R);return Ve&&Xs(x,C),E}for(_=n(x,_);!R.done;C++,R=g.next())R=m(_,x,C,R.value,j),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?C:R.key),v=a(R,v,C),N===null?E=R:N.sibling=R,N=R);return e&&_.forEach(function(D){return t(x,D)}),Ve&&Xs(x,C),E}function b(x,v,g,j){if(typeof g=="object"&&g!==null&&g.type===ro&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pc:e:{for(var E=g.key,N=v;N!==null;){if(N.key===E){if(E=g.type,E===ro){if(N.tag===7){r(x,N.sibling),v=s(N,g.props.children),v.return=x,x=v;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ns&&yv(E)===N.type){r(x,N.sibling),v=s(N,g.props),v.ref=_i(x,N,g),v.return=x,x=v;break e}r(x,N);break}else t(x,N);N=N.sibling}g.type===ro?(v=va(g.props.children,x.mode,j,g.key),v.return=x,x=v):(j=ru(g.type,g.key,g.props,null,x.mode,j),j.ref=_i(x,v,g),j.return=x,x=j)}return i(x);case to:e:{for(N=g.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(x,v.sibling),v=s(v,g.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else t(x,v);v=v.sibling}v=_f(g,x.mode,j),v.return=x,x=v}return i(x);case ns:return N=g._init,b(x,v,N(g._payload),j)}if(Di(g))return w(x,v,g,j);if(yi(g))return y(x,v,g,j);Nc(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(x,v.sibling),v=s(v,g),v.return=x,x=v):(r(x,v),v=jf(g,x.mode,j),v.return=x,x=v),i(x)):r(x,v)}return b}var $o=t0(!0),r0=t0(!1),_u=Is(null),Eu=null,uo=null,Ym=null;function Qm(){Ym=uo=Eu=null}function Xm(e){var t=_u.current;qe(_u),e._currentValue=t}function kh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yo(e,t){Eu=e,Ym=uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Ym!==e)if(e={context:e,memoizedValue:t,next:null},uo===null){if(Eu===null)throw Error(F(308));uo=e,Eu.dependencies={lanes:0,firstContext:e}}else uo=uo.next=e;return t}var oa=null;function Jm(e){oa===null?oa=[e]:oa.push(e)}function n0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Jm(t)):(r.next=s.next,s.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ss=!1;function Zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zn(e,r)}return s=n.interleaved,s===null?(t.next=t,Jm(n)):(t.next=s.next,s.next=t),n.interleaved=t,zn(e,r)}function Qc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$m(e,r)}}function xv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Su(e,t,r,n){var s=e.updateQueue;ss=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(h=t,m=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=Ye({},f,h);break e;case 2:ss=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ba|=i,e.lanes=i,e.memoizedState=f}}function wv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Hl={},mn=Is(Hl),pl=Is(Hl),gl=Is(Hl);function ia(e){if(e===Hl)throw Error(F(174));return e}function ep(e,t){switch(ze(gl,t),ze(pl,e),ze(mn,Hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lh(t,e)}qe(mn),ze(mn,t)}function Fo(){qe(mn),qe(pl),qe(gl)}function a0(e){ia(gl.current);var t=ia(mn.current),r=lh(t,e.type);t!==r&&(ze(pl,e),ze(mn,r))}function tp(e){pl.current===e&&(qe(mn),qe(pl))}var Ge=Is(0);function Nu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gf=[];function rp(){for(var e=0;e<gf.length;e++)gf[e]._workInProgressVersionPrimary=null;gf.length=0}var Xc=Gn.ReactCurrentDispatcher,vf=Gn.ReactCurrentBatchConfig,wa=0,Ke=null,ft=null,vt=null,Cu=!1,Gi=!1,vl=0,QN=0;function kt(){throw Error(F(321))}function np(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function sp(e,t,r,n,s,a){if(wa=a,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xc.current=e===null||e.memoizedState===null?eC:tC,e=r(n,s),Gi){a=0;do{if(Gi=!1,vl=0,25<=a)throw Error(F(301));a+=1,vt=ft=null,t.updateQueue=null,Xc.current=rC,e=r(n,s)}while(Gi)}if(Xc.current=ku,t=ft!==null&&ft.next!==null,wa=0,vt=ft=Ke=null,Cu=!1,t)throw Error(F(300));return e}function ap(){var e=vl!==0;return vl=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ke.memoizedState=vt=e:vt=vt.next=e,vt}function Sr(){if(ft===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=vt===null?Ke.memoizedState:vt.next;if(t!==null)vt=t,ft=e;else{if(e===null)throw Error(F(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ke.memoizedState=vt=e:vt=vt.next=e}return vt}function yl(e,t){return typeof t=="function"?t(e):t}function yf(e){var t=Sr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=ft,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((wa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ke.lanes|=d,ba|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Hr(n,t.memoizedState)||(Qt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ke.lanes|=a,ba|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xf(e){var t=Sr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Hr(a,t.memoizedState)||(Qt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function o0(){}function i0(e,t){var r=Ke,n=Sr(),s=t(),a=!Hr(n.memoizedState,s);if(a&&(n.memoizedState=s,Qt=!0),n=n.queue,op(u0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,xl(9,c0.bind(null,r,n,s,t),void 0,null),yt===null)throw Error(F(349));wa&30||l0(r,t,s)}return s}function l0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c0(e,t,r,n){t.value=r,t.getSnapshot=n,d0(t)&&f0(e)}function u0(e,t,r){return r(function(){d0(t)&&f0(e)})}function d0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function f0(e){var t=zn(e,1);t!==null&&qr(t,e,1,-1)}function bv(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=ZN.bind(null,Ke,e),[t.memoizedState,e]}function xl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h0(){return Sr().memoizedState}function Jc(e,t,r,n){var s=rn();Ke.flags|=e,s.memoizedState=xl(1|t,r,void 0,n===void 0?null:n)}function ld(e,t,r,n){var s=Sr();n=n===void 0?null:n;var a=void 0;if(ft!==null){var i=ft.memoizedState;if(a=i.destroy,n!==null&&np(n,i.deps)){s.memoizedState=xl(t,r,a,n);return}}Ke.flags|=e,s.memoizedState=xl(1|t,r,a,n)}function jv(e,t){return Jc(8390656,8,e,t)}function op(e,t){return ld(2048,8,e,t)}function m0(e,t){return ld(4,2,e,t)}function p0(e,t){return ld(4,4,e,t)}function g0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v0(e,t,r){return r=r!=null?r.concat([e]):null,ld(4,4,g0.bind(null,t,e),r)}function ip(){}function y0(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&np(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function x0(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&np(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w0(e,t,r){return wa&21?(Hr(r,t)||(r=Sw(),Ke.lanes|=r,ba|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=r)}function XN(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var n=vf.transition;vf.transition={};try{e(!1),t()}finally{Le=r,vf.transition=n}}function b0(){return Sr().memoizedState}function JN(e,t,r){var n=_s(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j0(e))_0(t,r);else if(r=n0(e,t,r,n),r!==null){var s=Ut();qr(r,e,n,s),E0(r,t,n)}}function ZN(e,t,r){var n=_s(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j0(e))_0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,Hr(l,i)){var c=t.interleaved;c===null?(s.next=s,Jm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=n0(e,t,s,n),r!==null&&(s=Ut(),qr(r,e,n,s),E0(r,t,n))}}function j0(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function _0(e,t){Gi=Cu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function E0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$m(e,r)}}var ku={readContext:Er,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},eC={readContext:Er,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:jv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jc(4194308,4,g0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jc(4,2,e,t)},useMemo:function(e,t){var r=rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JN.bind(null,Ke,e),[n.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:bv,useDebugValue:ip,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=bv(!1),t=e[0];return e=XN.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ke,s=rn();if(Ve){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),yt===null)throw Error(F(349));wa&30||l0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,jv(u0.bind(null,n,a,e),[e]),n.flags|=2048,xl(9,c0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=rn(),t=yt.identifierPrefix;if(Ve){var r=Mn,n=An;r=(n&~(1<<32-Wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=QN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tC={readContext:Er,useCallback:y0,useContext:Er,useEffect:op,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:x0,useReducer:yf,useRef:h0,useState:function(){return yf(yl)},useDebugValue:ip,useDeferredValue:function(e){var t=Sr();return w0(t,ft.memoizedState,e)},useTransition:function(){var e=yf(yl)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:o0,useSyncExternalStore:i0,useId:b0,unstable_isNewReconciler:!1},rC={readContext:Er,useCallback:y0,useContext:Er,useEffect:op,useImperativeHandle:v0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:x0,useReducer:xf,useRef:h0,useState:function(){return xf(yl)},useDebugValue:ip,useDeferredValue:function(e){var t=Sr();return ft===null?t.memoizedState=e:w0(t,ft.memoizedState,e)},useTransition:function(){var e=xf(yl)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:o0,useSyncExternalStore:i0,useId:b0,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cd={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=_s(e),a=In(n,s);a.payload=t,r!=null&&(a.callback=r),t=bs(e,a,s),t!==null&&(qr(t,e,s,n),Qc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=_s(e),a=In(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=bs(e,a,s),t!==null&&(qr(t,e,s,n),Qc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=_s(e),s=In(r,n);s.tag=2,t!=null&&(s.callback=t),t=bs(e,s,n),t!==null&&(qr(t,e,n,r),Qc(t,e,n))}};function _v(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!dl(r,n)||!dl(s,a):!0}function S0(e,t,r){var n=!1,s=Rs,a=t.contextType;return typeof a=="object"&&a!==null?a=Er(a):(s=Jt(t)?ya:Ot.current,n=t.contextTypes,a=(n=n!=null)?Do(e,s):Rs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ev(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cd.enqueueReplaceState(t,t.state,null)}function Ph(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zm(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Er(a):(a=Jt(t)?ya:Ot.current,s.context=Do(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Rh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cd.enqueueReplaceState(s,s.state,null),Su(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var r="",n=t;do r+=PS(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Th(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nC=typeof WeakMap=="function"?WeakMap:Map;function N0(e,t,r){r=In(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pu||(Pu=!0,zh=n),Th(e,t)},r}function C0(e,t,r){r=In(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Th(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Th(e,t),typeof n!="function"&&(js===null?js=new Set([this]):js.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Sv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vC.bind(null,e,t,r),t.then(e,e))}function Nv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=In(-1,1),t.tag=2,bs(r,t,1))),r.lanes|=1),e)}var sC=Gn.ReactCurrentOwner,Qt=!1;function Lt(e,t,r,n){t.child=e===null?r0(t,null,r,n):$o(t,e.child,r,n)}function kv(e,t,r,n,s){r=r.render;var a=t.ref;return yo(t,s),n=sp(e,t,r,n,a,s),r=ap(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Ve&&r&&Vm(t),t.flags|=1,Lt(e,t,n,s),t.child)}function Rv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!pp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,k0(e,t,a,n,s)):(e=ru(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:dl,r(i,n)&&e.ref===t.ref)return Bn(e,t,s)}return t.flags|=1,e=Es(a,n),e.ref=t.ref,e.return=t,t.child=e}function k0(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(dl(a,n)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Bn(e,t,s)}return Oh(e,t,r,n,s)}function R0(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ho,rr),rr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(ho,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ze(ho,rr),rr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ze(ho,rr),rr|=n;return Lt(e,t,s,r),t.child}function P0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Oh(e,t,r,n,s){var a=Jt(r)?ya:Ot.current;return a=Do(t,a),yo(t,s),r=sp(e,t,r,n,a,s),n=ap(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(Ve&&n&&Vm(t),t.flags|=1,Lt(e,t,r,s),t.child)}function Pv(e,t,r,n,s){if(Jt(r)){var a=!0;wu(t)}else a=!1;if(yo(t,s),t.stateNode===null)Zc(e,t),S0(t,r,n),Ph(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Jt(r)?ya:Ot.current,u=Do(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ev(t,i,n,u),ss=!1;var h=t.memoizedState;i.state=h,Su(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Xt.current||ss?(typeof d=="function"&&(Rh(t,r,d,n),c=t.memoizedState),(l=ss||_v(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,s0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ir(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Jt(r)?ya:Ot.current,c=Do(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Ev(t,i,n,c),ss=!1,h=t.memoizedState,i.state=h,Su(t,n,i,s);var w=t.memoizedState;l!==f||h!==w||Xt.current||ss?(typeof m=="function"&&(Rh(t,r,m,n),w=t.memoizedState),(u=ss||_v(t,r,u,n,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ah(e,t,r,n,a,s)}function Ah(e,t,r,n,s,a){P0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&pv(t,r,!1),Bn(e,t,a);n=t.stateNode,sC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$o(t,e.child,null,a),t.child=$o(t,null,l,a)):Lt(e,t,l,a),t.memoizedState=n.state,s&&pv(t,r,!0),t.child}function T0(e){var t=e.stateNode;t.pendingContext?mv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mv(e,t.context,!1),ep(e,t.containerInfo)}function Tv(e,t,r,n,s){return Lo(),Km(s),t.flags|=256,Lt(e,t,r,n),t.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function O0(e,t,r){var n=t.pendingProps,s=Ge.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Ge,s&1),e===null)return Ch(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=fd(i,n,0,null),e=va(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ih(r),t.memoizedState=Mh,e):lp(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return aC(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Es(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Es(l,a):(a=va(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Ih(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Mh,n}return a=e.child,e=a.sibling,n=Es(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lp(e,t){return t=fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cc(e,t,r,n){return n!==null&&Km(n),$o(t,e.child,null,r),e=lp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aC(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=wf(Error(F(422))),Cc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=fd({mode:"visible",children:n.children},s,0,null),a=va(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&$o(t,e.child,null,i),t.child.memoizedState=Ih(i),t.memoizedState=Mh,a);if(!(t.mode&1))return Cc(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(F(419)),n=wf(a,n,void 0),Cc(e,t,i,n)}if(l=(i&e.childLanes)!==0,Qt||l){if(n=yt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,zn(e,s),qr(n,e,s,-1))}return mp(),n=wf(Error(F(421))),Cc(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yC.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ar=ws(s.nextSibling),or=t,Ve=!0,Br=null,e!==null&&(yr[xr++]=An,yr[xr++]=Mn,yr[xr++]=xa,An=e.id,Mn=e.overflow,xa=t),t=lp(t,n.children),t.flags|=4096,t)}function Ov(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kh(e.return,t,r)}function bf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function A0(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Lt(e,t,n.children,r),n=Ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ov(e,r,t);else if(e.tag===19)Ov(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Nu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),bf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Nu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}bf(t,!0,r,null,a);break;case"together":bf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Es(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Es(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oC(e,t,r){switch(t.tag){case 3:T0(t),Lo();break;case 5:a0(t);break;case 1:Jt(t.type)&&wu(t);break;case 4:ep(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ze(_u,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?O0(e,t,r):(ze(Ge,Ge.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);ze(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return A0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,R0(e,t,r)}return Bn(e,t,r)}var M0,Dh,I0,D0;M0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dh=function(){};I0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ia(mn.current);var a=null;switch(r){case"input":s=sh(e,s),n=sh(e,n),a=[];break;case"select":s=Ye({},s,{value:void 0}),n=Ye({},n,{value:void 0}),a=[];break;case"textarea":s=ih(e,s),n=ih(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yu)}ch(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};D0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ei(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function iC(e,t,r){var n=t.pendingProps;switch(Gm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Jt(t.type)&&xu(),Rt(t),null;case 3:return n=t.stateNode,Fo(),qe(Xt),qe(Ot),rp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Br!==null&&(qh(Br),Br=null))),Dh(e,t),Rt(t),null;case 5:tp(t);var s=ia(gl.current);if(r=t.type,e!==null&&t.stateNode!=null)I0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Rt(t),null}if(e=ia(mn.current),Sc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ln]=t,n[ml]=a,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(s=0;s<$i.length;s++)We($i[s],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":zg(n,a),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},We("invalid",n);break;case"textarea":Wg(n,a),We("invalid",n)}ch(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ec(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ec(n.textContent,l,e),s=["children",""+l]):sl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&We("scroll",n)}switch(r){case"input":gc(n),Bg(n,a,!0);break;case"textarea":gc(n),qg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=yu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ln]=t,e[ml]=n,M0(e,t,!1,!1),t.stateNode=e;e:{switch(i=uh(r,n),r){case"dialog":We("cancel",e),We("close",e),s=n;break;case"iframe":case"object":case"embed":We("load",e),s=n;break;case"video":case"audio":for(s=0;s<$i.length;s++)We($i[s],e);s=n;break;case"source":We("error",e),s=n;break;case"img":case"image":case"link":We("error",e),We("load",e),s=n;break;case"details":We("toggle",e),s=n;break;case"input":zg(e,n),s=sh(e,n),We("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ye({},n,{value:void 0}),We("invalid",e);break;case"textarea":Wg(e,n),s=ih(e,n),We("invalid",e);break;default:s=n}ch(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?hw(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dw(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&al(e,c):typeof c=="number"&&al(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(sl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&We("scroll",e):c!=null&&Om(e,a,c,i))}switch(r){case"input":gc(e),Bg(e,n,!1);break;case"textarea":gc(e),qg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ks(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?mo(e,!!n.multiple,a,!1):n.defaultValue!=null&&mo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)D0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=ia(gl.current),ia(mn.current),Sc(t)){if(n=t.stateNode,r=t.memoizedProps,n[ln]=t,(a=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:Ec(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ec(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ln]=t,t.stateNode=n}return Rt(t),null;case 13:if(qe(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&ar!==null&&t.mode&1&&!(t.flags&128))e0(),Lo(),t.flags|=98560,a=!1;else if(a=Sc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[ln]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),a=!1}else Br!==null&&(qh(Br),Br=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?pt===0&&(pt=3):mp())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Fo(),Dh(e,t),e===null&&fl(t.stateNode.containerInfo),Rt(t),null;case 10:return Xm(t.type._context),Rt(t),null;case 17:return Jt(t.type)&&xu(),Rt(t),null;case 19:if(qe(Ge),a=t.memoizedState,a===null)return Rt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ei(a,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Nu(e),i!==null){for(t.flags|=128,Ei(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Ge,Ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&tt()>zo&&(t.flags|=128,n=!0,Ei(a,!1),t.lanes=4194304)}else{if(!n)if(e=Nu(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ei(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ve)return Rt(t),null}else 2*tt()-a.renderingStartTime>zo&&r!==1073741824&&(t.flags|=128,n=!0,Ei(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tt(),t.sibling=null,r=Ge.current,ze(Ge,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return hp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rr&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function lC(e,t){switch(Gm(t),t.tag){case 1:return Jt(t.type)&&xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),qe(Xt),qe(Ot),rp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tp(t),null;case 13:if(qe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ge),null;case 4:return Fo(),null;case 10:return Xm(t.type._context),null;case 22:case 23:return hp(),null;case 24:return null;default:return null}}var kc=!1,Pt=!1,cC=typeof WeakSet=="function"?WeakSet:Set,G=null;function fo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function Lh(e,t,r){try{r()}catch(n){et(e,t,n)}}var Av=!1;function uC(e,t){if(wh=pu,e=zw(),Hm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bh={focusedElem:e,selectionRange:r},pu=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ir(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){et(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=Av,Av=!1,w}function Ki(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Lh(t,r,a)}s=s.next}while(s!==n)}}function ud(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $h(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L0(e){var t=e.alternate;t!==null&&(e.alternate=null,L0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[ml],delete t[Eh],delete t[VN],delete t[GN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $0(e){return e.tag===5||e.tag===3||e.tag===4}function Mv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yu));else if(n!==4&&(e=e.child,e!==null))for(Fh(e,t,r),e=e.sibling;e!==null;)Fh(e,t,r),e=e.sibling}function Uh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Uh(e,t,r),e=e.sibling;e!==null;)Uh(e,t,r),e=e.sibling}var bt=null,Fr=!1;function Kn(e,t,r){for(r=r.child;r!==null;)F0(e,t,r),r=r.sibling}function F0(e,t,r){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(rd,r)}catch{}switch(r.tag){case 5:Pt||fo(r,t);case 6:var n=bt,s=Fr;bt=null,Kn(e,t,r),bt=n,Fr=s,bt!==null&&(Fr?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Fr?(e=bt,r=r.stateNode,e.nodeType===8?mf(e.parentNode,r):e.nodeType===1&&mf(e,r),cl(e)):mf(bt,r.stateNode));break;case 4:n=bt,s=Fr,bt=r.stateNode.containerInfo,Fr=!0,Kn(e,t,r),bt=n,Fr=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Lh(r,t,i),s=s.next}while(s!==n)}Kn(e,t,r);break;case 1:if(!Pt&&(fo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){et(r,t,l)}Kn(e,t,r);break;case 21:Kn(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Kn(e,t,r),Pt=n):Kn(e,t,r);break;default:Kn(e,t,r)}}function Iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cC),t.forEach(function(n){var s=xC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Or(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Fr=!1;break e;case 3:bt=l.stateNode.containerInfo,Fr=!0;break e;case 4:bt=l.stateNode.containerInfo,Fr=!0;break e}l=l.return}if(bt===null)throw Error(F(160));F0(a,i,s),bt=null,Fr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U0(t,e),t=t.sibling}function U0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),tn(e),n&4){try{Ki(3,e,e.return),ud(3,e)}catch(y){et(e,e.return,y)}try{Ki(5,e,e.return)}catch(y){et(e,e.return,y)}}break;case 1:Or(t,e),tn(e),n&512&&r!==null&&fo(r,r.return);break;case 5:if(Or(t,e),tn(e),n&512&&r!==null&&fo(r,r.return),e.flags&32){var s=e.stateNode;try{al(s,"")}catch(y){et(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&lw(s,a),uh(l,i);var u=uh(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?hw(s,f):d==="dangerouslySetInnerHTML"?dw(s,f):d==="children"?al(s,f):Om(s,d,f,u)}switch(l){case"input":ah(s,a);break;case"textarea":cw(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?mo(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?mo(s,!!a.multiple,a.defaultValue,!0):mo(s,!!a.multiple,a.multiple?[]:"",!1))}s[ml]=a}catch(y){et(e,e.return,y)}}break;case 6:if(Or(t,e),tn(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){et(e,e.return,y)}}break;case 3:if(Or(t,e),tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cl(t.containerInfo)}catch(y){et(e,e.return,y)}break;case 4:Or(t,e),tn(e);break;case 13:Or(t,e),tn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(dp=tt())),n&4&&Iv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,Or(t,e),Pt=u):Or(t,e),tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(f=G=d;G!==null;){switch(h=G,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ki(4,h,h.return);break;case 1:fo(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){et(n,r,y)}}break;case 5:fo(h,h.return);break;case 22:if(h.memoizedState!==null){Lv(f);continue}}m!==null?(m.return=h,G=m):Lv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fw("display",i))}catch(y){et(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){et(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Or(t,e),tn(e),n&4&&Iv(e);break;case 21:break;default:Or(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($0(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(al(s,""),n.flags&=-33);var a=Mv(e);Uh(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mv(e);Fh(e,l,i);break;default:throw Error(F(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dC(e,t,r){G=e,z0(e)}function z0(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var s=G,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||kc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=kc;var u=Pt;if(kc=i,(Pt=c)&&!u)for(G=s;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?$v(s):c!==null?(c.return=i,G=c):$v(s);for(;a!==null;)G=a,z0(a),a=a.sibling;G=s,kc=l,Pt=u}Dv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,G=a):Dv(e)}}function Dv(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||ud(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ir(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&wv(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&cl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Pt||t.flags&512&&$h(t)}catch(h){et(t,t.return,h)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function Lv(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function $v(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ud(4,t)}catch(c){et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){et(t,s,c)}}var a=t.return;try{$h(t)}catch(c){et(t,a,c)}break;case 5:var i=t.return;try{$h(t)}catch(c){et(t,i,c)}}}catch(c){et(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var fC=Math.ceil,Ru=Gn.ReactCurrentDispatcher,cp=Gn.ReactCurrentOwner,br=Gn.ReactCurrentBatchConfig,Se=0,yt=null,ut=null,_t=0,rr=0,ho=Is(0),pt=0,wl=null,ba=0,dd=0,up=0,Yi=null,Kt=null,dp=0,zo=1/0,Rn=null,Pu=!1,zh=null,js=null,Rc=!1,ps=null,Tu=0,Qi=0,Bh=null,eu=-1,tu=0;function Ut(){return Se&6?tt():eu!==-1?eu:eu=tt()}function _s(e){return e.mode&1?Se&2&&_t!==0?_t&-_t:YN.transition!==null?(tu===0&&(tu=Sw()),tu):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Ow(e.type)),e):1}function qr(e,t,r,n){if(50<Qi)throw Qi=0,Bh=null,Error(F(185));Bl(e,r,n),(!(Se&2)||e!==yt)&&(e===yt&&(!(Se&2)&&(dd|=r),pt===4&&os(e,_t)),Zt(e,n),r===1&&Se===0&&!(t.mode&1)&&(zo=tt()+500,id&&Ds()))}function Zt(e,t){var r=e.callbackNode;YS(e,t);var n=mu(e,e===yt?_t:0);if(n===0)r!==null&&Gg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gg(r),t===1)e.tag===0?KN(Fv.bind(null,e)):Xw(Fv.bind(null,e)),qN(function(){!(Se&6)&&Ds()}),r=null;else{switch(Nw(n)){case 1:r=Lm;break;case 4:r=_w;break;case 16:r=hu;break;case 536870912:r=Ew;break;default:r=hu}r=Y0(r,B0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B0(e,t){if(eu=-1,tu=0,Se&6)throw Error(F(327));var r=e.callbackNode;if(xo()&&e.callbackNode!==r)return null;var n=mu(e,e===yt?_t:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ou(e,n);else{t=n;var s=Se;Se|=2;var a=q0();(yt!==e||_t!==t)&&(Rn=null,zo=tt()+500,ga(e,t));do try{pC();break}catch(l){W0(e,l)}while(!0);Qm(),Ru.current=a,Se=s,ut!==null?t=0:(yt=null,_t=0,t=pt)}if(t!==0){if(t===2&&(s=ph(e),s!==0&&(n=s,t=Wh(e,s))),t===1)throw r=wl,ga(e,0),os(e,n),Zt(e,tt()),r;if(t===6)os(e,n);else{if(s=e.current.alternate,!(n&30)&&!hC(s)&&(t=Ou(e,n),t===2&&(a=ph(e),a!==0&&(n=a,t=Wh(e,a))),t===1))throw r=wl,ga(e,0),os(e,n),Zt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Js(e,Kt,Rn);break;case 3:if(os(e,n),(n&130023424)===n&&(t=dp+500-tt(),10<t)){if(mu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_h(Js.bind(null,e,Kt,Rn),t);break}Js(e,Kt,Rn);break;case 4:if(os(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Wr(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fC(n/1960))-n,10<n){e.timeoutHandle=_h(Js.bind(null,e,Kt,Rn),n);break}Js(e,Kt,Rn);break;case 5:Js(e,Kt,Rn);break;default:throw Error(F(329))}}}return Zt(e,tt()),e.callbackNode===r?B0.bind(null,e):null}function Wh(e,t){var r=Yi;return e.current.memoizedState.isDehydrated&&(ga(e,t).flags|=256),e=Ou(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&qh(t)),e}function qh(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function hC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Hr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(e,t){for(t&=~up,t&=~dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wr(t),n=1<<r;e[r]=-1,t&=~n}}function Fv(e){if(Se&6)throw Error(F(327));xo();var t=mu(e,0);if(!(t&1))return Zt(e,tt()),null;var r=Ou(e,t);if(e.tag!==0&&r===2){var n=ph(e);n!==0&&(t=n,r=Wh(e,n))}if(r===1)throw r=wl,ga(e,0),os(e,t),Zt(e,tt()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Js(e,Kt,Rn),Zt(e,tt()),null}function fp(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(zo=tt()+500,id&&Ds())}}function ja(e){ps!==null&&ps.tag===0&&!(Se&6)&&xo();var t=Se;Se|=1;var r=br.transition,n=Le;try{if(br.transition=null,Le=1,e)return e()}finally{Le=n,br.transition=r,Se=t,!(Se&6)&&Ds()}}function hp(){rr=ho.current,qe(ho)}function ga(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WN(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(Gm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xu();break;case 3:Fo(),qe(Xt),qe(Ot),rp();break;case 5:tp(n);break;case 4:Fo();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:Xm(n.type._context);break;case 22:case 23:hp()}r=r.return}if(yt=e,ut=e=Es(e.current,null),_t=rr=t,pt=0,wl=null,up=dd=ba=0,Kt=Yi=null,oa!==null){for(t=0;t<oa.length;t++)if(r=oa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}oa=null}return e}function W0(e,t){do{var r=ut;try{if(Qm(),Xc.current=ku,Cu){for(var n=Ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cu=!1}if(wa=0,vt=ft=Ke=null,Gi=!1,vl=0,cp.current=null,r===null||r.return===null){pt=1,wl=t,ut=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=_t,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Nv(i);if(m!==null){m.flags&=-257,Cv(m,i,l,a,t),m.mode&1&&Sv(a,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Sv(a,u,t),mp();break e}c=Error(F(426))}}else if(Ve&&l.mode&1){var b=Nv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Cv(b,i,l,a,t),Km(Uo(c,l));break e}}a=c=Uo(c,l),pt!==4&&(pt=2),Yi===null?Yi=[a]:Yi.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=N0(a,c,t);xv(a,x);break e;case 1:l=c;var v=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(js===null||!js.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=C0(a,l,t);xv(a,j);break e}}a=a.return}while(a!==null)}V0(r)}catch(E){t=E,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function q0(){var e=Ru.current;return Ru.current=ku,e===null?ku:e}function mp(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(ba&268435455)&&!(dd&268435455)||os(yt,_t)}function Ou(e,t){var r=Se;Se|=2;var n=q0();(yt!==e||_t!==t)&&(Rn=null,ga(e,t));do try{mC();break}catch(s){W0(e,s)}while(!0);if(Qm(),Se=r,Ru.current=n,ut!==null)throw Error(F(261));return yt=null,_t=0,pt}function mC(){for(;ut!==null;)H0(ut)}function pC(){for(;ut!==null&&!US();)H0(ut)}function H0(e){var t=K0(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?V0(e):ut=t,cp.current=null}function V0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lC(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ut=null;return}}else if(r=iC(r,t,rr),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);pt===0&&(pt=5)}function Js(e,t,r){var n=Le,s=br.transition;try{br.transition=null,Le=1,gC(e,t,r,n)}finally{br.transition=s,Le=n}return null}function gC(e,t,r,n){do xo();while(ps!==null);if(Se&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(QS(e,a),e===yt&&(ut=yt=null,_t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rc||(Rc=!0,Y0(hu,function(){return xo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=br.transition,br.transition=null;var i=Le;Le=1;var l=Se;Se|=4,cp.current=null,uC(e,r),U0(r,e),DN(bh),pu=!!wh,bh=wh=null,e.current=r,dC(r),zS(),Se=l,Le=i,br.transition=a}else e.current=r;if(Rc&&(Rc=!1,ps=e,Tu=s),a=e.pendingLanes,a===0&&(js=null),qS(r.stateNode),Zt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pu)throw Pu=!1,e=zh,zh=null,e;return Tu&1&&e.tag!==0&&xo(),a=e.pendingLanes,a&1?e===Bh?Qi++:(Qi=0,Bh=e):Qi=0,Ds(),null}function xo(){if(ps!==null){var e=Nw(Tu),t=br.transition,r=Le;try{if(br.transition=null,Le=16>e?16:e,ps===null)var n=!1;else{if(e=ps,ps=null,Tu=0,Se&6)throw Error(F(331));var s=Se;for(Se|=4,G=e.current;G!==null;){var a=G,i=a.child;if(G.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Ki(8,d,a)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var h=d.sibling,m=d.return;if(L0(d),d===u){G=null;break}if(h!==null){h.return=m,G=h;break}G=m}}}var w=a.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}G=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,G=i;else e:for(;G!==null;){if(a=G,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ki(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break e}G=a.return}}var v=e.current;for(G=v;G!==null;){i=G;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,G=g;else e:for(i=v;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ud(9,l)}}catch(E){et(l,l.return,E)}if(l===i){G=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,G=j;break e}G=l.return}}if(Se=s,Ds(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(rd,e)}catch{}n=!0}return n}finally{Le=r,br.transition=t}}return!1}function Uv(e,t,r){t=Uo(r,t),t=N0(e,t,1),e=bs(e,t,1),t=Ut(),e!==null&&(Bl(e,1,t),Zt(e,t))}function et(e,t,r){if(e.tag===3)Uv(e,e,r);else for(;t!==null;){if(t.tag===3){Uv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(js===null||!js.has(n))){e=Uo(r,e),e=C0(t,e,1),t=bs(t,e,1),e=Ut(),t!==null&&(Bl(t,1,e),Zt(t,e));break}}t=t.return}}function vC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(_t&r)===r&&(pt===4||pt===3&&(_t&130023424)===_t&&500>tt()-dp?ga(e,0):up|=r),Zt(e,t)}function G0(e,t){t===0&&(e.mode&1?(t=xc,xc<<=1,!(xc&130023424)&&(xc=4194304)):t=1);var r=Ut();e=zn(e,t),e!==null&&(Bl(e,t,r),Zt(e,r))}function yC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G0(e,r)}function xC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),G0(e,r)}var K0;K0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qt=!1,oC(e,t,r);Qt=!!(e.flags&131072)}else Qt=!1,Ve&&t.flags&1048576&&Jw(t,ju,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zc(e,t),e=t.pendingProps;var s=Do(t,Ot.current);yo(t,r),s=sp(null,t,n,e,s,r);var a=ap();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(n)?(a=!0,wu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zm(t),s.updater=cd,t.stateNode=s,s._reactInternals=t,Ph(t,n,e,r),t=Ah(null,t,n,!0,a,r)):(t.tag=0,Ve&&a&&Vm(t),Lt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bC(n),e=Ir(n,e),s){case 0:t=Oh(null,t,n,e,r);break e;case 1:t=Pv(null,t,n,e,r);break e;case 11:t=kv(null,t,n,e,r);break e;case 14:t=Rv(null,t,n,Ir(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Oh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Pv(e,t,n,s,r);case 3:e:{if(T0(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,s=a.element,s0(e,t),Su(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Uo(Error(F(423)),t),t=Tv(e,t,n,r,s);break e}else if(n!==s){s=Uo(Error(F(424)),t),t=Tv(e,t,n,r,s);break e}else for(ar=ws(t.stateNode.containerInfo.firstChild),or=t,Ve=!0,Br=null,r=r0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lo(),n===s){t=Bn(e,t,r);break e}Lt(e,t,n,r)}t=t.child}return t;case 5:return a0(t),e===null&&Ch(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,jh(n,s)?i=null:a!==null&&jh(n,a)&&(t.flags|=32),P0(e,t),Lt(e,t,i,r),t.child;case 6:return e===null&&Ch(t),null;case 13:return O0(e,t,r);case 4:return ep(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):Lt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),kv(e,t,n,s,r);case 7:return Lt(e,t,t.pendingProps,r),t.child;case 8:return Lt(e,t,t.pendingProps.children,r),t.child;case 12:return Lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,ze(_u,n._currentValue),n._currentValue=i,a!==null)if(Hr(a.value,i)){if(a.children===s.children&&!Xt.current){t=Bn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=In(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),kh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(F(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),kh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Lt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yo(t,r),s=Er(s),n=n(s),t.flags|=1,Lt(e,t,n,r),t.child;case 14:return n=t.type,s=Ir(n,t.pendingProps),s=Ir(n.type,s),Rv(e,t,n,s,r);case 15:return k0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ir(n,s),Zc(e,t),t.tag=1,Jt(n)?(e=!0,wu(t)):e=!1,yo(t,r),S0(t,n,s),Ph(t,n,s,r),Ah(null,t,n,!0,e,r);case 19:return A0(e,t,r);case 22:return R0(e,t,r)}throw Error(F(156,t.tag))};function Y0(e,t){return jw(e,t)}function wC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,r,n){return new wC(e,t,r,n)}function pp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bC(e){if(typeof e=="function")return pp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mm)return 11;if(e===Im)return 14}return 2}function Es(e,t){var r=e.alternate;return r===null?(r=wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ru(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")pp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ro:return va(r.children,s,a,t);case Am:i=8,s|=8;break;case eh:return e=wr(12,r,t,s|2),e.elementType=eh,e.lanes=a,e;case th:return e=wr(13,r,t,s),e.elementType=th,e.lanes=a,e;case rh:return e=wr(19,r,t,s),e.elementType=rh,e.lanes=a,e;case aw:return fd(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nw:i=10;break e;case sw:i=9;break e;case Mm:i=11;break e;case Im:i=14;break e;case ns:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=wr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function va(e,t,r,n){return e=wr(7,e,n,t),e.lanes=r,e}function fd(e,t,r,n){return e=wr(22,e,n,t),e.elementType=aw,e.lanes=r,e.stateNode={isHidden:!1},e}function jf(e,t,r){return e=wr(6,e,null,t),e.lanes=r,e}function _f(e,t,r){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gp(e,t,r,n,s,a,i,l,c){return e=new jC(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zm(a),e}function _C(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Q0(e){if(!e)return Rs;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Jt(r))return Qw(e,r,t)}return t}function X0(e,t,r,n,s,a,i,l,c){return e=gp(r,n,!0,e,s,a,i,l,c),e.context=Q0(null),r=e.current,n=Ut(),s=_s(r),a=In(n,s),a.callback=t??null,bs(r,a,s),e.current.lanes=s,Bl(e,s,n),Zt(e,n),e}function hd(e,t,r,n){var s=t.current,a=Ut(),i=_s(s);return r=Q0(r),t.context===null?t.context=r:t.pendingContext=r,t=In(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bs(s,t,i),e!==null&&(qr(e,s,i,a),Qc(e,s,i)),i}function Au(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vp(e,t){zv(e,t),(e=e.alternate)&&zv(e,t)}function EC(){return null}var J0=typeof reportError=="function"?reportError:function(e){console.error(e)};function yp(e){this._internalRoot=e}md.prototype.render=yp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));hd(e,t,null,null)};md.prototype.unmount=yp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ja(function(){hd(null,e,null,null)}),t[Un]=null}};function md(e){this._internalRoot=e}md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<as.length&&t!==0&&t<as[r].priority;r++);as.splice(r,0,e),r===0&&Tw(e)}};function xp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function SC(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Au(i);a.call(u)}}var i=X0(t,n,e,0,null,!1,!1,"",Bv);return e._reactRootContainer=i,e[Un]=i.current,fl(e.nodeType===8?e.parentNode:e),ja(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Au(c);l.call(u)}}var c=gp(e,0,!1,null,null,!1,!1,"",Bv);return e._reactRootContainer=c,e[Un]=c.current,fl(e.nodeType===8?e.parentNode:e),ja(function(){hd(t,c,r,n)}),c}function gd(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Au(i);l.call(c)}}hd(t,i,e,s)}else i=SC(r,t,e,s,n);return Au(i)}Cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Li(t.pendingLanes);r!==0&&($m(t,r|1),Zt(t,tt()),!(Se&6)&&(zo=tt()+500,Ds()))}break;case 13:ja(function(){var n=zn(e,1);if(n!==null){var s=Ut();qr(n,e,1,s)}}),vp(e,1)}};Fm=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=Ut();qr(t,e,134217728,r)}vp(e,134217728)}};kw=function(e){if(e.tag===13){var t=_s(e),r=zn(e,t);if(r!==null){var n=Ut();qr(r,e,t,n)}vp(e,t)}};Rw=function(){return Le};Pw=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}};fh=function(e,t,r){switch(t){case"input":if(ah(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=od(n);if(!s)throw Error(F(90));iw(n),ah(n,s)}}}break;case"textarea":cw(e,r);break;case"select":t=r.value,t!=null&&mo(e,!!r.multiple,t,!1)}};gw=fp;vw=ja;var NC={usingClientEntryPoint:!1,Events:[ql,oo,od,mw,pw,fp]},Si={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CC={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ww(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{rd=Pc.inject(CC),hn=Pc}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(t))throw Error(F(200));return _C(e,t,null,r)};ur.createRoot=function(e,t){if(!xp(e))throw Error(F(299));var r=!1,n="",s=J0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gp(e,1,!1,null,null,r,!1,n,s),e[Un]=t.current,fl(e.nodeType===8?e.parentNode:e),new yp(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=ww(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return ja(e)};ur.hydrate=function(e,t,r){if(!pd(t))throw Error(F(200));return gd(null,e,t,!0,r)};ur.hydrateRoot=function(e,t,r){if(!xp(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=J0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=X0(t,null,e,1,r??null,s,!1,a,i),e[Un]=t.current,fl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new md(t)};ur.render=function(e,t,r){if(!pd(t))throw Error(F(200));return gd(null,e,t,!1,r)};ur.unmountComponentAtNode=function(e){if(!pd(e))throw Error(F(40));return e._reactRootContainer?(ja(function(){gd(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};ur.unstable_batchedUpdates=fp;ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pd(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return gd(e,t,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function Z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z0)}catch(e){console.error(e)}}Z0(),Zx.exports=ur;var Vl=Zx.exports;const wp=zx(Vl),kC=Ux({__proto__:null,default:wp},[Vl]);var eb,Wv=Vl;eb=Wv.createRoot,Wv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He.apply(this,arguments)}var at;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(at||(at={}));const qv="popstate";function RC(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return bl("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:_a(s)}return TC(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PC(){return Math.random().toString(36).substr(2,8)}function Hv(e,t){return{usr:e.state,key:e.key,idx:t}}function bl(e,t,r,n){return r===void 0&&(r=null),He({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:r,key:t&&t.key||n||PC()})}function _a(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ls(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function TC(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=at.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(He({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=at.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:x})}function h(b,x){l=at.Push;let v=bl(y.location,b,x);u=d()+1;let g=Hv(v,u),j=y.createHref(v);try{i.pushState(g,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function m(b,x){l=at.Replace;let v=bl(y.location,b,x);u=d();let g=Hv(v,u),j=y.createHref(v);i.replaceState(g,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function w(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:_a(b);return v=v.replace(/ $/,"%20"),be(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(qv,f),c=b,()=>{s.removeEventListener(qv,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(b){return i.go(b)}};return y}var Me;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Me||(Me={}));const OC=new Set(["lazy","caseSensitive","path","id","index","children"]);function AC(e){return e.index===!0}function Mu(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((s,a)=>{let i=[...r,String(a)],l=typeof s.id=="string"?s.id:i.join("-");if(be(s.index!==!0||!s.children,"Cannot specify children on an index route"),be(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),AC(s)){let c=He({},s,t(s),{id:l});return n[l]=c,c}else{let c=He({},s,t(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=Mu(s.children,t,i,n)),c}})}function ta(e,t,r){return r===void 0&&(r="/"),nu(e,t,r,!1)}function nu(e,t,r,n){let s=typeof t=="string"?Ls(t):t,a=ti(s.pathname||"/",r);if(a==null)return null;let i=tb(e);IC(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=VC(a);l=qC(i[c],u,n)}return l}function MC(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],handle:r.handle}}function tb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Dn([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(be(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tb(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:BC(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of rb(a.path))s(a,i,c)}),t}function rb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=rb(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DC=/^:[\w-]+$/,LC=3,$C=2,FC=1,UC=10,zC=-2,Vv=e=>e==="*";function BC(e,t){let r=e.split("/"),n=r.length;return r.some(Vv)&&(n+=zC),t&&(n+=$C),r.filter(s=>!Vv(s)).reduce((s,a)=>s+(DC.test(a)?LC:a===""?FC:UC),n)}function WC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function qC(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Gv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Gv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Dn([a,f.pathname]),pathnameBase:YC(Dn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Dn([a,f.pathnameBase]))}return i}function Gv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=HC(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=l[f]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[f];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function HC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function VC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ti(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function GC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ls(e):e;return{pathname:r?r.startsWith("/")?r:KC(r,t):t,search:QC(n),hash:XC(s)}}function KC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ef(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bp(e,t){let r=nb(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jp(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ls(e):(s=He({},e),be(!s.pathname||!s.pathname.includes("?"),Ef("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),Ef("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),Ef("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=GC(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),YC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Iu{constructor(t,r,n,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function jl(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sb=["post","put","patch","delete"],JC=new Set(sb),ZC=["get",...sb],ek=new Set(ZC),tk=new Set([301,302,303,307,308]),rk=new Set([307,308]),Sf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ni={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sk=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ab="remix-router-transitions";function ak(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;be(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let S=e.detectErrorBoundary;s=k=>({hasErrorBoundary:S(k)})}else s=sk;let a={},i=Mu(e.routes,s,void 0,a),l,c=e.basename||"/",u=e.dataStrategy||ck,d=e.patchRoutesOnNavigation,f=He({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,m=new Set,w=null,y=null,b=null,x=e.hydrationData!=null,v=ta(i,e.history.location,c),g=!1,j=null;if(v==null&&!d){let S=Vt(404,{pathname:e.history.location.pathname}),{matches:k,route:O}=sy(i);v=k,j={[O.id]:S}}v&&!e.hydrationData&&Oe(v,i,e.history.location.pathname).active&&(v=null);let E;if(v)if(v.some(S=>S.route.lazy))E=!1;else if(!v.some(S=>S.route.loader))E=!0;else if(f.v7_partialHydration){let S=e.hydrationData?e.hydrationData.loaderData:null,k=e.hydrationData?e.hydrationData.errors:null;if(k){let O=v.findIndex(L=>k[L.route.id]!==void 0);E=v.slice(0,O+1).every(L=>!Vh(L.route,S,k))}else E=v.every(O=>!Vh(O.route,S,k))}else E=e.hydrationData!=null;else if(E=!1,v=[],f.v7_partialHydration){let S=Oe(null,i,e.history.location.pathname);S.active&&S.matches&&(g=!0,v=S.matches)}let N,_={historyAction:e.history.action,location:e.history.location,matches:v,initialized:E,navigation:Sf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},C=at.Pop,M=!1,R,B=!1,D=new Map,W=null,K=!1,ue=!1,ee=[],se=new Set,P=new Map,T=0,$=-1,Q=new Map,H=new Set,fe=new Map,he=new Map,je=new Set,Pe=new Map,le=new Map,qt;function nt(){if(h=e.history.listen(S=>{let{action:k,location:O,delta:L}=S;if(qt){qt(),qt=void 0;return}Bo(le.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=hi({currentLocation:_.location,nextLocation:O,historyAction:k});if(V&&L!=null){let re=new Promise(ae=>{qt=ae});e.history.go(L*-1),Vs(V,{state:"blocked",location:O,proceed(){Vs(V,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),re.then(()=>e.history.go(L))},reset(){let ae=new Map(_.blockers);ae.set(V,Ni),Qe({blockers:ae})}});return}return pr(k,O)}),r){_k(t,D);let S=()=>Ek(t,D);t.addEventListener("pagehide",S),W=()=>t.removeEventListener("pagehide",S)}return _.initialized||pr(at.Pop,_.location,{initialHydration:!0}),N}function mr(){h&&h(),W&&W(),m.clear(),R&&R.abort(),_.fetchers.forEach((S,k)=>Ma(k)),_.blockers.forEach((S,k)=>cc(k))}function Yr(S){return m.add(S),()=>m.delete(S)}function Qe(S,k){k===void 0&&(k={}),_=He({},_,S);let O=[],L=[];f.v7_fetcherPersist&&_.fetchers.forEach((V,re)=>{V.state==="idle"&&(je.has(re)?L.push(re):O.push(re))}),je.forEach(V=>{!_.fetchers.has(V)&&!P.has(V)&&L.push(V)}),[...m].forEach(V=>V(_,{deletedFetchers:L,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),f.v7_fetcherPersist?(O.forEach(V=>_.fetchers.delete(V)),L.forEach(V=>Ma(V))):L.forEach(V=>je.delete(V))}function Mt(S,k,O){var L,V;let{flushSync:re}=O===void 0?{}:O,ae=_.actionData!=null&&_.navigation.formMethod!=null&&Ur(_.navigation.formMethod)&&_.navigation.state==="loading"&&((L=S.state)==null?void 0:L._isRedirect)!==!0,X;k.actionData?Object.keys(k.actionData).length>0?X=k.actionData:X=null:ae?X=_.actionData:X=null;let J=k.loaderData?ry(_.loaderData,k.loaderData,k.matches||[],k.errors):_.loaderData,Y=_.blockers;Y.size>0&&(Y=new Map(Y),Y.forEach((Ee,wt)=>Y.set(wt,Ni)));let te=M===!0||_.navigation.formMethod!=null&&Ur(_.navigation.formMethod)&&((V=S.state)==null?void 0:V._isRedirect)!==!0;l&&(i=l,l=void 0),K||C===at.Pop||(C===at.Push?e.history.push(S,S.state):C===at.Replace&&e.history.replace(S,S.state));let ve;if(C===at.Pop){let Ee=D.get(_.location.pathname);Ee&&Ee.has(S.pathname)?ve={currentLocation:_.location,nextLocation:S}:D.has(S.pathname)&&(ve={currentLocation:S,nextLocation:_.location})}else if(B){let Ee=D.get(_.location.pathname);Ee?Ee.add(S.pathname):(Ee=new Set([S.pathname]),D.set(_.location.pathname,Ee)),ve={currentLocation:_.location,nextLocation:S}}Qe(He({},k,{actionData:X,loaderData:J,historyAction:C,location:S,initialized:!0,navigation:Sf,revalidation:"idle",restoreScrollPosition:Ce(S,k.matches||_.matches),preventScrollReset:te,blockers:Y}),{viewTransitionOpts:ve,flushSync:re===!0}),C=at.Pop,M=!1,B=!1,K=!1,ue=!1,ee=[]}async function zs(S,k){if(typeof S=="number"){e.history.go(S);return}let O=Hh(_.location,_.matches,c,f.v7_prependBasename,S,f.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:L,submission:V,error:re}=Kv(f.v7_normalizeFormMethod,!1,O,k),ae=_.location,X=bl(_.location,L,k&&k.state);X=He({},X,e.history.encodeLocation(X));let J=k&&k.replace!=null?k.replace:void 0,Y=at.Push;J===!0?Y=at.Replace:J===!1||V!=null&&Ur(V.formMethod)&&V.formAction===_.location.pathname+_.location.search&&(Y=at.Replace);let te=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,ve=(k&&k.flushSync)===!0,Ee=hi({currentLocation:ae,nextLocation:X,historyAction:Y});if(Ee){Vs(Ee,{state:"blocked",location:X,proceed(){Vs(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),zs(S,k)},reset(){let wt=new Map(_.blockers);wt.set(Ee,Ni),Qe({blockers:wt})}});return}return await pr(Y,X,{submission:V,pendingError:re,preventScrollReset:te,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:ve})}function ui(){if(Qr(),Qe({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){pr(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}pr(C||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:B===!0})}}async function pr(S,k,O){R&&R.abort(),R=null,C=S,K=(O&&O.startUninterruptedRevalidation)===!0,ce(_.location,_.matches),M=(O&&O.preventScrollReset)===!0,B=(O&&O.enableViewTransition)===!0;let L=l||i,V=O&&O.overrideNavigation,re=O!=null&&O.initialHydration&&_.matches&&_.matches.length>0&&!g?_.matches:ta(L,k,c),ae=(O&&O.flushSync)===!0;if(re&&_.initialized&&!ue&&pk(_.location,k)&&!(O&&O.submission&&Ur(O.submission.formMethod))){Mt(k,{matches:re},{flushSync:ae});return}let X=Oe(re,L,k.pathname);if(X.active&&X.matches&&(re=X.matches),!re){let{error:Fe,notFoundMatches:ke,route:Xe}=mi(k.pathname);Mt(k,{matches:ke,loaderData:{},errors:{[Xe.id]:Fe}},{flushSync:ae});return}R=new AbortController;let J=Fa(e.history,k,R.signal,O&&O.submission),Y;if(O&&O.pendingError)Y=[ra(re).route.id,{type:Me.error,error:O.pendingError}];else if(O&&O.submission&&Ur(O.submission.formMethod)){let Fe=await di(J,k,O.submission,re,X.active,{replace:O.replace,flushSync:ae});if(Fe.shortCircuited)return;if(Fe.pendingActionResult){let[ke,Xe]=Fe.pendingActionResult;if(nr(Xe)&&jl(Xe.error)&&Xe.error.status===404){R=null,Mt(k,{matches:Fe.matches,loaderData:{},errors:{[ke]:Xe.error}});return}}re=Fe.matches||re,Y=Fe.pendingActionResult,V=Nf(k,O.submission),ae=!1,X.active=!1,J=Fa(e.history,J.url,J.signal)}let{shortCircuited:te,matches:ve,loaderData:Ee,errors:wt}=await Bs(J,k,re,X.active,V,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ae,Y);te||(R=null,Mt(k,He({matches:ve||re},ny(Y),{loaderData:Ee,errors:wt})))}async function di(S,k,O,L,V,re){re===void 0&&(re={}),Qr();let ae=bk(k,O);if(Qe({navigation:ae},{flushSync:re.flushSync===!0}),V){let Y=await Nt(L,k.pathname,S.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){let te=ra(Y.partialMatches).route.id;return{matches:Y.partialMatches,pendingActionResult:[te,{type:Me.error,error:Y.error}]}}else if(Y.matches)L=Y.matches;else{let{notFoundMatches:te,error:ve,route:Ee}=mi(k.pathname);return{matches:te,pendingActionResult:[Ee.id,{type:Me.error,error:ve}]}}}let X,J=Fi(L,k);if(!J.route.action&&!J.route.lazy)X={type:Me.error,error:Vt(405,{method:S.method,pathname:k.pathname,routeId:J.route.id})};else if(X=(await qs("action",_,S,[J],L,null))[J.route.id],S.signal.aborted)return{shortCircuited:!0};if(la(X)){let Y;return re&&re.replace!=null?Y=re.replace:Y=Zv(X.response.headers.get("Location"),new URL(S.url),c)===_.location.pathname+_.location.search,await jn(S,X,!0,{submission:O,replace:Y}),{shortCircuited:!0}}if(gs(X))throw Vt(400,{type:"defer-action"});if(nr(X)){let Y=ra(L,J.route.id);return(re&&re.replace)!==!0&&(C=at.Push),{matches:L,pendingActionResult:[Y.route.id,X]}}return{matches:L,pendingActionResult:[J.route.id,X]}}async function Bs(S,k,O,L,V,re,ae,X,J,Y,te){let ve=V||Nf(k,re),Ee=re||ae||oy(ve),wt=!K&&(!f.v7_partialHydration||!J);if(L){if(wt){let Je=wn(te);Qe(He({navigation:ve},Je!==void 0?{actionData:Je}:{}),{flushSync:Y})}let Ne=await Nt(O,k.pathname,S.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let Je=ra(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,loaderData:{},errors:{[Je]:Ne.error}}}else if(Ne.matches)O=Ne.matches;else{let{error:Je,notFoundMatches:Da,route:vi}=mi(k.pathname);return{matches:Da,loaderData:{},errors:{[vi.id]:Je}}}}let Fe=l||i,[ke,Xe]=Qv(e.history,_,O,Ee,k,f.v7_partialHydration&&J===!0,f.v7_skipActionErrorRevalidation,ue,ee,se,je,fe,H,Fe,c,te);if(Gs(Ne=>!(O&&O.some(Je=>Je.route.id===Ne))||ke&&ke.some(Je=>Je.route.id===Ne)),$=++T,ke.length===0&&Xe.length===0){let Ne=fi();return Mt(k,He({matches:O,loaderData:{},errors:te&&nr(te[1])?{[te[0]]:te[1].error}:null},ny(te),Ne?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Y}),{shortCircuited:!0}}if(wt){let Ne={};if(!L){Ne.navigation=ve;let Je=wn(te);Je!==void 0&&(Ne.actionData=Je)}Xe.length>0&&(Ne.fetchers=oc(Xe)),Qe(Ne,{flushSync:Y})}Xe.forEach(Ne=>{gr(Ne.key),Ne.controller&&P.set(Ne.key,Ne.controller)});let Ia=()=>Xe.forEach(Ne=>gr(Ne.key));R&&R.signal.addEventListener("abort",Ia);let{loaderResults:pi,fetcherResults:Sn}=await It(_,O,ke,Xe,S);if(S.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Ia),Xe.forEach(Ne=>P.delete(Ne.key));let en=Tc(pi);if(en)return await jn(S,en.result,!0,{replace:X}),{shortCircuited:!0};if(en=Tc(Sn),en)return H.add(en.key),await jn(S,en.result,!0,{replace:X}),{shortCircuited:!0};let{loaderData:Yd,errors:gi}=ty(_,O,pi,te,Xe,Sn,Pe);Pe.forEach((Ne,Je)=>{Ne.subscribe(Da=>{(Da||Ne.done)&&Pe.delete(Je)})}),f.v7_partialHydration&&J&&_.errors&&(gi=He({},_.errors,gi));let Ks=fi(),dc=En($),fc=Ks||dc||Xe.length>0;return He({matches:O,loaderData:Yd,errors:gi},fc?{fetchers:new Map(_.fetchers)}:{})}function wn(S){if(S&&!nr(S[1]))return{[S[0]]:S[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function oc(S){return S.forEach(k=>{let O=_.fetchers.get(k.key),L=Ci(void 0,O?O.data:void 0);_.fetchers.set(k.key,L)}),new Map(_.fetchers)}function Ws(S,k,O,L){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");gr(S);let V=(L&&L.flushSync)===!0,re=l||i,ae=Hh(_.location,_.matches,c,f.v7_prependBasename,O,f.v7_relativeSplatPath,k,L==null?void 0:L.relative),X=ta(re,ae,c),J=Oe(X,re,ae);if(J.active&&J.matches&&(X=J.matches),!X){Tr(S,k,Vt(404,{pathname:ae}),{flushSync:V});return}let{path:Y,submission:te,error:ve}=Kv(f.v7_normalizeFormMethod,!0,ae,L);if(ve){Tr(S,k,ve,{flushSync:V});return}let Ee=Fi(X,Y),wt=(L&&L.preventScrollReset)===!0;if(te&&Ur(te.formMethod)){ic(S,k,Y,Ee,X,J.active,V,wt,te);return}fe.set(S,{routeId:k,path:Y}),bn(S,k,Y,Ee,X,J.active,V,wt,te)}async function ic(S,k,O,L,V,re,ae,X,J){Qr(),fe.delete(S);function Y(st){if(!st.route.action&&!st.route.lazy){let La=Vt(405,{method:J.formMethod,pathname:O,routeId:k});return Tr(S,k,La,{flushSync:ae}),!0}return!1}if(!re&&Y(L))return;let te=_.fetchers.get(S);Xr(S,jk(J,te),{flushSync:ae});let ve=new AbortController,Ee=Fa(e.history,O,ve.signal,J);if(re){let st=await Nt(V,new URL(Ee.url).pathname,Ee.signal,S);if(st.type==="aborted")return;if(st.type==="error"){Tr(S,k,st.error,{flushSync:ae});return}else if(st.matches){if(V=st.matches,L=Fi(V,O),Y(L))return}else{Tr(S,k,Vt(404,{pathname:O}),{flushSync:ae});return}}P.set(S,ve);let wt=T,ke=(await qs("action",_,Ee,[L],V,S))[L.route.id];if(Ee.signal.aborted){P.get(S)===ve&&P.delete(S);return}if(f.v7_fetcherPersist&&je.has(S)){if(la(ke)||nr(ke)){Xr(S,Zn(void 0));return}}else{if(la(ke))if(P.delete(S),$>wt){Xr(S,Zn(void 0));return}else return H.add(S),Xr(S,Ci(J)),jn(Ee,ke,!1,{fetcherSubmission:J,preventScrollReset:X});if(nr(ke)){Tr(S,k,ke.error);return}}if(gs(ke))throw Vt(400,{type:"defer-action"});let Xe=_.navigation.location||_.location,Ia=Fa(e.history,Xe,ve.signal),pi=l||i,Sn=_.navigation.state!=="idle"?ta(pi,_.navigation.location,c):_.matches;be(Sn,"Didn't find any matches after fetcher action");let en=++T;Q.set(S,en);let Yd=Ci(J,ke.data);_.fetchers.set(S,Yd);let[gi,Ks]=Qv(e.history,_,Sn,J,Xe,!1,f.v7_skipActionErrorRevalidation,ue,ee,se,je,fe,H,pi,c,[L.route.id,ke]);Ks.filter(st=>st.key!==S).forEach(st=>{let La=st.key,Ag=_.fetchers.get(La),tS=Ci(void 0,Ag?Ag.data:void 0);_.fetchers.set(La,tS),gr(La),st.controller&&P.set(La,st.controller)}),Qe({fetchers:new Map(_.fetchers)});let dc=()=>Ks.forEach(st=>gr(st.key));ve.signal.addEventListener("abort",dc);let{loaderResults:fc,fetcherResults:Ne}=await It(_,Sn,gi,Ks,Ia);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",dc),Q.delete(S),P.delete(S),Ks.forEach(st=>P.delete(st.key));let Je=Tc(fc);if(Je)return jn(Ia,Je.result,!1,{preventScrollReset:X});if(Je=Tc(Ne),Je)return H.add(Je.key),jn(Ia,Je.result,!1,{preventScrollReset:X});let{loaderData:Da,errors:vi}=ty(_,Sn,fc,void 0,Ks,Ne,Pe);if(_.fetchers.has(S)){let st=Zn(ke.data);_.fetchers.set(S,st)}En(en),_.navigation.state==="loading"&&en>$?(be(C,"Expected pending action"),R&&R.abort(),Mt(_.navigation.location,{matches:Sn,loaderData:Da,errors:vi,fetchers:new Map(_.fetchers)})):(Qe({errors:vi,loaderData:ry(_.loaderData,Da,Sn,vi),fetchers:new Map(_.fetchers)}),ue=!1)}async function bn(S,k,O,L,V,re,ae,X,J){let Y=_.fetchers.get(S);Xr(S,Ci(J,Y?Y.data:void 0),{flushSync:ae});let te=new AbortController,ve=Fa(e.history,O,te.signal);if(re){let ke=await Nt(V,new URL(ve.url).pathname,ve.signal,S);if(ke.type==="aborted")return;if(ke.type==="error"){Tr(S,k,ke.error,{flushSync:ae});return}else if(ke.matches)V=ke.matches,L=Fi(V,O);else{Tr(S,k,Vt(404,{pathname:O}),{flushSync:ae});return}}P.set(S,te);let Ee=T,Fe=(await qs("loader",_,ve,[L],V,S))[L.route.id];if(gs(Fe)&&(Fe=await Ep(Fe,ve.signal,!0)||Fe),P.get(S)===te&&P.delete(S),!ve.signal.aborted){if(je.has(S)){Xr(S,Zn(void 0));return}if(la(Fe))if($>Ee){Xr(S,Zn(void 0));return}else{H.add(S),await jn(ve,Fe,!1,{preventScrollReset:X});return}if(nr(Fe)){Tr(S,k,Fe.error);return}be(!gs(Fe),"Unhandled fetcher deferred data"),Xr(S,Zn(Fe.data))}}async function jn(S,k,O,L){let{submission:V,fetcherSubmission:re,preventScrollReset:ae,replace:X}=L===void 0?{}:L;k.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let J=k.response.headers.get("Location");be(J,"Expected a Location header on the redirect Response"),J=Zv(J,new URL(S.url),c);let Y=bl(_.location,J,{_isRedirect:!0});if(r){let ke=!1;if(k.response.headers.has("X-Remix-Reload-Document"))ke=!0;else if(_p.test(J)){const Xe=e.history.createURL(J);ke=Xe.origin!==t.location.origin||ti(Xe.pathname,c)==null}if(ke){X?t.location.replace(J):t.location.assign(J);return}}R=null;let te=X===!0||k.response.headers.has("X-Remix-Replace")?at.Replace:at.Push,{formMethod:ve,formAction:Ee,formEncType:wt}=_.navigation;!V&&!re&&ve&&Ee&&wt&&(V=oy(_.navigation));let Fe=V||re;if(rk.has(k.response.status)&&Fe&&Ur(Fe.formMethod))await pr(te,Y,{submission:He({},Fe,{formAction:J}),preventScrollReset:ae||M,enableViewTransition:O?B:void 0});else{let ke=Nf(Y,V);await pr(te,Y,{overrideNavigation:ke,fetcherSubmission:re,preventScrollReset:ae||M,enableViewTransition:O?B:void 0})}}async function qs(S,k,O,L,V,re){let ae,X={};try{ae=await uk(u,S,k,O,L,V,re,a,s)}catch(J){return L.forEach(Y=>{X[Y.route.id]={type:Me.error,error:J}}),X}for(let[J,Y]of Object.entries(ae))if(gk(Y)){let te=Y.result;X[J]={type:Me.redirect,response:hk(te,O,J,V,c,f.v7_relativeSplatPath)}}else X[J]=await fk(Y);return X}async function It(S,k,O,L,V){let re=S.matches,ae=qs("loader",S,V,O,k,null),X=Promise.all(L.map(async te=>{if(te.matches&&te.match&&te.controller){let Ee=(await qs("loader",S,Fa(e.history,te.path,te.controller.signal),[te.match],te.matches,te.key))[te.match.route.id];return{[te.key]:Ee}}else return Promise.resolve({[te.key]:{type:Me.error,error:Vt(404,{pathname:te.path})}})})),J=await ae,Y=(await X).reduce((te,ve)=>Object.assign(te,ve),{});return await Promise.all([xk(k,J,V.signal,re,S.loaderData),wk(k,Y,L)]),{loaderResults:J,fetcherResults:Y}}function Qr(){ue=!0,ee.push(...Gs()),fe.forEach((S,k)=>{P.has(k)&&se.add(k),gr(k)})}function Xr(S,k,O){O===void 0&&(O={}),_.fetchers.set(S,k),Qe({fetchers:new Map(_.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Tr(S,k,O,L){L===void 0&&(L={});let V=ra(_.matches,k);Ma(S),Qe({errors:{[V.route.id]:O},fetchers:new Map(_.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Hs(S){return he.set(S,(he.get(S)||0)+1),je.has(S)&&je.delete(S),_.fetchers.get(S)||nk}function Ma(S){let k=_.fetchers.get(S);P.has(S)&&!(k&&k.state==="loading"&&Q.has(S))&&gr(S),fe.delete(S),Q.delete(S),H.delete(S),f.v7_fetcherPersist&&je.delete(S),se.delete(S),_.fetchers.delete(S)}function lc(S){let k=(he.get(S)||0)-1;k<=0?(he.delete(S),je.add(S),f.v7_fetcherPersist||Ma(S)):he.set(S,k),Qe({fetchers:new Map(_.fetchers)})}function gr(S){let k=P.get(S);k&&(k.abort(),P.delete(S))}function _n(S){for(let k of S){let O=Hs(k),L=Zn(O.data);_.fetchers.set(k,L)}}function fi(){let S=[],k=!1;for(let O of H){let L=_.fetchers.get(O);be(L,"Expected fetcher: "+O),L.state==="loading"&&(H.delete(O),S.push(O),k=!0)}return _n(S),k}function En(S){let k=[];for(let[O,L]of Q)if(L<S){let V=_.fetchers.get(O);be(V,"Expected fetcher: "+O),V.state==="loading"&&(gr(O),Q.delete(O),k.push(O))}return _n(k),k.length>0}function Kd(S,k){let O=_.blockers.get(S)||Ni;return le.get(S)!==k&&le.set(S,k),O}function cc(S){_.blockers.delete(S),le.delete(S)}function Vs(S,k){let O=_.blockers.get(S)||Ni;be(O.state==="unblocked"&&k.state==="blocked"||O.state==="blocked"&&k.state==="blocked"||O.state==="blocked"&&k.state==="proceeding"||O.state==="blocked"&&k.state==="unblocked"||O.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+k.state);let L=new Map(_.blockers);L.set(S,k),Qe({blockers:L})}function hi(S){let{currentLocation:k,nextLocation:O,historyAction:L}=S;if(le.size===0)return;le.size>1&&Bo(!1,"A router only supports one blocker at a time");let V=Array.from(le.entries()),[re,ae]=V[V.length-1],X=_.blockers.get(re);if(!(X&&X.state==="proceeding")&&ae({currentLocation:k,nextLocation:O,historyAction:L}))return re}function mi(S){let k=Vt(404,{pathname:S}),O=l||i,{matches:L,route:V}=sy(O);return Gs(),{notFoundMatches:L,route:V,error:k}}function Gs(S){let k=[];return Pe.forEach((O,L)=>{(!S||S(L))&&(O.cancel(),k.push(L),Pe.delete(L))}),k}function Jr(S,k,O){if(w=S,b=k,y=O||null,!x&&_.navigation===Sf){x=!0;let L=Ce(_.location,_.matches);L!=null&&Qe({restoreScrollPosition:L})}return()=>{w=null,b=null,y=null}}function uc(S,k){return y&&y(S,k.map(L=>MC(L,_.loaderData)))||S.key}function ce(S,k){if(w&&b){let O=uc(S,k);w[O]=b()}}function Ce(S,k){if(w){let O=uc(S,k),L=w[O];if(typeof L=="number")return L}return null}function Oe(S,k,O){if(d)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:nu(k,O,c,!0)}}else return{active:!0,matches:nu(k,O,c,!0)||[]};return{active:!1,matches:null}}async function Nt(S,k,O,L){if(!d)return{type:"success",matches:S};let V=S;for(;;){let re=l==null,ae=l||i,X=a;try{await d({signal:O,path:k,matches:V,fetcherKey:L,patch:(te,ve)=>{O.aborted||Jv(te,ve,ae,X,s)}})}catch(te){return{type:"error",error:te,partialMatches:V}}finally{re&&!O.aborted&&(i=[...i])}if(O.aborted)return{type:"aborted"};let J=ta(ae,k,c);if(J)return{type:"success",matches:J};let Y=nu(ae,k,c,!0);if(!Y||V.length===Y.length&&V.every((te,ve)=>te.route.id===Y[ve].route.id))return{type:"success",matches:null};V=Y}}function er(S){a={},l=Mu(S,s,void 0,a)}function Zr(S,k){let O=l==null;Jv(S,k,l||i,a,s),O&&(i=[...i],Qe({}))}return N={get basename(){return c},get future(){return f},get state(){return _},get routes(){return i},get window(){return t},initialize:nt,subscribe:Yr,enableScrollRestoration:Jr,navigate:zs,fetch:Ws,revalidate:ui,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:Hs,deleteFetcher:lc,dispose:mr,getBlocker:Kd,deleteBlocker:cc,patchRoutes:Zr,_internalFetchControllers:P,_internalActiveDeferreds:Pe,_internalSetRoutes:er},N}function ok(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Hh(e,t,r,n,s,a,i,l){let c,u;if(i){c=[];for(let f of t)if(c.push(f),f.route.id===i){u=f;break}}else c=t,u=t[t.length-1];let d=jp(s||".",bp(c,a),ti(e.pathname,r)||e.pathname,l==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&u){let f=Sp(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(d.search),m=h.getAll("index");h.delete("index"),m.filter(y=>y).forEach(y=>h.append("index",y));let w=h.toString();d.search=w?"?"+w:""}}return n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Dn([r,d.pathname])),_a(d)}function Kv(e,t,r,n){if(!n||!ok(n))return{path:r};if(n.formMethod&&!yk(n.formMethod))return{path:r,error:Vt(405,{method:n.formMethod})};let s=()=>({path:r,error:Vt(400,{type:"invalid-body"})}),a=n.formMethod||"get",i=e?a.toUpperCase():a.toLowerCase(),l=lb(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ur(i))return s();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,w)=>{let[y,b]=w;return""+m+y+"="+b+`
`},""):String(n.body);return{path:r,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Ur(i))return s();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}be(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=Gh(n.formData),u=n.formData;else if(n.body instanceof FormData)c=Gh(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=ey(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=ey(c)}catch{return s()}let d={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ur(d.formMethod))return{path:r,submission:d};let f=Ls(r);return t&&f.search&&Sp(f.search)&&c.append("index",""),f.search="?"+c,{path:_a(f),submission:d}}function Yv(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(s=>s.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function Qv(e,t,r,n,s,a,i,l,c,u,d,f,h,m,w,y){let b=y?nr(y[1])?y[1].error:y[1].data:void 0,x=e.createURL(t.location),v=e.createURL(s),g=r;a&&t.errors?g=Yv(r,Object.keys(t.errors)[0],!0):y&&nr(y[1])&&(g=Yv(r,y[0]));let j=y?y[1].statusCode:void 0,E=i&&j&&j>=400,N=g.filter((C,M)=>{let{route:R}=C;if(R.lazy)return!0;if(R.loader==null)return!1;if(a)return Vh(R,t.loaderData,t.errors);if(ik(t.loaderData,t.matches[M],C)||c.some(W=>W===C.route.id))return!0;let B=t.matches[M],D=C;return Xv(C,He({currentUrl:x,currentParams:B.params,nextUrl:v,nextParams:D.params},n,{actionResult:b,actionStatus:j,defaultShouldRevalidate:E?!1:l||x.pathname+x.search===v.pathname+v.search||x.search!==v.search||ob(B,D)}))}),_=[];return f.forEach((C,M)=>{if(a||!r.some(K=>K.route.id===C.routeId)||d.has(M))return;let R=ta(m,C.path,w);if(!R){_.push({key:M,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let B=t.fetchers.get(M),D=Fi(R,C.path),W=!1;h.has(M)?W=!1:u.has(M)?(u.delete(M),W=!0):B&&B.state!=="idle"&&B.data===void 0?W=l:W=Xv(D,He({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:b,actionStatus:j,defaultShouldRevalidate:E?!1:l})),W&&_.push({key:M,routeId:C.routeId,path:C.path,matches:R,match:D,controller:new AbortController})}),[N,_]}function Vh(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function ik(e,t,r){let n=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return n||s}function ob(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xv(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Jv(e,t,r,n,s){var a;let i;if(e){let u=n[e];be(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),i=u.children}else i=r;let l=t.filter(u=>!i.some(d=>ib(u,d))),c=Mu(l,s,[e||"_","patch",String(((a=i)==null?void 0:a.length)||"0")],n);i.push(...c)}function ib(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(a=>ib(r,a))}):!1}async function lk(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let s=r[e.id];be(s,"No route found in manifest");let a={};for(let i in n){let c=s[i]!==void 0&&i!=="hasErrorBoundary";Bo(!c,'Route "'+s.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!OC.has(i)&&(a[i]=n[i])}Object.assign(s,a),Object.assign(s,He({},t(s),{lazy:void 0}))}async function ck(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,a,i)=>Object.assign(s,{[r[i].route.id]:a}),{})}async function uk(e,t,r,n,s,a,i,l,c,u){let d=a.map(m=>m.route.lazy?lk(m.route,c,l):void 0),f=a.map((m,w)=>{let y=d[w],b=s.some(v=>v.route.id===m.route.id);return He({},m,{shouldLoad:b,resolve:async v=>(v&&n.method==="GET"&&(m.route.lazy||m.route.loader)&&(b=!0),b?dk(t,n,m,y,v,u):Promise.resolve({type:Me.data,result:void 0}))})}),h=await e({matches:f,request:n,params:a[0].params,fetcherKey:i,context:u});try{await Promise.all(d)}catch{}return h}async function dk(e,t,r,n,s,a){let i,l,c=u=>{let d,f=new Promise((w,y)=>d=y);l=()=>d(),t.signal.addEventListener("abort",l);let h=w=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:a},...w!==void 0?[w]:[]),m=(async()=>{try{return{type:"data",result:await(s?s(y=>h(y)):h())}}catch(w){return{type:"error",result:w}}})();return Promise.race([m,f])};try{let u=r.route[e];if(n)if(u){let d,[f]=await Promise.all([c(u).catch(h=>{d=h}),n]);if(d!==void 0)throw d;i=f}else if(await n,u=r.route[e],u)i=await c(u);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw Vt(405,{method:t.method,pathname:f,routeId:r.route.id})}else return{type:Me.data,result:void 0};else if(u)i=await c(u);else{let d=new URL(t.url),f=d.pathname+d.search;throw Vt(404,{pathname:f})}be(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Me.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return i}async function fk(e){let{result:t,type:r}=e;if(cb(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Me.error,error:h}}return r===Me.error?{type:Me.error,error:new Iu(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Me.data,data:f,statusCode:t.status,headers:t.headers}}if(r===Me.error){if(ay(t)){var n,s;if(t.data instanceof Error){var a,i;return{type:Me.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:Me.error,error:new Iu(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:jl(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Me.error,error:t,statusCode:jl(t)?t.status:void 0}}if(vk(t)){var l,c;return{type:Me.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(ay(t)){var u,d;return{type:Me.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Me.data,data:t}}function hk(e,t,r,n,s,a){let i=e.headers.get("Location");if(be(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!_p.test(i)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);i=Hh(new URL(t.url),l,s,!0,i,a),e.headers.set("Location",i)}return e}function Zv(e,t,r){if(_p.test(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),a=ti(s.pathname,r)!=null;if(s.origin===t.origin&&a)return s.pathname+s.search+s.hash}return e}function Fa(e,t,r,n){let s=e.createURL(lb(t)).toString(),a={signal:r};if(n&&Ur(n.formMethod)){let{formMethod:i,formEncType:l}=n;a.method=i.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=Gh(n.formData):a.body=n.formData}return new Request(s,a)}function Gh(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function ey(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function mk(e,t,r,n,s){let a={},i=null,l,c=!1,u={},d=r&&nr(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,m=t[h];if(be(!la(m),"Cannot handle redirect results in processLoaderData"),nr(m)){let w=m.error;d!==void 0&&(w=d,d=void 0),i=i||{};{let y=ra(e,h);i[y.route.id]==null&&(i[y.route.id]=w)}a[h]=void 0,c||(c=!0,l=jl(m.error)?m.error.status:500),m.headers&&(u[h]=m.headers)}else gs(m)?(n.set(h,m.deferredData),a[h]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[h]=m.headers)):(a[h]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[h]=m.headers))}),d!==void 0&&r&&(i={[r[0]]:d},a[r[0]]=void 0),{loaderData:a,errors:i,statusCode:l||200,loaderHeaders:u}}function ty(e,t,r,n,s,a,i){let{loaderData:l,errors:c}=mk(t,r,n,i);return s.forEach(u=>{let{key:d,match:f,controller:h}=u,m=a[d];if(be(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(nr(m)){let w=ra(e.matches,f==null?void 0:f.route.id);c&&c[w.route.id]||(c=He({},c,{[w.route.id]:m.error})),e.fetchers.delete(d)}else if(la(m))be(!1,"Unhandled fetcher revalidation redirect");else if(gs(m))be(!1,"Unhandled fetcher deferred data");else{let w=Zn(m.data);e.fetchers.set(d,w)}}),{loaderData:l,errors:c}}function ry(e,t,r,n){let s=He({},t);for(let a of r){let i=a.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(s[i]=t[i]):e[i]!==void 0&&a.route.loader&&(s[i]=e[i]),n&&n.hasOwnProperty(i))break}return s}function ny(e){return e?nr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ra(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function sy(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Vt(e,t){let{pathname:r,routeId:n,method:s,type:a,message:i}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?c="defer() is not supported in actions":a==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new Iu(e||500,l,new Error(c),!0)}function Tc(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(la(s))return{key:n,result:s}}}function lb(e){let t=typeof e=="string"?Ls(e):e;return _a(He({},t,{hash:""}))}function pk(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function gk(e){return cb(e.result)&&tk.has(e.result.status)}function gs(e){return e.type===Me.deferred}function nr(e){return e.type===Me.error}function la(e){return(e&&e.type)===Me.redirect}function ay(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function vk(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function cb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function yk(e){return ek.has(e.toLowerCase())}function Ur(e){return JC.has(e.toLowerCase())}async function xk(e,t,r,n,s){let a=Object.entries(t);for(let i=0;i<a.length;i++){let[l,c]=a[i],u=e.find(h=>(h==null?void 0:h.route.id)===l);if(!u)continue;let d=n.find(h=>h.route.id===u.route.id),f=d!=null&&!ob(d,u)&&(s&&s[u.route.id])!==void 0;gs(c)&&f&&await Ep(c,r,!1).then(h=>{h&&(t[l]=h)})}}async function wk(e,t,r){for(let n=0;n<r.length;n++){let{key:s,routeId:a,controller:i}=r[n],l=t[s];e.find(u=>(u==null?void 0:u.route.id)===a)&&gs(l)&&(be(i,"Expected an AbortController for revalidating fetcher deferred result"),await Ep(l,i.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function Ep(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Me.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Me.error,error:s}}return{type:Me.data,data:e.deferredData.data}}}function Sp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fi(e,t){let r=typeof t=="string"?Ls(t).search:t.search;if(e[e.length-1].route.index&&Sp(r||""))return e[e.length-1];let n=nb(e);return n[n.length-1]}function oy(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:a,json:i}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function Nf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bk(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ci(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jk(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Zn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _k(e,t){try{let r=e.sessionStorage.getItem(ab);if(r){let n=JSON.parse(r);for(let[s,a]of Object.entries(n||{}))a&&Array.isArray(a)&&t.set(s,new Set(a||[]))}}catch{}}function Ek(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(ab,JSON.stringify(r))}catch(n){Bo(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}const vd=p.createContext(null),ub=p.createContext(null),ka=p.createContext(null),Np=p.createContext(null),$s=p.createContext({outlet:null,matches:[],isDataRoute:!1}),db=p.createContext(null);function Sk(e,t){let{relative:r}=t===void 0?{}:t;Gl()||be(!1);let{basename:n,navigator:s}=p.useContext(ka),{hash:a,pathname:i,search:l}=hb(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Dn([n,i])),s.createHref({pathname:c,search:l,hash:a})}function Gl(){return p.useContext(Np)!=null}function ri(){return Gl()||be(!1),p.useContext(Np).location}function fb(e){p.useContext(ka).static||p.useLayoutEffect(e)}function xt(){let{isDataRoute:e}=p.useContext($s);return e?Lk():Nk()}function Nk(){Gl()||be(!1);let e=p.useContext(vd),{basename:t,future:r,navigator:n}=p.useContext(ka),{matches:s}=p.useContext($s),{pathname:a}=ri(),i=JSON.stringify(bp(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return fb(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=jp(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Dn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}function Cp(){let{matches:e}=p.useContext($s),t=e[e.length-1];return t?t.params:{}}function hb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(ka),{matches:s}=p.useContext($s),{pathname:a}=ri(),i=JSON.stringify(bp(s,n.v7_relativeSplatPath));return p.useMemo(()=>jp(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Ck(e,t,r,n){Gl()||be(!1);let{navigator:s}=p.useContext(ka),{matches:a}=p.useContext($s),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ri(),d;d=u;let f=d.pathname||"/",h=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=ta(e,{pathname:h});return Ok(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Dn([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Dn([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n)}function kk(){let e=Dk(),t=jl(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const Rk=p.createElement(kk,null);class Pk extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement($s.Provider,{value:this.props.routeContext},p.createElement(db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tk(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(vd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement($s.Provider,{value:t},n)}function Ok(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||be(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,w=!1,y=null,b=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||Rk,c&&(u<0&&h===0?($k("route-fallback"),w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),v=()=>{let g;return m?g=y:w?g=b:f.route.Component?g=p.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,p.createElement(Tk,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Pk,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var mb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mb||{}),pb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pb||{});function Ak(e){let t=p.useContext(vd);return t||be(!1),t}function Mk(e){let t=p.useContext(ub);return t||be(!1),t}function Ik(e){let t=p.useContext($s);return t||be(!1),t}function gb(e){let t=Ik(),r=t.matches[t.matches.length-1];return r.route.id||be(!1),r.route.id}function Dk(){var e;let t=p.useContext(db),r=Mk(),n=gb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Lk(){let{router:e}=Ak(mb.UseNavigateStable),t=gb(pb.UseNavigateStable),r=p.useRef(!1);return fb(()=>{r.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Du({fromRouteId:t},a)))},[e,t])}const iy={};function $k(e,t,r){iy[e]||(iy[e]=!0)}function Fk(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Uk(e){let{basename:t="/",children:r=null,location:n,navigationType:s=at.Pop,navigator:a,static:i=!1,future:l}=e;Gl()&&be(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:i,future:Du({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Ls(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:w="default"}=n,y=p.useMemo(()=>{let b=ti(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:w},navigationType:s}},[c,d,f,h,m,w,s]);return y==null?null:p.createElement(ka.Provider,{value:u},p.createElement(Np.Provider,{children:r,value:y}))}new Promise(()=>{});function zk(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:p.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function Bk(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Wk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qk(e,t){return e.button===0&&(!t||t==="_self")&&!Wk(e)}const Hk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vk="6";try{window.__reactRouterVersion=Vk}catch{}function Gk(e,t){return ak({basename:void 0,future:_l({},void 0,{v7_prependBasename:!0}),history:RC({window:void 0}),hydrationData:Kk(),routes:e,mapRouteProperties:zk,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Kk(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_l({},t,{errors:Yk(t.errors)})),t}function Yk(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Iu(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let i=new a(s.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let a=new Error(s.message);a.stack="",r[n]=a}}else r[n]=s;return r}const Qk=p.createContext({isTransitioning:!1}),Xk=p.createContext(new Map),Jk="startTransition",ly=Rm[Jk],Zk="flushSync",cy=kC[Zk];function eR(e){ly?ly(e):e()}function ki(e){cy?cy(e):e()}let tR=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function rR(e){let{fallbackElement:t,router:r,future:n}=e,[s,a]=p.useState(r.state),[i,l]=p.useState(),[c,u]=p.useState({isTransitioning:!1}),[d,f]=p.useState(),[h,m]=p.useState(),[w,y]=p.useState(),b=p.useRef(new Map),{v7_startTransition:x}=n||{},v=p.useCallback(C=>{x?eR(C):C()},[x]),g=p.useCallback((C,M)=>{let{deletedFetchers:R,flushSync:B,viewTransitionOpts:D}=M;C.fetchers.forEach((K,ue)=>{K.data!==void 0&&b.current.set(ue,K.data)}),R.forEach(K=>b.current.delete(K));let W=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!D||W){B?ki(()=>a(C)):v(()=>a(C));return}if(B){ki(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let K=r.window.document.startViewTransition(()=>{ki(()=>a(C))});K.finished.finally(()=>{ki(()=>{f(void 0),m(void 0),l(void 0),u({isTransitioning:!1})})}),ki(()=>m(K));return}h?(d&&d.resolve(),h.skipTransition(),y({state:C,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(C),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,h,d,b,v]);p.useLayoutEffect(()=>r.subscribe(g),[r,g]),p.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new tR)},[c]),p.useEffect(()=>{if(d&&i&&r.window){let C=i,M=d.promise,R=r.window.document.startViewTransition(async()=>{v(()=>a(C)),await M});R.finished.finally(()=>{f(void 0),m(void 0),l(void 0),u({isTransitioning:!1})}),m(R)}},[v,i,d,r.window]),p.useEffect(()=>{d&&i&&s.location.key===i.location.key&&d.resolve()},[d,h,s.location,i]),p.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),u({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),y(void 0))},[c.isTransitioning,w]),p.useEffect(()=>{},[]);let j=p.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:C=>r.navigate(C),push:(C,M,R)=>r.navigate(C,{state:M,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(C,M,R)=>r.navigate(C,{replace:!0,state:M,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[r]),E=r.basename||"/",N=p.useMemo(()=>({router:r,navigator:j,static:!1,basename:E}),[r,j,E]),_=p.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return p.useEffect(()=>Fk(n,r.future),[n,r.future]),p.createElement(p.Fragment,null,p.createElement(vd.Provider,{value:N},p.createElement(ub.Provider,{value:s},p.createElement(Xk.Provider,{value:b.current},p.createElement(Qk.Provider,{value:c},p.createElement(Uk,{basename:E,location:s.location,navigationType:s.historyAction,navigator:j,future:_},s.initialized||r.future.v7_partialHydration?p.createElement(nR,{routes:r.routes,future:r.future,state:s}):t))))),null)}const nR=p.memo(sR);function sR(e){let{routes:t,future:r,state:n}=e;return Ck(t,void 0,n,r)}const aR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Bk(t,Hk),{basename:m}=p.useContext(ka),w,y=!1;if(typeof u=="string"&&oR.test(u)&&(w=u,aR))try{let g=new URL(window.location.href),j=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=ti(j.pathname,m);j.origin===g.origin&&E!=null?u=E+j.search+j.hash:y=!0}catch{}let b=Sk(u,{relative:s}),x=iR(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(g){n&&n(g),g.defaultPrevented||x(g)}return p.createElement("a",_l({},h,{href:w||b,onClick:y||a?n:v,ref:r,target:c}))});var uy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uy||(uy={}));var dy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));function iR(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=xt(),u=ri(),d=hb(e,{relative:i});return p.useCallback(f=>{if(qk(f,r)){f.preventDefault();let h=n!==void 0?n:_a(u)===_a(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}var yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lR={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ls,Em,Tx,cR=(Tx=class{constructor(){_e(this,ls,lR);_e(this,Em,!1)}setTimeoutProvider(e){oe(this,ls,e)}setTimeout(e,t){return I(this,ls).setTimeout(e,t)}clearTimeout(e){I(this,ls).clearTimeout(e)}setInterval(e,t){return I(this,ls).setInterval(e,t)}clearInterval(e){I(this,ls).clearInterval(e)}},ls=new WeakMap,Em=new WeakMap,Tx),Kh=new cR;function uR(e){setTimeout(e,0)}var xd=typeof window>"u"||"Deno"in globalThis;function Dr(){}function dR(e,t){return typeof e=="function"?e(t):e}function fR(e){return typeof e=="number"&&e>=0&&e!==1/0}function hR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yh(e,t){return typeof e=="function"?e(t):e}function mR(e,t){return typeof e=="function"?e(t):e}function fy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==kp(i,t.options))return!1}else if(!Sl(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function hy(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(El(t.options.mutationKey)!==El(a))return!1}else if(!Sl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function kp(e,t){return((t==null?void 0:t.queryKeyHashFn)||El)(e)}function El(e){return JSON.stringify(e,(t,r)=>Qh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Sl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Sl(e[r],t[r])):!1}var pR=Object.prototype.hasOwnProperty;function vb(e,t){if(e===t)return e;const r=my(e)&&my(t);if(!r&&!(Qh(e)&&Qh(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:pR.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=vb(f,h);l[d]=m,m===f&&c++}return s===i&&c===s?e:l}function my(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qh(e){if(!py(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!py(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function py(e){return Object.prototype.toString.call(e)==="[object Object]"}function gR(e){return new Promise(t=>{Kh.setTimeout(t,e)})}function vR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vb(e,t):t}function yR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function xR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Rp=Symbol();function yb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Rp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ua,cs,Co,Ox,wR=(Ox=class extends yd{constructor(){super();_e(this,ua);_e(this,cs);_e(this,Co);oe(this,Co,t=>{if(!xd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){I(this,cs)||this.setEventListener(I(this,Co))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,cs))==null||t.call(this),oe(this,cs,void 0))}setEventListener(t){var r;oe(this,Co,t),(r=I(this,cs))==null||r.call(this),oe(this,cs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){I(this,ua)!==t&&(oe(this,ua,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof I(this,ua)=="boolean"?I(this,ua):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ua=new WeakMap,cs=new WeakMap,Co=new WeakMap,Ox),xb=new wR;function bR(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var jR=uR;function _R(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=jR;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ft=_R(),ko,us,Ro,Ax,ER=(Ax=class extends yd{constructor(){super();_e(this,ko,!0);_e(this,us);_e(this,Ro);oe(this,Ro,t=>{if(!xd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){I(this,us)||this.setEventListener(I(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,us))==null||t.call(this),oe(this,us,void 0))}setEventListener(t){var r;oe(this,Ro,t),(r=I(this,us))==null||r.call(this),oe(this,us,t(this.setOnline.bind(this)))}setOnline(t){I(this,ko)!==t&&(oe(this,ko,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return I(this,ko)}},ko=new WeakMap,us=new WeakMap,Ro=new WeakMap,Ax),Lu=new ER;function SR(e){return Math.min(1e3*2**e,3e4)}function wb(e){return(e??"online")==="online"?Lu.isOnline():!0}var Xh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bb(e){let t=!1,r=0,n;const s=bR(),a=()=>s.status!=="pending",i=y=>{var b;if(!a()){const x=new Xh(y);h(x),(b=e.onCancel)==null||b.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>xb.isFocused()&&(e.networkMode==="always"||Lu.isOnline())&&e.canRun(),d=()=>wb(e.networkMode)&&e.canRun(),f=y=>{a()||(n==null||n(),s.resolve(y))},h=y=>{a()||(n==null||n(),s.reject(y))},m=()=>new Promise(y=>{var b;n=x=>{(a()||u())&&y(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;n=void 0,a()||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(a())return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var N;if(a())return;const v=e.retry??(xd?0:3),g=e.retryDelay??SR,j=typeof g=="function"?g(r,x):g,E=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,x);if(t||!E){h(x);return}r++,(N=e.onFail)==null||N.call(e,r,x),gR(j).then(()=>u()?void 0:m()).then(()=>{t?h(x):w()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),s)}}var da,Mx,jb=(Mx=class{constructor(){_e(this,da)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fR(this.gcTime)&&oe(this,da,Kh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xd?1/0:5*60*1e3))}clearGcTimeout(){I(this,da)&&(Kh.clearTimeout(I(this,da)),oe(this,da,void 0))}},da=new WeakMap,Mx),fa,Po,vr,ha,gt,$l,ma,Lr,Cn,Ix,NR=(Ix=class extends jb{constructor(t){super();_e(this,Lr);_e(this,fa);_e(this,Po);_e(this,vr);_e(this,ha);_e(this,gt);_e(this,$l);_e(this,ma);oe(this,ma,!1),oe(this,$l,t.defaultOptions),this.setOptions(t.options),this.observers=[],oe(this,ha,t.client),oe(this,vr,I(this,ha).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,oe(this,fa,gy(this.options)),this.state=t.state??I(this,fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,gt))==null?void 0:t.promise}setOptions(t){if(this.options={...I(this,$l),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=gy(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),oe(this,fa,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,vr).remove(this)}setData(t,r){const n=vR(this.state.data,t,this.options);return Ct(this,Lr,Cn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ct(this,Lr,Cn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=I(this,gt))==null?void 0:n.promise;return(s=I(this,gt))==null||s.cancel(t),r?r.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,fa))}isActive(){return this.observers.some(t=>mR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,gt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,gt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(I(this,gt)&&(I(this,ma)?I(this,gt).cancel({revert:!0}):I(this,gt).cancelRetry()),this.scheduleGc()),I(this,vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ct(this,Lr,Cn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,w,y,b,x,v,g;if(this.state.fetchStatus!=="idle"&&((c=I(this,gt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(I(this,gt))return I(this,gt).continueRetry(),I(this,gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(E=>E.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(oe(this,ma,!0),n.signal)})},a=()=>{const j=yb(this.options,r),N=(()=>{const _={client:I(this,ha),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return oe(this,ma,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:I(this,ha),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),oe(this,Po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ct(this,Lr,Cn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),oe(this,gt,bb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Xh&&j.revert&&this.setState({...I(this,Po),fetchStatus:"idle"}),n.abort()},onFail:(j,E)=>{Ct(this,Lr,Cn).call(this,{type:"failed",failureCount:j,error:E})},onPause:()=>{Ct(this,Lr,Cn).call(this,{type:"pause"})},onContinue:()=>{Ct(this,Lr,Cn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await I(this,gt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=I(this,vr).config).onSuccess)==null||m.call(h,j,this),(y=(w=I(this,vr).config).onSettled)==null||y.call(w,j,this.state.error,this),j}catch(j){if(j instanceof Xh){if(j.silent)return I(this,gt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Ct(this,Lr,Cn).call(this,{type:"error",error:j}),(x=(b=I(this,vr).config).onError)==null||x.call(b,j,this),(g=(v=I(this,vr).config).onSettled)==null||g.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},fa=new WeakMap,Po=new WeakMap,vr=new WeakMap,ha=new WeakMap,gt=new WeakMap,$l=new WeakMap,ma=new WeakMap,Lr=new WeakSet,Cn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...CR(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return oe(this,Po,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),I(this,vr).notify({query:this,type:"updated",action:t})})},Ix);function CR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function vy(e){return{onFetch:(t,r)=>{var d,f,h,m,w;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},x=yb(t.options,t.fetchOptions),v=async(g,j,E)=>{if(y)return Promise.reject();if(j==null&&g.pages.length)return Promise.resolve(g);const _=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:j,direction:E?"backward":"forward",meta:t.options.meta};return b(B),B})(),C=await x(_),{maxPages:M}=t.options,R=E?xR:yR;return{pages:R(g.pages,C,M),pageParams:R(g.pageParams,j,M)}};if(s&&a.length){const g=s==="backward",j=g?kR:yy,E={pages:a,pageParams:i},N=j(n,E);l=await v(E,N,g)}else{const g=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:yy(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function yy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function kR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Fl,sn,Dt,pa,an,es,Dx,RR=(Dx=class extends jb{constructor(t){super();_e(this,an);_e(this,Fl);_e(this,sn);_e(this,Dt);_e(this,pa);oe(this,Fl,t.client),this.mutationId=t.mutationId,oe(this,Dt,t.mutationCache),oe(this,sn,[]),this.state=t.state||PR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,sn).includes(t)||(I(this,sn).push(t),this.clearGcTimeout(),I(this,Dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){oe(this,sn,I(this,sn).filter(r=>r!==t)),this.scheduleGc(),I(this,Dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,sn).length||(this.state.status==="pending"?this.scheduleGc():I(this,Dt).remove(this))}continue(){var t;return((t=I(this,pa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,h,m,w,y,b,x,v,g,j,E,N,_,C,M;const r=()=>{Ct(this,an,es).call(this,{type:"continue"})},n={client:I(this,Fl),meta:this.options.meta,mutationKey:this.options.mutationKey};oe(this,pa,bb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,B)=>{Ct(this,an,es).call(this,{type:"failed",failureCount:R,error:B})},onPause:()=>{Ct(this,an,es).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Dt).canRun(this)}));const s=this.state.status==="pending",a=!I(this,pa).canStart();try{if(s)r();else{Ct(this,an,es).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=I(this,Dt).config).onMutate)==null?void 0:l.call(i,t,this,n));const B=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));B!==this.state.context&&Ct(this,an,es).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const R=await I(this,pa).start();return await((f=(d=I(this,Dt).config).onSuccess)==null?void 0:f.call(d,R,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,R,t,this.state.context,n)),await((y=(w=I(this,Dt).config).onSettled)==null?void 0:y.call(w,R,null,this.state.variables,this.state.context,this,n)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,R,null,t,this.state.context,n)),Ct(this,an,es).call(this,{type:"success",data:R}),R}catch(R){try{throw await((g=(v=I(this,Dt).config).onError)==null?void 0:g.call(v,R,t,this.state.context,this,n)),await((E=(j=this.options).onError)==null?void 0:E.call(j,R,t,this.state.context,n)),await((_=(N=I(this,Dt).config).onSettled)==null?void 0:_.call(N,void 0,R,this.state.variables,this.state.context,this,n)),await((M=(C=this.options).onSettled)==null?void 0:M.call(C,void 0,R,t,this.state.context,n)),R}finally{Ct(this,an,es).call(this,{type:"error",error:R})}}finally{I(this,Dt).runNext(this)}}},Fl=new WeakMap,sn=new WeakMap,Dt=new WeakMap,pa=new WeakMap,an=new WeakSet,es=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{I(this,sn).forEach(n=>{n.onMutationUpdate(t)}),I(this,Dt).notify({mutation:this,type:"updated",action:t})})},Dx);function PR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var On,$r,Ul,Lx,TR=(Lx=class extends yd{constructor(t={}){super();_e(this,On);_e(this,$r);_e(this,Ul);this.config=t,oe(this,On,new Set),oe(this,$r,new Map),oe(this,Ul,0)}build(t,r,n){const s=new RR({client:t,mutationCache:this,mutationId:++hc(this,Ul)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){I(this,On).add(t);const r=Oc(t);if(typeof r=="string"){const n=I(this,$r).get(r);n?n.push(t):I(this,$r).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,On).delete(t)){const r=Oc(t);if(typeof r=="string"){const n=I(this,$r).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&I(this,$r).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Oc(t);if(typeof r=="string"){const n=I(this,$r).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Oc(t);if(typeof r=="string"){const s=(n=I(this,$r).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ft.batch(()=>{I(this,On).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,On).clear(),I(this,$r).clear()})}getAll(){return Array.from(I(this,On))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hy(r,n))}findAll(t={}){return this.getAll().filter(r=>hy(t,r))}notify(t){Ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ft.batch(()=>Promise.all(t.map(r=>r.continue().catch(Dr))))}},On=new WeakMap,$r=new WeakMap,Ul=new WeakMap,Lx);function Oc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var on,$x,OR=($x=class extends yd{constructor(t={}){super();_e(this,on);this.config=t,oe(this,on,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??kp(s,r);let i=this.get(a);return i||(i=new NR({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){I(this,on).has(t.queryHash)||(I(this,on).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=I(this,on).get(t.queryHash);r&&(t.destroy(),r===t&&I(this,on).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,on).get(t)}getAll(){return[...I(this,on).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>fy(t,n)):r}notify(t){Ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},on=new WeakMap,$x),Ze,ds,fs,To,Oo,hs,Ao,Mo,Fx,AR=(Fx=class{constructor(e={}){_e(this,Ze);_e(this,ds);_e(this,fs);_e(this,To);_e(this,Oo);_e(this,hs);_e(this,Ao);_e(this,Mo);oe(this,Ze,e.queryCache||new OR),oe(this,ds,e.mutationCache||new TR),oe(this,fs,e.defaultOptions||{}),oe(this,To,new Map),oe(this,Oo,new Map),oe(this,hs,0)}mount(){hc(this,hs)._++,I(this,hs)===1&&(oe(this,Ao,xb.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ze).onFocus())})),oe(this,Mo,Lu.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ze).onOnline())})))}unmount(){var e,t;hc(this,hs)._--,I(this,hs)===0&&((e=I(this,Ao))==null||e.call(this),oe(this,Ao,void 0),(t=I(this,Mo))==null||t.call(this),oe(this,Mo,void 0))}isFetching(e){return I(this,Ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,ds).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=I(this,Ze).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Yh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return I(this,Ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=I(this,Ze).get(n.queryHash),a=s==null?void 0:s.state.data,i=dR(t,a);if(i!==void 0)return I(this,Ze).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ft.batch(()=>I(this,Ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=I(this,Ze);Ft.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=I(this,Ze);return Ft.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ft.batch(()=>I(this,Ze).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Dr).catch(Dr)}invalidateQueries(e,t={}){return Ft.batch(()=>(I(this,Ze).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ft.batch(()=>I(this,Ze).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Dr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=I(this,Ze).build(this,t);return r.isStaleByTime(Yh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dr).catch(Dr)}fetchInfiniteQuery(e){return e.behavior=vy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dr).catch(Dr)}ensureInfiniteQueryData(e){return e.behavior=vy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lu.isOnline()?I(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Ze)}getMutationCache(){return I(this,ds)}getDefaultOptions(){return I(this,fs)}setDefaultOptions(e){oe(this,fs,e)}setQueryDefaults(e,t){I(this,To).set(El(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,To).values()],r={};return t.forEach(n=>{Sl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){I(this,Oo).set(El(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,Oo).values()],r={};return t.forEach(n=>{Sl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Ze).clear(),I(this,ds).clear()}},Ze=new WeakMap,ds=new WeakMap,fs=new WeakMap,To=new WeakMap,Oo=new WeakMap,hs=new WeakMap,Ao=new WeakMap,Mo=new WeakMap,Fx),MR=p.createContext(void 0),IR=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(MR.Provider,{value:e,children:t})),$u=["light","dark"],Pp="(prefers-color-scheme: dark)",DR=typeof window>"u",Tp=p.createContext(void 0),LR={setTheme:e=>{},themes:[]},$R=()=>{var e;return(e=p.useContext(Tp))!=null?e:LR},FR=e=>p.useContext(Tp)?e.children:p.createElement(zR,{...e}),UR=["light","dark"],zR=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=UR,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=p.useState(()=>xy(s,i)),[m,w]=p.useState(()=>xy(s)),y=c?Object.values(c):a,b=p.useCallback(j=>{let E=j;if(!E)return;j==="system"&&r&&(E=wy());let N=c?c[E]:E,_=t?WR():null,C=document.documentElement;if(l==="class"?(C.classList.remove(...y),N&&C.classList.add(N)):N?C.setAttribute(l,N):C.removeAttribute(l),n){let M=$u.includes(i)?i:null,R=$u.includes(E)?E:M;C.style.colorScheme=R}_==null||_()},[]),x=p.useCallback(j=>{let E=typeof j=="function"?j(j):j;h(E);try{localStorage.setItem(s,E)}catch{}},[e]),v=p.useCallback(j=>{let E=wy(j);w(E),f==="system"&&r&&!e&&b("system")},[f,e]);p.useEffect(()=>{let j=window.matchMedia(Pp);return j.addListener(v),v(j),()=>j.removeListener(v)},[v]),p.useEffect(()=>{let j=E=>{if(E.key!==s)return;let N=E.newValue||i;x(N)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[x]),p.useEffect(()=>{b(e??f)},[e,f]);let g=p.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...a,"system"]:a,systemTheme:r?m:void 0}),[f,x,e,m,r,a]);return p.createElement(Tp.Provider,{value:g},p.createElement(BR,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:i,attribute:l,value:c,children:u,attrs:y,nonce:d}),u)},BR=p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?$u.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,y=!1,b=!0)=>{let x=i?i[w]:w,v=y?w+"|| ''":`'${x}'`,g="";return s&&b&&!y&&$u.includes(w)&&(g+=`d.style.colorScheme = '${w}';`),r==="class"?y||x?g+=`c.add(${v})`:g+="null":x&&(g+=`d[s](n,${v})`),g},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Pp}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),xy=(e,t)=>{if(DR)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},WR=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},wy=e=>(e||(e=window.matchMedia(Pp)),e.matches?"dark":"light"),qR=e=>{switch(e){case"success":return GR;case"info":return YR;case"warning":return KR;case"error":return QR;default:return null}},HR=Array(12).fill(0),VR=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},HR.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),GR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JR=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Jh=1,ZR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Jh++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(t2(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Jh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gt=new ZR,e2=(e,t)=>{let r=(t==null?void 0:t.id)||Jh++;return Gt.addToast({title:e,...t,id:r}),r},t2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",r2=e2,n2=()=>Gt.toasts,s2=()=>Gt.getActiveToasts(),pe=Object.assign(r2,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:n2,getToasts:s2});function a2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}a2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ac(e){return e.label!==void 0}var o2=3,i2="32px",l2="16px",by=4e3,c2=356,u2=14,d2=20,f2=200;function Ar(...e){return e.filter(Boolean).join(" ")}function h2(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var m2=e=>{var t,r,n,s,a,i,l,c,u,d,f;let{invert:h,toast:m,unstyled:w,interacting:y,setHeights:b,visibleToasts:x,heights:v,index:g,toasts:j,expanded:E,removeToast:N,defaultRichColors:_,closeButton:C,style:M,cancelButtonStyle:R,actionButtonStyle:B,className:D="",descriptionClassName:W="",duration:K,position:ue,gap:ee,loadingIcon:se,expandByDefault:P,classNames:T,icons:$,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:H}=e,[fe,he]=z.useState(null),[je,Pe]=z.useState(null),[le,qt]=z.useState(!1),[nt,mr]=z.useState(!1),[Yr,Qe]=z.useState(!1),[Mt,zs]=z.useState(!1),[ui,pr]=z.useState(!1),[di,Bs]=z.useState(0),[wn,oc]=z.useState(0),Ws=z.useRef(m.duration||K||by),ic=z.useRef(null),bn=z.useRef(null),jn=g===0,qs=g+1<=x,It=m.type,Qr=m.dismissible!==!1,Xr=m.className||"",Tr=m.descriptionClassName||"",Hs=z.useMemo(()=>v.findIndex(ce=>ce.toastId===m.id)||0,[v,m.id]),Ma=z.useMemo(()=>{var ce;return(ce=m.closeButton)!=null?ce:C},[m.closeButton,C]),lc=z.useMemo(()=>m.duration||K||by,[m.duration,K]),gr=z.useRef(0),_n=z.useRef(0),fi=z.useRef(0),En=z.useRef(null),[Kd,cc]=ue.split("-"),Vs=z.useMemo(()=>v.reduce((ce,Ce,Oe)=>Oe>=Hs?ce:ce+Ce.height,0),[v,Hs]),hi=JR(),mi=m.invert||h,Gs=It==="loading";_n.current=z.useMemo(()=>Hs*ee+Vs,[Hs,Vs]),z.useEffect(()=>{Ws.current=lc},[lc]),z.useEffect(()=>{qt(!0)},[]),z.useEffect(()=>{let ce=bn.current;if(ce){let Ce=ce.getBoundingClientRect().height;return oc(Ce),b(Oe=>[{toastId:m.id,height:Ce,position:m.position},...Oe]),()=>b(Oe=>Oe.filter(Nt=>Nt.toastId!==m.id))}},[b,m.id]),z.useLayoutEffect(()=>{if(!le)return;let ce=bn.current,Ce=ce.style.height;ce.style.height="auto";let Oe=ce.getBoundingClientRect().height;ce.style.height=Ce,oc(Oe),b(Nt=>Nt.find(er=>er.toastId===m.id)?Nt.map(er=>er.toastId===m.id?{...er,height:Oe}:er):[{toastId:m.id,height:Oe,position:m.position},...Nt])},[le,m.title,m.description,b,m.id]);let Jr=z.useCallback(()=>{mr(!0),Bs(_n.current),b(ce=>ce.filter(Ce=>Ce.toastId!==m.id)),setTimeout(()=>{N(m)},f2)},[m,N,b,_n]);z.useEffect(()=>{if(m.promise&&It==="loading"||m.duration===1/0||m.type==="loading")return;let ce;return E||y||H&&hi?(()=>{if(fi.current<gr.current){let Ce=new Date().getTime()-gr.current;Ws.current=Ws.current-Ce}fi.current=new Date().getTime()})():Ws.current!==1/0&&(gr.current=new Date().getTime(),ce=setTimeout(()=>{var Ce;(Ce=m.onAutoClose)==null||Ce.call(m,m),Jr()},Ws.current)),()=>clearTimeout(ce)},[E,y,m,It,H,hi,Jr]),z.useEffect(()=>{m.delete&&Jr()},[Jr,m.delete]);function uc(){var ce,Ce,Oe;return $!=null&&$.loading?z.createElement("div",{className:Ar(T==null?void 0:T.loader,(ce=m==null?void 0:m.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":It==="loading"},$.loading):se?z.createElement("div",{className:Ar(T==null?void 0:T.loader,(Ce=m==null?void 0:m.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":It==="loading"},se):z.createElement(VR,{className:Ar(T==null?void 0:T.loader,(Oe=m==null?void 0:m.classNames)==null?void 0:Oe.loader),visible:It==="loading"})}return z.createElement("li",{tabIndex:0,ref:bn,className:Ar(D,Xr,T==null?void 0:T.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[It],(r=m==null?void 0:m.classNames)==null?void 0:r[It]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:_,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":le,"data-promise":!!m.promise,"data-swiped":ui,"data-removed":nt,"data-visible":qs,"data-y-position":Kd,"data-x-position":cc,"data-index":g,"data-front":jn,"data-swiping":Yr,"data-dismissible":Qr,"data-type":It,"data-invert":mi,"data-swipe-out":Mt,"data-swipe-direction":je,"data-expanded":!!(E||P&&le),style:{"--index":g,"--toasts-before":g,"--z-index":j.length-g,"--offset":`${nt?di:_n.current}px`,"--initial-height":P?"auto":`${wn}px`,...M,...m.style},onDragEnd:()=>{Qe(!1),he(null),En.current=null},onPointerDown:ce=>{Gs||!Qr||(ic.current=new Date,Bs(_n.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Qe(!0),En.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Ce,Oe,Nt;if(Mt||!Qr)return;En.current=null;let er=Number(((ce=bn.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zr=Number(((Ce=bn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),S=new Date().getTime()-((Oe=ic.current)==null?void 0:Oe.getTime()),k=fe==="x"?er:Zr,O=Math.abs(k)/S;if(Math.abs(k)>=d2||O>.11){Bs(_n.current),(Nt=m.onDismiss)==null||Nt.call(m,m),Pe(fe==="x"?er>0?"right":"left":Zr>0?"down":"up"),Jr(),zs(!0),pr(!1);return}Qe(!1),he(null)},onPointerMove:ce=>{var Ce,Oe,Nt,er;if(!En.current||!Qr||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let Zr=ce.clientY-En.current.y,S=ce.clientX-En.current.x,k=(Oe=e.swipeDirections)!=null?Oe:h2(ue);!fe&&(Math.abs(S)>1||Math.abs(Zr)>1)&&he(Math.abs(S)>Math.abs(Zr)?"x":"y");let O={x:0,y:0};fe==="y"?(k.includes("top")||k.includes("bottom"))&&(k.includes("top")&&Zr<0||k.includes("bottom")&&Zr>0)&&(O.y=Zr):fe==="x"&&(k.includes("left")||k.includes("right"))&&(k.includes("left")&&S<0||k.includes("right")&&S>0)&&(O.x=S),(Math.abs(O.x)>0||Math.abs(O.y)>0)&&pr(!0),(Nt=bn.current)==null||Nt.style.setProperty("--swipe-amount-x",`${O.x}px`),(er=bn.current)==null||er.style.setProperty("--swipe-amount-y",`${O.y}px`)}},Ma&&!m.jsx?z.createElement("button",{"aria-label":Q,"data-disabled":Gs,"data-close-button":!0,onClick:Gs||!Qr?()=>{}:()=>{var ce;Jr(),(ce=m.onDismiss)==null||ce.call(m,m)},className:Ar(T==null?void 0:T.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=$==null?void 0:$.close)!=null?a:XR):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:z.createElement(z.Fragment,null,It||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:Ar(T==null?void 0:T.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||uc():null,m.type!=="loading"?m.icon||($==null?void 0:$[It])||qR(It):null):null,z.createElement("div",{"data-content":"",className:Ar(T==null?void 0:T.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},z.createElement("div",{"data-title":"",className:Ar(T==null?void 0:T.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?z.createElement("div",{"data-description":"",className:Ar(W,Tr,T==null?void 0:T.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Ac(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ce=>{var Ce,Oe;Ac(m.cancel)&&Qr&&((Oe=(Ce=m.cancel).onClick)==null||Oe.call(Ce,ce),Jr())},className:Ar(T==null?void 0:T.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Ac(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||B,onClick:ce=>{var Ce,Oe;Ac(m.action)&&((Oe=(Ce=m.action).onClick)==null||Oe.call(Ce,ce),!ce.defaultPrevented&&Jr())},className:Ar(T==null?void 0:T.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function jy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function p2(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?l2:i2;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var g2=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:w=o2,toastOptions:y,dir:b=jy(),gap:x=u2,loadingIcon:v,icons:g,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:E}=e,[N,_]=z.useState([]),C=z.useMemo(()=>Array.from(new Set([n].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,n]),[M,R]=z.useState([]),[B,D]=z.useState(!1),[W,K]=z.useState(!1),[ue,ee]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=z.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=z.useRef(null),$=z.useRef(!1),Q=z.useCallback(H=>{_(fe=>{var he;return(he=fe.find(je=>je.id===H.id))!=null&&he.delete||Gt.dismiss(H.id),fe.filter(({id:je})=>je!==H.id)})},[]);return z.useEffect(()=>Gt.subscribe(H=>{if(H.dismiss){_(fe=>fe.map(he=>he.id===H.id?{...he,delete:!0}:he));return}setTimeout(()=>{wp.flushSync(()=>{_(fe=>{let he=fe.findIndex(je=>je.id===H.id);return he!==-1?[...fe.slice(0,he),{...fe[he],...H},...fe.slice(he+1)]:[H,...fe]})})})}),[]),z.useEffect(()=>{if(d!=="system"){ee(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:fe})=>{ee(fe?"dark":"light")})}catch{H.addListener(({matches:he})=>{try{ee(he?"dark":"light")}catch(je){console.error(je)}})}},[d]),z.useEffect(()=>{N.length<=1&&D(!1)},[N]),z.useEffect(()=>{let H=fe=>{var he,je;s.every(Pe=>fe[Pe]||fe.code===Pe)&&(D(!0),(he=se.current)==null||he.focus()),fe.code==="Escape"&&(document.activeElement===se.current||(je=se.current)!=null&&je.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),z.useEffect(()=>{if(se.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,$.current=!1)}},[se.current]),z.createElement("section",{ref:t,"aria-label":`${j} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((H,fe)=>{var he;let[je,Pe]=H.split("-");return N.length?z.createElement("ol",{key:H,dir:b==="auto"?jy():b,tabIndex:-1,ref:se,className:l,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":je,"data-lifted":B&&N.length>1&&!a,"data-x-position":Pe,style:{"--front-toast-height":`${((he=M[0])==null?void 0:he.height)||0}px`,"--width":`${c2}px`,"--gap":`${x}px`,...m,...p2(c,u)},onBlur:le=>{$.current&&!le.currentTarget.contains(le.relatedTarget)&&($.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||$.current||($.current=!0,T.current=le.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{W||D(!1)},onDragEnd:()=>D(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},N.filter(le=>!le.position&&fe===0||le.position===H).map((le,qt)=>{var nt,mr;return z.createElement(m2,{key:le.id,icons:g,index:qt,toast:le,defaultRichColors:f,duration:(nt=y==null?void 0:y.duration)!=null?nt:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(mr=y==null?void 0:y.closeButton)!=null?mr:i,interacting:W,position:H,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Q,toasts:N.filter(Yr=>Yr.position==le.position),heights:M.filter(Yr=>Yr.position==le.position),setHeights:R,expandByDefault:a,gap:x,loadingIcon:v,expanded:B,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const v2=({...e})=>{const{theme:t="system"}=$R();return o.jsx(g2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},y2="modulepreload",x2=function(e){return"/"+e},_y={},Kl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=x2(c),c in _y)return;_y[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":y2,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},w2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kl(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Op extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ey extends Op{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sy extends Op{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ny extends Op{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zh||(Zh={}));var b2=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class j2{constructor(t,{headers:r={},customFetch:n,region:s=Zh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=w2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return b2(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new Ey(x)}),w=m.headers.get("x-relay-error");if(w&&w==="true")throw new Sy(m);if(!m.ok)throw new Ny(m);let y=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield m.json():y==="application/octet-stream"?b=yield m.blob():y==="text/event-stream"?b=m:y==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Ey(a)}:{data:null,error:a,response:a instanceof Ny||a instanceof Sy?a.context:void 0}}})}}var Yt={},Ap={},wd={},Yl={},bd={},jd={},_2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=_2();const E2=Wo.fetch,_b=Wo.fetch.bind(Wo),Eb=Wo.Headers,S2=Wo.Request,N2=Wo.Response,ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:Eb,Request:S2,Response:N2,default:_b,fetch:E2},Symbol.toStringTag,{value:"Module"})),C2=rS(ni);var _d={};Object.defineProperty(_d,"__esModule",{value:!0});let k2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_d.default=k2;var Sb=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jd,"__esModule",{value:!0});const R2=Sb(C2),P2=Sb(_d);let T2=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=R2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let d=null,f=null,h=null,m=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await a.text();try{d=JSON.parse(b),Array.isArray(d)&&a.status===404&&(f=[],d=null,m=200,w="OK")}catch{a.status===404&&b===""?(m=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,w="OK"),d&&this.shouldThrowOnError)throw new P2.default(d)}return{error:d,data:f,count:h,status:m,statusText:w}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};jd.default=T2;var O2=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bd,"__esModule",{value:!0});const A2=O2(jd);let M2=class extends A2.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};bd.default=M2;var I2=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yl,"__esModule",{value:!0});const D2=I2(bd);let L2=class extends D2.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yl.default=L2;var $2=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wd,"__esModule",{value:!0});const Ri=$2(Yl);let F2=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,r){const{head:n=!1,count:s}=r??{},a=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new Ri.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ri.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ri.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Ri.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ri.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};wd.default=F2;var Nb=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ap,"__esModule",{value:!0});const U2=Nb(wd),z2=Nb(Yl);let B2=class Cb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new U2.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Cb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new z2.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Ap.default=B2;var si=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const kb=si(Ap);Yt.PostgrestClient=kb.default;const Rb=si(wd);Yt.PostgrestQueryBuilder=Rb.default;const Pb=si(Yl);Yt.PostgrestFilterBuilder=Pb.default;const Tb=si(bd);Yt.PostgrestTransformBuilder=Tb.default;const Ob=si(jd);Yt.PostgrestBuilder=Ob.default;const Ab=si(_d);Yt.PostgrestError=Ab.default;var W2=Yt.default={PostgrestClient:kb.default,PostgrestQueryBuilder:Rb.default,PostgrestFilterBuilder:Pb.default,PostgrestTransformBuilder:Tb.default,PostgrestBuilder:Ob.default,PostgrestError:Ab.default};const{PostgrestClient:q2,PostgrestQueryBuilder:jF,PostgrestFilterBuilder:_F,PostgrestTransformBuilder:EF,PostgrestBuilder:SF,PostgrestError:NF}=W2;class H2{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const V2="2.75.1",G2=`realtime-js/${V2}`,K2="1.0.0",em=1e4,Y2=1e3,Q2=100;var Xi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xi||(Xi={}));var dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(dt||(dt={}));var zr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zr||(zr={}));var tm;(function(e){e.websocket="websocket"})(tm||(tm={}));var na;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(na||(na={}));class X2{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Mb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const Cy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=J2(i,e,t,s),a),{}):{}},J2=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?Ib(a,i):rm(i)},Ib=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rP(t,r)}switch(e){case Ue.bool:return Z2(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return eP(t);case Ue.json:case Ue.jsonb:return tP(t);case Ue.timestamp:return nP(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return rm(t);default:return rm(t)}},rm=e=>e,Z2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Ib(t,l))}return e},nP=e=>typeof e=="string"?e.replace(" ","T"):e,Db=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Cf{constructor(t,r,n={},s=em){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ky;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ky||(ky={}));class Ji{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ji.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Ji.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ji.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),w=d.filter(b=>m.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ry;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ry||(Ry={}));var Zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zi||(Zi={}));var Pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class Mp{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cf(this,zr.join,this.params,this.timeout),this.rejoinTimer=new Mb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Ji(this),this.broadcastEndpointURL=Db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Pn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(Pn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,x=[];for(let v=0;v<b;v++){const g=y[v],{filter:{event:j,schema:E,table:N,filter:_}}=g,C=m&&m[v];if(C&&C.event===j&&C.schema===E&&C.table===N&&C.filter===_)x.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=dt.errored,t==null||t(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Pn.SUBSCRIBED);return}}).receive("error",m=>{this.state=dt.errored,t==null||t(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===dt.joined&&t===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Cf(this,zr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cf(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Q2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=zr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,y,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(m=>{var w,y,b,x,v,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const j=m.id,E=(w=m.filter)===null||w===void 0?void 0:w.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(v=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:y,table:b,commit_timestamp:x,type:v,errors:g}=w;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(w))}m.callback(h,n)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Mp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zr.close,{},t)}_onError(t){this._on(zr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cy(t.columns,t.old_record)),r}}const kf=()=>{},Mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sP=[1e3,2e3,5e3,1e4],aP=1e4,oP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iP{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=em,this.transport=null,this.heartbeatIntervalMs=Mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kf,this.ref=0,this.reconnectTimer=null,this.logger=kf,this.conn=null,this.sendBuffer=[],this.serializer=new X2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>Kl(async()=>{const{default:l}=await Promise.resolve().then(()=>ni);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${tm.websocket}`,this.httpEndpoint=Db(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K2}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xi.connecting:return na.Connecting;case Xi.open:return na.Open;case Xi.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Mp(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Y2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:G2};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:em,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Mc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:kf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>sP[f-1]||aP,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ip extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function it(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lP extends Ip{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nm extends Ip{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var cP=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Lb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kl(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},uP=()=>cP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kl(()=>Promise.resolve().then(()=>ni),void 0)).Response:Response}),sm=e=>{if(Array.isArray(e))return e.map(r=>sm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=sm(n)}),t},dP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ra=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Rf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fP=(e,t,r)=>Ra(void 0,void 0,void 0,function*(){const n=yield uP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new lP(Rf(s),a,i))}).catch(s=>{t(new nm(Rf(s),s))}):t(new nm(Rf(e),e))}),hP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(dP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ql(e,t,r,n,s,a){return Ra(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,hP(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>fP(c,l,n))})})}function Fu(e,t,r,n){return Ra(this,void 0,void 0,function*(){return Ql(e,"GET",t,r,n)})}function nn(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Ql(e,"POST",t,n,s,r)})}function am(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Ql(e,"PUT",t,n,s,r)})}function mP(e,t,r,n){return Ra(this,void 0,void 0,function*(){return Ql(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $b(e,t,r,n,s){return Ra(this,void 0,void 0,function*(){return Ql(e,"DELETE",t,n,s,r)})}var pP=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class gP{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return pP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}}var vP=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Fb;class yP{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Fb]="BlobDownloadBuilder",this.promise=null}asStream(){return new gP(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return vP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}}Fb=Symbol.toStringTag;var Ht=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Py={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wP{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Lb(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ht(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Py),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?am:nn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ht(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Py.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield am(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(it(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Ip("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ht(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ht(this,void 0,void 0,function*(){try{const s=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Fu(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new yP(c,this.shouldThrowOnError)}info(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}exists(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n)&&n instanceof nm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ht(this,void 0,void 0,function*(){try{return{data:yield $b(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ht(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xP),r),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ht(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const bP="2.75.1",jP={"X-Client-Info":`storage-js/${bP}`};var Ua=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class _P{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jP),r),this.fetch=Lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ua(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}getBucket(t){return Ua(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}createBucket(t){return Ua(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Ua(this,void 0,void 0,function*(){try{return{data:yield am(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ua(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ua(this,void 0,void 0,function*(){try{return{data:yield $b(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}}class EP extends _P{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new wP(this.url,this.headers,t,this.fetch)}}const SP="2.75.1";let Ui="";typeof Deno<"u"?Ui="deno":typeof document<"u"?Ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ui="react-native":Ui="node";const NP={"X-Client-Info":`supabase-js-${Ui}/${SP}`},CP={headers:NP},kP={schema:"public"},RP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PP={};var TP=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const OP=e=>{let t;return e?t=e:typeof fetch>"u"?t=_b:t=fetch,(...r)=>t(...r)},AP=()=>typeof Headers>"u"?Eb:Headers,MP=(e,t,r)=>{const n=OP(r),s=AP();return(a,i)=>TP(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var IP=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function DP(e){return e.endsWith("/")?e:e+"/"}function LP(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>IP(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function $P(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ub="2.75.1",Ja=30*1e3,om=3,Pf=om*Ja,FP="http://localhost:9999",UP="supabase.auth.token",zP={"X-Client-Info":`gotrue-js/${Ub}`},im="X-Supabase-Api-Version",zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WP=10*60*1e3;class Nl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qP extends Nl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HP(e){return ne(e)&&e.name==="AuthApiError"}class sa extends Nl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fs extends Nl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ts extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VP(e){return ne(e)&&e.name==="AuthSessionMissingError"}class za extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ic extends Fs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dc extends Fs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GP(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ty extends Fs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lm extends Fs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Tf(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Oy extends Fs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cm extends Fs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ay=` 	
\r=`.split(""),KP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ay.length;t+=1)e[Ay[t].charCodeAt(0)]=-2;for(let t=0;t<Uu.length;t+=1)e[Uu[t].charCodeAt(0)]=t;return e})();function My(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uu[n]),t.queuedBits-=6}}function Bb(e,t,r){const n=KP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Iy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{XP(i,n,r)};for(let i=0;i<e.length;i+=1)Bb(e.charCodeAt(i),s,a);return t.join("")}function YP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}YP(n,t)}}function XP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Bb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function JP(e){const t=[];return QP(e,r=>t.push(r)),new Uint8Array(t)}function ca(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>My(s,r,n)),My(null,r,n),t.join("")}function ZP(e){return Math.round(Date.now()/1e3)+e}function eT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tr=()=>typeof window<"u"&&typeof document<"u",Ys={tested:!1,writable:!1},Wb=()=>{if(!tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ys.tested)return Ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ys.tested=!0,Ys.writable=!0}catch{Ys.tested=!0,Ys.writable=!1}return Ys.writable};function tT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kl(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Za=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yn=async(e,t)=>{await e.removeItem(t)};class Ed{constructor(){this.promise=new Ed.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ed.promiseConstructor=Promise;function Of(e){const t=e.split(".");if(t.length!==3)throw new cm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!BP.test(t[n]))throw new cm("JWT not in base64url format");return{header:JSON.parse(Iy(t[0])),payload:JSON.parse(Iy(t[1])),signature:wo(t[2]),raw:{header:t[0],payload:t[1]}}}async function nT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sT(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function aT(e){return("0"+e.toString(16)).substr(-2)}function oT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,aT).join("")}async function iT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function lT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await iT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ba(e,t,r=!1){const n=oT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Za(e,`${t}-code-verifier`,s);const a=await lT(n);return[a,n===a?"plain":"s256"]}const cT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uT(e){const t=e.headers.get(im);if(!t||!t.match(cT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wa(e){if(!hT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Af(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dy(e){return JSON.parse(JSON.stringify(e))}var mT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pT=[502,503,504];async function Ly(e){var t;if(!rT(e))throw new lm(Zs(e),0);if(pT.includes(e.status))throw new lm(Zs(e),e.status);let r;try{r=await e.json()}catch(a){throw new sa(Zs(a),a)}let n;const s=uT(e);if(s&&s.getTime()>=zb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Oy(Zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ts}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Oy(Zs(r),e.status,r.weak_password.reasons);throw new qP(Zs(r),e.status||500,n)}const gT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function de(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[im]||(a[im]=zb["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await vT(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function vT(e,t,r,n,s,a){const i=gT(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new lm(Zs(c),0)}if(l.ok||await Ly(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ly(c)}}function Mr(e){var t;let r=null;wT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ZP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $y(e){const t=Mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function is(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yT(e){return{data:e,error:null}}function xT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=mT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Fy(e){return e}function wT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mf=["global","local","others"];var bT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class jT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mf[0]){if(Mf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mf.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:is})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:is})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Fy});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wa(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:is})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wa(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:is})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wa(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:is})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wa(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wa(t.userId),Wa(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Fy});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function Uy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qa={debug:!!(globalThis&&Wb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _T extends Hb{}async function ET(e,t,r){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _T(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ST(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function NT(e){return parseInt(e,16)}function CT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function kT(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Vb(e.address),w=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${m}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);v+=`
- ${g}`}x+=v}return`${b}
${x}`}class ot extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class zu extends ot{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function RT({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Kb(i)){if(a.rp.id!==i)return new ot({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PT({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Kb(n)){if(r.rpId!==n)return new ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Gb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class TT{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const OT=new TT;function AT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Gb(e,["challenge","user","excludeCredentials"]),a=wo(t).buffer,i=Object.assign(Object.assign({},r),{id:wo(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function MT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Gb(e,["challenge","allowCredentials"]),s=wo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:wo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function IT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ca(new Uint8Array(e.response.attestationObject)),clientDataJSON:ca(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ca(new Uint8Array(s.authenticatorData)),clientDataJSON:ca(new Uint8Array(s.clientDataJSON)),signature:ca(new Uint8Array(s.signature)),userHandle:s.userHandle?ca(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zy(){var e,t;return!!(tr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zu("Browser returned unexpected credential type",t)}:{data:null,error:new zu("Empty credential response",t)}}catch(t){return{data:null,error:RT({error:t,options:e})}}}async function $T(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zu("Browser returned unexpected credential type",t)}:{data:null,error:new zu("Empty credential response",t)}}catch(t){return{data:null,error:PT({error:t,options:e})}}}const FT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UT={userVerification:"preferred",hints:["security-key"]};function Bu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=Bu(l,i):n[a]=Bu(i)}else n[a]=i}return n}function zT(e,t){return Bu(FT,e,t||{})}function BT(e,t){return Bu(UT,e,t||{})}class WT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??OT.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=zT(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await LT({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=BT(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await $T(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new sa("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new Nl("rpId is required for WebAuthn authentication")};try{if(!zy())return{data:null,error:new sa("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new sa("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new Nl("rpId is required for WebAuthn registration")};try{if(!zy())return{data:null,error:new sa("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new sa("Unexpected error in register",i)}}}}ST();const qT={url:FP,storageKey:UP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function By(e,t,r){return await r()}const Ha={};class Cl{get jwks(){var t,r;return(r=(t=Ha[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ha[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ha[this.storageKey]=Object.assign(Object.assign({},Ha[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cl.nextInstanceID,Cl.nextInstanceID+=1,this.instanceID>0&&tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qb(s.fetch),this.lock=s.lock||By,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ET:this.lock=By,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WT(this)},this.persistSession?(s.storage?this.storage=s.storage:Wb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Uy(this.memoryStorage)),tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ub}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=tT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),GP(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new sa("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Ba(this.storage,this.storageKey)),a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:Mr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mr})}else throw new Ic("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$y})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$y})}else throw new Ic("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new za}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,l,c,u,d,f,h;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:y,wallet:b,statement:x,options:v}=t;let g;if(tr())if(typeof b=="object")g=b;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")g=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),E=await g.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Vb(E[0]);let _=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const M=await g.request({method:"eth_chainId"});_=NT(M)}const C={domain:j.host,address:N,statement:x,uri:j.href,version:"1",chainId:_,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=kT(C),w=await g.request({method:"personal_sign",params:[CT(m),N]})}try{const{data:y,error:b}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Mr});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new za}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(ne(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,m;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:b,wallet:x,statement:v,options:g}=t;let j;if(tr())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)w=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:b,error:x}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ca(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Mr});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new za}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(ne(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Qs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mr});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new za}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(ne(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new za}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ba(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ic("You must provide either an email or phone number.")}catch(l){if(ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Mr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Ba(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:yT})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ts;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Ic("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Qs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Af()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:is}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ts}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:is})})}catch(r){if(ne(r))return VP(r)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ts;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ba(this.storage,this.storageKey));const{data:u,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:is});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ts;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Of(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ts;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!tr())throw new Dc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ty("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ty("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Dc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(HP(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=eT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ba(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Mr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new za}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sT(async s=>(s>0&&await nT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mr})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Tf(a)&&Date.now()+i-n<Ja})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qs(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Za(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Af()}else if(s&&!s.user&&!s.user){const i=await Qs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Yn(this.storage,this.storageKey+"-user"),await Za(this.storage,this.storageKey,s)):s.user=Af()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Pf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Tf(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ed;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new ts;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),ne(a)){const i={data:null,error:a};return Tf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Za(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Dy(s);await Za(this.storage,this.storageKey,a)}else{const s=Dy(r);await Za(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ja}ms, refresh threshold is ${om} ticks`),s<=om&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Ba(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?IT(t.webauthn.credential_response):DT(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:AT(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MT(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Of(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+WP>s)return n;const{data:a,error:i}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Of(n);r!=null&&r.allowExpired||dT(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:i},error:null}}const d=fT(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,JP(`${l}.${c}`)))throw new cm("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}Cl.nextInstanceID=0;const HT=Cl;class VT extends HT{constructor(t){super(t)}}var GT=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KT{constructor(t,r,n){var s,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=$P(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:kP,realtime:PP,auth:Object.assign(Object.assign({},RP),{storageKey:c}),global:CP},d=LP(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=MP(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new q2(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new EP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new j2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return GT(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YT=(e,t,r)=>new KT(e,t,r);function QT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}QT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XT="https://jljeegojtkblsdhzuisu.supabase.co",JT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsamVlZ29qdGtibHNkaHp1aXN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5OTQ5MzYsImV4cCI6MjA3NjU3MDkzNn0.G7HqXK3920BqE72iQ-tnM0Wr_HcOEvmV1f6MRwb1Q5c",A=YT(XT,JT,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});class Va{static async signUp(t,r,n){var s;try{console.log("🔵 [AUTH] Iniciando registro...",{email:t,fullName:n});const{data:a,error:i}=await A.auth.signUp({email:t,password:r,options:{data:{full_name:n}}});if(console.log("🔵 [AUTH] Respuesta de Supabase:",{data:a,error:i}),i)throw console.error("🔴 [AUTH] Error en signUp:",i),i;return a.user&&!a.session&&console.warn("⚠️ [AUTH] Usuario creado pero sin sesión - Requiere confirmación de email"),console.log("✅ [AUTH] Registro exitoso:",{userId:(s=a.user)==null?void 0:s.id,hasSession:!!a.session}),{user:a.user,session:a.session}}catch(a){throw console.error("🔴 [AUTH] Error signing up:",a),a}}static async signIn(t,r){try{const{data:n,error:s}=await A.auth.signInWithPassword({email:t,password:r});if(s)throw s;return{user:n.user,session:n.session}}catch(n){throw console.error("Error signing in:",n),n}}static async signInWithGoogle(){try{const{data:t,error:r}=await A.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(r)throw r;return t}catch(t){throw console.error("Error signing in with Google:",t),t}}static async signInWithGitHub(){try{const{data:t,error:r}=await A.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/`}});if(r)throw r;return t}catch(t){throw console.error("Error signing in with GitHub:",t),t}}static async signOut(){try{const{error:t}=await A.auth.signOut();if(t)throw t}catch(t){throw console.error("Error signing out:",t),t}}static async getCurrentUser(){try{const{data:{user:t}}=await A.auth.getUser();return t}catch(t){return console.error("Error getting current user:",t),null}}static async getSession(){try{const{data:{session:t}}=await A.auth.getSession();return t}catch(t){return console.error("Error getting session:",t),null}}static async resetPassword(t){try{const{error:r}=await A.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r}catch(r){throw console.error("Error requesting password reset:",r),r}}static async updatePassword(t){try{const{error:r}=await A.auth.updateUser({password:t});if(r)throw r}catch(r){throw console.error("Error updating password:",r),r}}}const ZT=1,eO=1e6;let If=0;function tO(){return If=(If+1)%Number.MAX_SAFE_INTEGER,If.toString()}const Df=new Map,Wy=e=>{if(Df.has(e))return;const t=setTimeout(()=>{Df.delete(e),el({type:"REMOVE_TOAST",toastId:e})},eO);Df.set(e,t)},rO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ZT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Wy(r):e.toasts.forEach(n=>{Wy(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},su=[];let au={toasts:[]};function el(e){au=rO(au,e),su.forEach(t=>{t(au)})}function nO({...e}){const t=tO(),r=s=>el({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>el({type:"DISMISS_TOAST",toastId:t});return el({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function fr(){const[e,t]=p.useState(au);return p.useEffect(()=>(su.push(t),()=>{const r=su.indexOf(t);r>-1&&su.splice(r,1)}),[e]),{...e,toast:nO,dismiss:r=>el({type:"DISMISS_TOAST",toastId:r})}}const Yb=p.createContext(void 0),sO=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(null),[a,i]=p.useState(!0),{toast:l}=fr();p.useEffect(()=>{(async()=>{try{const b=await Va.getSession();s(b),r((b==null?void 0:b.user)??null)}catch(b){console.error("Error initializing auth:",b)}finally{i(!1)}})();const{data:{subscription:y}}=A.auth.onAuthStateChange((b,x)=>{s(x),r((x==null?void 0:x.user)??null),i(!1)});return()=>y.unsubscribe()},[]);const m={user:t,session:n,loading:a,signUp:async(w,y,b)=>{try{i(!0),console.log("🔵 [AuthContext] Iniciando signUp...");const{user:x,session:v}=await Va.signUp(w,y,b);if(console.log("🔵 [AuthContext] Resultado:",{hasUser:!!x,hasSession:!!v,userId:x==null?void 0:x.id}),r(x),s(v),x&&!v)throw console.warn("⚠️ [AuthContext] Usuario creado pero requiere confirmación de email"),l({title:"¡Revisa tu email!",description:"Te hemos enviado un email de confirmación. Por favor verifica tu bandeja de entrada.",variant:"default"}),new Error("EMAIL_CONFIRMATION_REQUIRED");v&&(console.log("✅ [AuthContext] Registro exitoso con sesión activa"),l({title:"¡Cuenta creada!",description:"Tu cuenta ha sido creada exitosamente."}))}catch(x){throw console.error("🔴 [AuthContext] Error en signUp:",x),x.message==="EMAIL_CONFIRMATION_REQUIRED"||l({title:"Error al crear cuenta",description:x.message||"Ocurrió un error al crear tu cuenta",variant:"destructive"}),x}finally{i(!1)}},signIn:async(w,y)=>{try{i(!0);const{user:b,session:x}=await Va.signIn(w,y);r(b),s(x),l({title:"¡Bienvenido!",description:"Has iniciado sesión correctamente"})}catch(b){throw l({title:"Error al iniciar sesión",description:b.message||"Credenciales incorrectas",variant:"destructive"}),b}finally{i(!1)}},signInWithGoogle:async()=>{try{await Va.signInWithGoogle()}catch(w){throw l({title:"Error al iniciar sesión con Google",description:w.message,variant:"destructive"}),w}},signInWithGitHub:async()=>{try{await Va.signInWithGitHub()}catch(w){throw l({title:"Error al iniciar sesión con GitHub",description:w.message,variant:"destructive"}),w}},signOut:async()=>{try{i(!0),await Va.signOut(),r(null),s(null),l({title:"Sesión cerrada",description:"Has cerrado sesión correctamente"})}catch(w){throw l({title:"Error al cerrar sesión",description:w.message,variant:"destructive"}),w}finally{i(!1)}}};return o.jsx(Yb.Provider,{value:m,children:e})},rt=()=>{const e=p.useContext(Yb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function qy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Sd(...e){return t=>{let r=!1;const n=e.map(s=>{const a=qy(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():qy(e[s],null)}}}}function Te(...e){return p.useCallback(Sd(...e),e)}function qo(e){const t=oO(e),r=p.forwardRef((n,s)=>{const{children:a,...i}=n,l=p.Children.toArray(a),c=l.find(lO);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var aO=qo("Slot");function oO(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const i=uO(s),l=cO(a,s.props);return s.type!==p.Fragment&&(l.ref=n?Sd(n,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qb=Symbol("radix.slottable");function iO(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Qb,t}function lO(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qb}function cO(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function uO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Xb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Jb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Xb(e))&&(n&&(n+=" "),n+=t);return n}const Hy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vy=Jb,Dp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Vy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Hy(d)||Hy(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...a,...l}[y]):{...a,...l}[y]===b})?[...u,f,h]:u},[]);return Vy(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},Lp="-",dO=e=>{const t=hO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Lp);return l[0]===""&&l.length!==1&&l.shift(),Zb(l,t)||fO(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Zb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Zb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Lp);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},Gy=/^\[(.+)\]$/,fO=e=>{if(Gy.test(e)){const t=Gy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pO(Object.entries(e.classGroups),r).forEach(([a,i])=>{um(i,n,a,t)}),n},um=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Ky(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(mO(s)){um(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{um(i,Ky(t,a),r,n)})})},Ky=(e,t)=>{let r=e;return t.split(Lp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mO=e=>e.isThemeGetter,pO=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,gO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},ej="!",vO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(ej),w=m?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:i}):i},yO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},xO=e=>({cache:gO(e.cacheSize),parseClassName:vO(e),...dO(e)}),wO=/\s+/,bO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(wO);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let w=!!m,y=n(w?h.substring(0,m):h);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=yO(d).join(":"),x=f?b+ej:b,v=x+y;if(a.includes(v))continue;a.push(v);const g=s(y,w);for(let j=0;j<g.length;++j){const E=g[j];a.push(x+E)}l=u+(l.length>0?" "+l:l)}return l};function jO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tj(t))&&(n&&(n+=" "),n+=r);return n}const tj=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tj(e[n]))&&(r&&(r+=" "),r+=t);return r};function _O(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=xO(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=bO(c,r);return s(c,d),d}return function(){return a(jO.apply(null,arguments))}}const Be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rj=/^\[(?:([a-z-]+):)?(.+)\]$/i,EO=/^\d+\/\d+$/,SO=new Set(["px","full","screen"]),NO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=e=>bo(e)||SO.has(e)||EO.test(e),Qn=e=>ai(e,"length",$O),bo=e=>!!e&&!Number.isNaN(Number(e)),Lf=e=>ai(e,"number",bo),Pi=e=>!!e&&Number.isInteger(Number(e)),TO=e=>e.endsWith("%")&&bo(e.slice(0,-1)),ye=e=>rj.test(e),Xn=e=>NO.test(e),OO=new Set(["length","size","percentage"]),AO=e=>ai(e,OO,nj),MO=e=>ai(e,"position",nj),IO=new Set(["image","url"]),DO=e=>ai(e,IO,UO),LO=e=>ai(e,"",FO),Ti=()=>!0,ai=(e,t,r)=>{const n=rj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$O=e=>CO.test(e)&&!kO.test(e),nj=()=>!1,FO=e=>RO.test(e),UO=e=>PO.test(e),zO=()=>{const e=Be("colors"),t=Be("spacing"),r=Be("blur"),n=Be("brightness"),s=Be("borderColor"),a=Be("borderRadius"),i=Be("borderSpacing"),l=Be("borderWidth"),c=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),m=Be("gradientColorStops"),w=Be("gradientColorStopPositions"),y=Be("inset"),b=Be("margin"),x=Be("opacity"),v=Be("padding"),g=Be("saturate"),j=Be("scale"),E=Be("sepia"),N=Be("skew"),_=Be("space"),C=Be("translate"),M=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",ye,t],D=()=>[ye,t],W=()=>["",Nn,Qn],K=()=>["auto",bo,ye],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ye],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[bo,ye];return{cacheSize:500,separator:":",theme:{colors:[Ti],spacing:[Nn,Qn],blur:["none","",Xn,ye],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Xn,ye],borderSpacing:D(),borderWidth:W(),contrast:Q(),grayscale:T(),hueRotate:Q(),invert:T(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[TO,Qn],inset:B(),margin:B(),opacity:Q(),padding:D(),saturate:Q(),scale:Q(),sepia:T(),skew:Q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Xn]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ye]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pi,ye]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Pi,ye]}],"grid-cols":[{"grid-cols":[Ti]}],"col-start-end":[{col:["auto",{span:["full",Pi,ye]},ye]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Ti]}],"row-start-end":[{row:["auto",{span:[Pi,ye]},ye]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[Xn]},Xn]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xn,Qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lf]}],"font-family":[{font:[Ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",bo,Lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,Qn]}],"underline-offset":[{"underline-offset":["auto",Nn,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),MO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Nn,ye]}],"outline-w":[{outline:[Nn,Qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Nn,Qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xn,LO]}],"shadow-color":[{shadow:[Ti]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xn,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Pi,ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nn,Qn,Lf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BO=_O(zO);function ge(...e){return BO(Jb(e))}const WO=Dp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[var(--shadow-soft)] hover:shadow-[var(--shadow-medium)] transition-[var(--transition-smooth)]",hero:"bg-gradient-to-r from-primary to-[hsl(var(--primary-glow))] text-primary-foreground hover:scale-105 shadow-[var(--shadow-medium)] hover:shadow-[var(--shadow-elevated)] transition-[var(--transition-bounce)]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?aO:"button";return o.jsx(i,{className:ge(WO({variant:t,size:r,className:e})),ref:a,...s})});U.displayName="Button";const qO=Dp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kl({className:e,variant:t,...r}){return o.jsx("div",{className:ge(qO({variant:t}),e),...r})}function Z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function HO(e,t){const r=p.createContext(t),n=a=>{const{children:i,...l}=a,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function hr(e,t=[]){let r=[];function n(a,i){const l=p.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:m,...w}=f,y=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=p.useMemo(()=>w,Object.values(w));return o.jsx(y.Provider,{value:b,children:m})};u.displayName=a+"Provider";function d(f,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=p.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,VO(s,...t)]}function VO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Nr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},GO=Rm[" useInsertionEffect ".trim().toString()]||Nr;function Pa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=KO({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=YO(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function KO({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return GO(()=>{a.current=t},[t]),p.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function YO(e){return typeof e=="function"}var QO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=QO.reduce((e,t)=>{const r=qo(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sj(e,t){e&&Vl.flushSync(()=>e.dispatchEvent(t))}function aj(e){const t=e+"CollectionProvider",[r,n]=hr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:x}=y,v=z.useRef(null),g=z.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:g,collectionRef:v,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=qo(l),u=z.forwardRef((y,b)=>{const{scope:x,children:v}=y,g=a(l,x),j=Te(b,g.collectionRef);return o.jsx(c,{ref:j,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=qo(d),m=z.forwardRef((y,b)=>{const{scope:x,children:v,...g}=y,j=z.useRef(null),E=Te(b,j),N=a(d,x);return z.useEffect(()=>(N.itemMap.set(j,{ref:j,...g}),()=>void N.itemMap.delete(j))),o.jsx(h,{[f]:"",ref:E,children:v})});m.displayName=d;function w(y){const b=a(e+"CollectionConsumer",y);return z.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,_)=>g.indexOf(N.ref.current)-g.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,n]}var XO=p.createContext(void 0);function Xl(e){const t=p.useContext(XO);return e||t||"ltr"}function jt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function JO(e,t=globalThis==null?void 0:globalThis.document){const r=jt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ZO="DismissableLayer",dm="dismissableLayer.update",eA="dismissableLayer.pointerDownOutside",tA="dismissableLayer.focusOutside",Yy,oj=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(oj),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=Te(t,_=>f(_)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),v=d?y.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=x,E=sA(_=>{const C=_.target,M=[...u.branches].some(R=>R.contains(C));!j||M||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),N=aA(_=>{const C=_.target;[...u.branches].some(R=>R.contains(C))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return JO(_=>{v===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Qy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yy)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Qy())},[d,u]),p.useEffect(()=>{const _=()=>m({});return document.addEventListener(dm,_),()=>document.removeEventListener(dm,_)},[]),o.jsx(me.div,{...c,ref:w,style:{pointerEvents:g?j?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,E.onPointerDownCapture)})});Nd.displayName=ZO;var rA="DismissableLayerBranch",nA=p.forwardRef((e,t)=>{const r=p.useContext(oj),n=p.useRef(null),s=Te(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(me.div,{...e,ref:s})});nA.displayName=rA;function sA(e,t=globalThis==null?void 0:globalThis.document){const r=jt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){ij(eA,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function aA(e,t=globalThis==null?void 0:globalThis.document){const r=jt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&ij(tA,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qy(){const e=new CustomEvent(dm);document.dispatchEvent(e)}function ij(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?sj(s,a):s.dispatchEvent(a)}var $f=0;function lj(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xy()),document.body.insertAdjacentElement("beforeend",e[1]??Xy()),$f++,()=>{$f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$f--}},[])}function Xy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ff="focusScope.autoFocusOnMount",Uf="focusScope.autoFocusOnUnmount",Jy={bubbles:!1,cancelable:!0},oA="FocusScope",$p=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=p.useState(null),u=jt(s),d=jt(a),f=p.useRef(null),h=Te(t,y=>c(y)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let y=function(g){if(m.paused||!l)return;const j=g.target;l.contains(j)?f.current=j:rs(f.current,{select:!0})},b=function(g){if(m.paused||!l)return;const j=g.relatedTarget;j!==null&&(l.contains(j)||rs(f.current,{select:!0}))},x=function(g){if(document.activeElement===document.body)for(const E of g)E.removedNodes.length>0&&rs(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){ex.add(m);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(Ff,Jy);l.addEventListener(Ff,u),l.dispatchEvent(x),x.defaultPrevented||(iA(fA(cj(l)),{select:!0}),document.activeElement===y&&rs(l))}return()=>{l.removeEventListener(Ff,u),setTimeout(()=>{const x=new CustomEvent(Uf,Jy);l.addEventListener(Uf,d),l.dispatchEvent(x),x.defaultPrevented||rs(y??document.body,{select:!0}),l.removeEventListener(Uf,d),ex.remove(m)},0)}}},[l,u,d,m]);const w=p.useCallback(y=>{if(!r&&!n||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const v=y.currentTarget,[g,j]=lA(v);g&&j?!y.shiftKey&&x===j?(y.preventDefault(),r&&rs(g,{select:!0})):y.shiftKey&&x===g&&(y.preventDefault(),r&&rs(j,{select:!0})):x===v&&y.preventDefault()}},[r,n,m.paused]);return o.jsx(me.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});$p.displayName=oA;function iA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(rs(n,{select:t}),document.activeElement!==r)return}function lA(e){const t=cj(e),r=Zy(t,e),n=Zy(t.reverse(),e);return[r,n]}function cj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zy(e,t){for(const r of e)if(!cA(r,{upTo:t}))return r}function cA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uA(e){return e instanceof HTMLInputElement&&"select"in e}function rs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uA(e)&&t&&e.select()}}var ex=dA();function dA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tx(e,t),e.unshift(t)},remove(t){var r;e=tx(e,t),(r=e[0])==null||r.resume()}}}function tx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function fA(e){return e.filter(t=>t.tagName!=="A")}var hA=Rm[" useId ".trim().toString()]||(()=>{}),mA=0;function Ss(e){const[t,r]=p.useState(hA());return Nr(()=>{r(n=>n??String(mA++))},[e]),t?`radix-${t}`:""}const pA=["top","right","bottom","left"],Ps=Math.min,sr=Math.max,Wu=Math.round,Lc=Math.floor,pn=e=>({x:e,y:e}),gA={left:"right",right:"left",bottom:"top",top:"bottom"},vA={start:"end",end:"start"};function fm(e,t,r){return sr(e,Ps(t,r))}function Wn(e,t){return typeof e=="function"?e(t):e}function qn(e){return e.split("-")[0]}function oi(e){return e.split("-")[1]}function Fp(e){return e==="x"?"y":"x"}function Up(e){return e==="y"?"height":"width"}const yA=new Set(["top","bottom"]);function fn(e){return yA.has(qn(e))?"y":"x"}function zp(e){return Fp(fn(e))}function xA(e,t,r){r===void 0&&(r=!1);const n=oi(e),s=zp(e),a=Up(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=qu(i)),[i,qu(i)]}function wA(e){const t=qu(e);return[hm(e),t,hm(t)]}function hm(e){return e.replace(/start|end/g,t=>vA[t])}const rx=["left","right"],nx=["right","left"],bA=["top","bottom"],jA=["bottom","top"];function _A(e,t,r){switch(e){case"top":case"bottom":return r?t?nx:rx:t?rx:nx;case"left":case"right":return t?bA:jA;default:return[]}}function EA(e,t,r,n){const s=oi(e);let a=_A(qn(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(hm)))),a}function qu(e){return e.replace(/left|right|bottom|top/g,t=>gA[t])}function SA(e){return{top:0,right:0,bottom:0,left:0,...e}}function uj(e){return typeof e!="number"?SA(e):{top:e,right:e,bottom:e,left:e}}function Hu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function sx(e,t,r){let{reference:n,floating:s}=e;const a=fn(t),i=zp(t),l=Up(i),c=qn(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(oi(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const NA=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=sx(u,n,c),h=n,m={},w=0;for(let y=0;y<l.length;y++){const{name:b,fn:x}=l[y],{x:v,y:g,data:j,reset:E}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=g??f,m={...m,[b]:{...m[b],...j}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:f}=sx(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Rl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Wn(t,e),w=uj(m),b=l[h?f==="floating"?"reference":"floating":f],x=Hu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(g))?await(a.getScale==null?void 0:a.getScale(g))||{x:1,y:1}:{x:1,y:1},E=Hu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:g,strategy:c}):v);return{top:(x.top-E.top+w.top)/j.y,bottom:(E.bottom-x.bottom+w.bottom)/j.y,left:(x.left-E.left+w.left)/j.x,right:(E.right-x.right+w.right)/j.x}}const CA=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Wn(e,t)||{};if(u==null)return{};const f=uj(d),h={x:r,y:n},m=zp(s),w=Up(m),y=await i.getDimensions(u),b=m==="y",x=b?"top":"left",v=b?"bottom":"right",g=b?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[m]-h[m]-a.floating[w],E=h[m]-a.reference[m],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=N?N[g]:0;(!_||!await(i.isElement==null?void 0:i.isElement(N)))&&(_=l.floating[g]||a.floating[w]);const C=j/2-E/2,M=_/2-y[w]/2-1,R=Ps(f[x],M),B=Ps(f[v],M),D=R,W=_-y[w]-B,K=_/2-y[w]/2+C,ue=fm(D,K,W),ee=!c.arrow&&oi(s)!=null&&K!==ue&&a.reference[w]/2-(K<D?R:B)-y[w]/2<0,se=ee?K<D?K-D:K-W:0;return{[m]:h[m]+se,data:{[m]:ue,centerOffset:K-ue-se,...ee&&{alignmentOffset:se}},reset:ee}}}),kA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Wn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=qn(s),v=fn(l),g=qn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(g||!y?[qu(l)]:wA(l)),N=w!=="none";!h&&N&&E.push(...EA(l,y,w,j));const _=[l,...E],C=await Rl(t,b),M=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&M.push(C[x]),f){const K=xA(s,i,j);M.push(C[K[0]],C[K[1]])}if(R=[...R,{placement:s,overflows:M}],!M.every(K=>K<=0)){var B,D;const K=(((B=a.flip)==null?void 0:B.index)||0)+1,ue=_[K];if(ue&&(!(f==="alignment"?v!==fn(ue):!1)||R.every(P=>fn(P.placement)===v?P.overflows[0]>0:!0)))return{data:{index:K,overflows:R},reset:{placement:ue}};let ee=(D=R.filter(se=>se.overflows[0]<=0).sort((se,P)=>se.overflows[1]-P.overflows[1])[0])==null?void 0:D.placement;if(!ee)switch(m){case"bestFit":{var W;const se=(W=R.filter(P=>{if(N){const T=fn(P.placement);return T===v||T==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(T=>T>0).reduce((T,$)=>T+$,0)]).sort((P,T)=>P[1]-T[1])[0])==null?void 0:W[0];se&&(ee=se);break}case"initialPlacement":ee=l;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function ax(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ox(e){return pA.some(t=>e[t]>=0)}const RA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Wn(e,t);switch(n){case"referenceHidden":{const a=await Rl(t,{...s,elementContext:"reference"}),i=ax(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ox(i)}}}case"escaped":{const a=await Rl(t,{...s,altBoundary:!0}),i=ax(a,r.floating);return{data:{escapedOffsets:i,escaped:ox(i)}}}default:return{}}}}},dj=new Set(["left","top"]);async function PA(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=qn(r),l=oi(r),c=fn(r)==="y",u=dj.has(i)?-1:1,d=a&&c?-1:1,f=Wn(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const TA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await PA(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},OA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...c}=Wn(e,t),u={x:r,y:n},d=await Rl(t,c),f=fn(qn(s)),h=Fp(f);let m=u[h],w=u[f];if(a){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=m+d[b],g=m-d[x];m=fm(v,m,g)}if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=w+d[b],g=w-d[x];w=fm(v,w,g)}const y=l.fn({...t,[h]:m,[f]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[h]:a,[f]:i}}}}}},AA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Wn(e,t),d={x:r,y:n},f=fn(s),h=Fp(f);let m=d[h],w=d[f];const y=Wn(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const g=h==="y"?"height":"width",j=a.reference[h]-a.floating[g]+b.mainAxis,E=a.reference[h]+a.reference[g]-b.mainAxis;m<j?m=j:m>E&&(m=E)}if(u){var x,v;const g=h==="y"?"width":"height",j=dj.has(qn(s)),E=a.reference[f]-a.floating[g]+(j&&((x=i.offset)==null?void 0:x[f])||0)+(j?0:b.crossAxis),N=a.reference[f]+a.reference[g]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?b.crossAxis:0);w<E?w=E:w>N&&(w=N)}return{[h]:m,[f]:w}}}},MA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Wn(e,t),d=await Rl(t,u),f=qn(s),h=oi(s),m=fn(s)==="y",{width:w,height:y}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const v=y-d.top-d.bottom,g=w-d.left-d.right,j=Ps(y-d[b],v),E=Ps(w-d[x],g),N=!t.middlewareData.shift;let _=j,C=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=v),N&&!h){const R=sr(d.left,0),B=sr(d.right,0),D=sr(d.top,0),W=sr(d.bottom,0);m?C=w-2*(R!==0||B!==0?R+B:sr(d.left,d.right)):_=y-2*(D!==0||W!==0?D+W:sr(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:_});const M=await i.getDimensions(l.floating);return w!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Cd(){return typeof window<"u"}function ii(e){return fj(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yn(e){var t;return(t=(fj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fj(e){return Cd()?e instanceof Node||e instanceof ir(e).Node:!1}function Vr(e){return Cd()?e instanceof Element||e instanceof ir(e).Element:!1}function gn(e){return Cd()?e instanceof HTMLElement||e instanceof ir(e).HTMLElement:!1}function ix(e){return!Cd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}const IA=new Set(["inline","contents"]);function Jl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!IA.has(s)}const DA=new Set(["table","td","th"]);function LA(e){return DA.has(ii(e))}const $A=[":popover-open",":modal"];function kd(e){return $A.some(t=>{try{return e.matches(t)}catch{return!1}})}const FA=["transform","translate","scale","rotate","perspective"],UA=["transform","translate","scale","rotate","perspective","filter"],zA=["paint","layout","strict","content"];function Bp(e){const t=Wp(),r=Vr(e)?Gr(e):e;return FA.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||UA.some(n=>(r.willChange||"").includes(n))||zA.some(n=>(r.contain||"").includes(n))}function BA(e){let t=Ts(e);for(;gn(t)&&!Ho(t);){if(Bp(t))return t;if(kd(t))return null;t=Ts(t)}return null}function Wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WA=new Set(["html","body","#document"]);function Ho(e){return WA.has(ii(e))}function Gr(e){return ir(e).getComputedStyle(e)}function Rd(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ts(e){if(ii(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ix(e)&&e.host||yn(e);return ix(t)?t.host:t}function hj(e){const t=Ts(e);return Ho(t)?e.ownerDocument?e.ownerDocument.body:e.body:gn(t)&&Jl(t)?t:hj(t)}function Pl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=hj(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ir(s);if(a){const l=mm(i);return t.concat(i,i.visualViewport||[],Jl(s)?s:[],l&&r?Pl(l):[])}return t.concat(s,Pl(s,[],r))}function mm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mj(e){const t=Gr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=gn(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Wu(r)!==a||Wu(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function qp(e){return Vr(e)?e:e.contextElement}function jo(e){const t=qp(e);if(!gn(t))return pn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=mj(t);let i=(a?Wu(r.width):r.width)/n,l=(a?Wu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const qA=pn(0);function pj(e){const t=ir(e);return!Wp()||!t.visualViewport?qA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ir(e)?!1:t}function Ea(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=qp(e);let i=pn(1);t&&(n?Vr(n)&&(i=jo(n)):i=jo(e));const l=HA(a,r,n)?pj(a):pn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=ir(a),m=n&&Vr(n)?ir(n):n;let w=h,y=mm(w);for(;y&&n&&m!==w;){const b=jo(y),x=y.getBoundingClientRect(),v=Gr(y),g=x.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,j=x.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=g,u+=j,w=ir(y),y=mm(w)}}return Hu({width:d,height:f,x:c,y:u})}function Pd(e,t){const r=Rd(e).scrollLeft;return t?t.left+r:Ea(yn(e)).left+r}function gj(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Pd(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function VA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=yn(n),l=t?kd(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=pn(1);const d=pn(0),f=gn(n);if((f||!f&&!a)&&((ii(n)!=="body"||Jl(i))&&(c=Rd(n)),gn(n))){const m=Ea(n);u=jo(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!a?gj(i,c):pn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function GA(e){return Array.from(e.getClientRects())}function KA(e){const t=yn(e),r=Rd(e),n=e.ownerDocument.body,s=sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Pd(e);const l=-r.scrollTop;return Gr(n).direction==="rtl"&&(i+=sr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const lx=25;function YA(e,t){const r=ir(e),n=yn(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=Wp();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Pd(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,w=Math.abs(n.clientWidth-f.clientWidth-m);w<=lx&&(a-=w)}else u<=lx&&(a+=u);return{width:a,height:i,x:l,y:c}}const QA=new Set(["absolute","fixed"]);function XA(e,t){const r=Ea(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=gn(e)?jo(e):pn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function cx(e,t,r){let n;if(t==="viewport")n=YA(e,r);else if(t==="document")n=KA(yn(e));else if(Vr(t))n=XA(t,r);else{const s=pj(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Hu(n)}function vj(e,t){const r=Ts(e);return r===t||!Vr(r)||Ho(r)?!1:Gr(r).position==="fixed"||vj(r,t)}function JA(e,t){const r=t.get(e);if(r)return r;let n=Pl(e,[],!1).filter(l=>Vr(l)&&ii(l)!=="body"),s=null;const a=Gr(e).position==="fixed";let i=a?Ts(e):e;for(;Vr(i)&&!Ho(i);){const l=Gr(i),c=Bp(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&QA.has(s.position)||Jl(i)&&!c&&vj(e,i))?n=n.filter(d=>d!==i):s=l,i=Ts(i)}return t.set(e,n),n}function ZA(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?kd(t)?[]:JA(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=cx(t,d,s);return u.top=sr(f.top,u.top),u.right=Ps(f.right,u.right),u.bottom=Ps(f.bottom,u.bottom),u.left=sr(f.left,u.left),u},cx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eM(e){const{width:t,height:r}=mj(e);return{width:t,height:r}}function tM(e,t,r){const n=gn(t),s=yn(t),a=r==="fixed",i=Ea(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=pn(0);function u(){c.x=Pd(s)}if(n||!n&&!a)if((ii(t)!=="body"||Jl(s))&&(l=Rd(t)),n){const m=Ea(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?gj(s,l):pn(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function zf(e){return Gr(e).position==="static"}function ux(e,t){if(!gn(e)||Gr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yn(e)===r&&(r=r.ownerDocument.body),r}function yj(e,t){const r=ir(e);if(kd(e))return r;if(!gn(e)){let s=Ts(e);for(;s&&!Ho(s);){if(Vr(s)&&!zf(s))return s;s=Ts(s)}return r}let n=ux(e,t);for(;n&&LA(n)&&zf(n);)n=ux(n,t);return n&&Ho(n)&&zf(n)&&!Bp(n)?r:n||BA(e)||r}const rM=async function(e){const t=this.getOffsetParent||yj,r=this.getDimensions,n=await r(e.floating);return{reference:tM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function nM(e){return Gr(e).direction==="rtl"}const sM={convertOffsetParentRelativeRectToViewportRelativeRect:VA,getDocumentElement:yn,getClippingRect:ZA,getOffsetParent:yj,getElementRects:rM,getClientRects:GA,getDimensions:eM,getScale:jo,isElement:Vr,isRTL:nM};function xj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aM(e,t){let r=null,n;const s=yn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const w=Lc(f),y=Lc(s.clientWidth-(d+h)),b=Lc(s.clientHeight-(f+m)),x=Lc(d),g={rootMargin:-w+"px "+-y+"px "+-b+"px "+-x+"px",threshold:sr(0,Ps(1,c))||1};let j=!0;function E(N){const _=N[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!xj(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(E,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,g)}r.observe(e)}return i(!0),a}function oM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=qp(e),d=s||a?[...u?Pl(u):[],...Pl(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?aM(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=m)==null||g.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,y=c?Ea(e):null;c&&b();function b(){const x=Ea(e);y&&!xj(y,x)&&r(),y=x,w=requestAnimationFrame(b)}return r(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const iM=TA,lM=OA,cM=kA,uM=MA,dM=RA,dx=CA,fM=AA,hM=(e,t,r)=>{const n=new Map,s={platform:sM,...r},a={...s.platform,_c:n};return NA(e,t,{...s,platform:a})};var mM=typeof document<"u",pM=function(){},ou=mM?p.useLayoutEffect:pM;function Vu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Vu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Vu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function wj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fx(e,t){const r=wj(e);return Math.round(t*r)/r}function Bf(e){const t=p.useRef(e);return ou(()=>{t.current=e}),t}function gM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);Vu(h,n)||m(n);const[w,y]=p.useState(null),[b,x]=p.useState(null),v=p.useCallback(P=>{P!==N.current&&(N.current=P,y(P))},[]),g=p.useCallback(P=>{P!==_.current&&(_.current=P,x(P))},[]),j=a||w,E=i||b,N=p.useRef(null),_=p.useRef(null),C=p.useRef(d),M=c!=null,R=Bf(c),B=Bf(s),D=Bf(u),W=p.useCallback(()=>{if(!N.current||!_.current)return;const P={placement:t,strategy:r,middleware:h};B.current&&(P.platform=B.current),hM(N.current,_.current,P).then(T=>{const $={...T,isPositioned:D.current!==!1};K.current&&!Vu(C.current,$)&&(C.current=$,Vl.flushSync(()=>{f($)}))})},[h,t,r,B,D]);ou(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const K=p.useRef(!1);ou(()=>(K.current=!0,()=>{K.current=!1}),[]),ou(()=>{if(j&&(N.current=j),E&&(_.current=E),j&&E){if(R.current)return R.current(j,E,W);W()}},[j,E,W,R,M]);const ue=p.useMemo(()=>({reference:N,floating:_,setReference:v,setFloating:g}),[v,g]),ee=p.useMemo(()=>({reference:j,floating:E}),[j,E]),se=p.useMemo(()=>{const P={position:r,left:0,top:0};if(!ee.floating)return P;const T=fx(ee.floating,d.x),$=fx(ee.floating,d.y);return l?{...P,transform:"translate("+T+"px, "+$+"px)",...wj(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:$}},[r,l,ee.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:W,refs:ue,elements:ee,floatingStyles:se}),[d,W,ue,ee,se])}const vM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dx({element:n.current,padding:s}).fn(r):{}:n?dx({element:n,padding:s}).fn(r):{}}}},yM=(e,t)=>({...iM(e),options:[e,t]}),xM=(e,t)=>({...lM(e),options:[e,t]}),wM=(e,t)=>({...fM(e),options:[e,t]}),bM=(e,t)=>({...cM(e),options:[e,t]}),jM=(e,t)=>({...uM(e),options:[e,t]}),_M=(e,t)=>({...dM(e),options:[e,t]}),EM=(e,t)=>({...vM(e),options:[e,t]});var SM="Arrow",bj=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(me.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});bj.displayName=SM;var NM=bj;function Hp(e){const[t,r]=p.useState(void 0);return Nr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Vp="Popper",[jj,Td]=hr(Vp),[CM,_j]=jj(Vp),Ej=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return o.jsx(CM,{scope:t,anchor:n,onAnchorChange:s,children:r})};Ej.displayName=Vp;var Sj="PopperAnchor",Nj=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=_j(Sj,r),i=p.useRef(null),l=Te(t,i),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:o.jsx(me.div,{...s,ref:l})});Nj.displayName=Sj;var Gp="PopperContent",[kM,RM]=jj(Gp),Cj=p.forwardRef((e,t)=>{var le,qt,nt,mr,Yr,Qe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,b=_j(Gp,r),[x,v]=p.useState(null),g=Te(t,Mt=>v(Mt)),[j,E]=p.useState(null),N=Hp(j),_=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,M=n+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},B=Array.isArray(u)?u:[u],D=B.length>0,W={padding:R,boundary:B.filter(TM),altBoundary:D},{refs:K,floatingStyles:ue,placement:ee,isPositioned:se,middlewareData:P}=gM({strategy:"fixed",placement:M,whileElementsMounted:(...Mt)=>oM(...Mt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[yM({mainAxis:s+C,alignmentAxis:i}),c&&xM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wM():void 0,...W}),c&&bM({...W}),jM({...W,apply:({elements:Mt,rects:zs,availableWidth:ui,availableHeight:pr})=>{const{width:di,height:Bs}=zs.reference,wn=Mt.floating.style;wn.setProperty("--radix-popper-available-width",`${ui}px`),wn.setProperty("--radix-popper-available-height",`${pr}px`),wn.setProperty("--radix-popper-anchor-width",`${di}px`),wn.setProperty("--radix-popper-anchor-height",`${Bs}px`)}}),j&&EM({element:j,padding:l}),OM({arrowWidth:_,arrowHeight:C}),h&&_M({strategy:"referenceHidden",...W})]}),[T,$]=Pj(ee),Q=jt(w);Nr(()=>{se&&(Q==null||Q())},[se,Q]);const H=(le=P.arrow)==null?void 0:le.x,fe=(qt=P.arrow)==null?void 0:qt.y,he=((nt=P.arrow)==null?void 0:nt.centerOffset)!==0,[je,Pe]=p.useState();return Nr(()=>{x&&Pe(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:se?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(mr=P.transformOrigin)==null?void 0:mr.x,(Yr=P.transformOrigin)==null?void 0:Yr.y].join(" "),...((Qe=P.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(kM,{scope:r,placedSide:T,onArrowChange:E,arrowX:H,arrowY:fe,shouldHideArrow:he,children:o.jsx(me.div,{"data-side":T,"data-align":$,...y,ref:g,style:{...y.style,animation:se?void 0:"none"}})})})});Cj.displayName=Gp;var kj="PopperArrow",PM={top:"bottom",right:"left",bottom:"top",left:"right"},Rj=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=RM(kj,n),i=PM[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(NM,{...s,ref:r,style:{...s.style,display:"block"}})})});Rj.displayName=kj;function TM(e){return e!==null}var OM=e=>({name:"transformOrigin",options:e,fn(t){var b,x,v;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Pj(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=i?f:`${h}px`,y=`${-c}px`):u==="top"?(w=i?f:`${h}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=i?f:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=i?f:`${m}px`),{data:{x:w,y}}}});function Pj(e){const[t,r="center"]=e.split("-");return[t,r]}var Tj=Ej,Oj=Nj,Aj=Cj,Mj=Rj,AM="Portal",Kp=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);Nr(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?wp.createPortal(o.jsx(me.div,{...n,ref:t}),i):null});Kp.displayName=AM;function MM(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var At=e=>{const{present:t,children:r}=e,n=IM(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=Te(n.ref,DM(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};At.displayName="Presence";function IM(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=MM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=$c(n.current);a.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,m=$c(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=$c(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(a.current=$c(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function $c(e){return(e==null?void 0:e.animationName)||"none"}function DM(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wf="rovingFocusGroup.onEntryFocus",LM={bubbles:!1,cancelable:!0},Zl="RovingFocusGroup",[pm,Ij,$M]=aj(Zl),[FM,li]=hr(Zl,[$M]),[UM,zM]=FM(Zl),Dj=p.forwardRef((e,t)=>o.jsx(pm.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pm.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(BM,{...e,ref:t})})}));Dj.displayName=Zl;var BM=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Te(t,h),w=Xl(a),[y,b]=Pa({prop:i,defaultProp:l??null,onChange:c,caller:Zl}),[x,v]=p.useState(!1),g=jt(u),j=Ij(r),E=p.useRef(!1),[N,_]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Wf,g),()=>C.removeEventListener(Wf,g)},[g]),o.jsx(UM,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(C=>b(C),[b]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>_(C=>C-1),[]),children:o.jsx(me.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{E.current=!0}),onFocus:Z(e.onFocus,C=>{const M=!E.current;if(C.target===C.currentTarget&&M&&!x){const R=new CustomEvent(Wf,LM);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const B=j().filter(ee=>ee.focusable),D=B.find(ee=>ee.active),W=B.find(ee=>ee.id===y),ue=[D,W,...B].filter(Boolean).map(ee=>ee.ref.current);Fj(ue,d)}}E.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),Lj="RovingFocusGroupItem",$j=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Ss(),u=a||c,d=zM(Lj,r),f=d.currentTabStopId===u,h=Ij(r),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return p.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),o.jsx(pm.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Z(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Z(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=HM(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const j=g.indexOf(b.currentTarget);g=d.loop?VM(g,j+1):g.slice(j+1)}setTimeout(()=>Fj(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});$j.displayName=Lj;var WM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function HM(e,t,r){const n=qM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return WM[n]}function Fj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function VM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Yp=Dj,Qp=$j,GM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ga=new WeakMap,Fc=new WeakMap,Uc={},qf=0,Uj=function(e){return e&&(e.host||Uj(e.parentNode))},KM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Uj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},YM=function(e,t,r,n){var s=KM(t,Array.isArray(e)?e:[e]);Uc[r]||(Uc[r]=new WeakMap);var a=Uc[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),w=m!==null&&m!=="false",y=(Ga.get(h)||0)+1,b=(a.get(h)||0)+1;Ga.set(h,y),a.set(h,b),i.push(h),y===1&&w&&Fc.set(h,!0),b===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),qf++,function(){i.forEach(function(f){var h=Ga.get(f)-1,m=a.get(f)-1;Ga.set(f,h),a.set(f,m),h||(Fc.has(f)||f.removeAttribute(n),Fc.delete(f)),m||f.removeAttribute(r)}),qf--,qf||(Ga=new WeakMap,Ga=new WeakMap,Fc=new WeakMap,Uc={})}},zj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=GM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),YM(n,s,r,"aria-hidden")):function(){return null}},cn=function(){return cn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},cn.apply(this,arguments)};function Bj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function QM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var iu="right-scroll-bar-position",lu="width-before-scroll-bar",XM="with-scroll-bars-hidden",JM="--removed-body-scroll-bar-size";function Hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZM(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var eI=typeof window<"u"?p.useLayoutEffect:p.useEffect,hx=new WeakMap;function tI(e,t){var r=ZM(null,function(n){return e.forEach(function(s){return Hf(s,n)})});return eI(function(){var n=hx.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||Hf(l,null)}),a.forEach(function(l){s.has(l)||Hf(l,i)})}hx.set(r,e)},[e]),r}function rI(e){return e}function nI(e,t){t===void 0&&(t=rI);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function sI(e){e===void 0&&(e={});var t=nI(null);return t.options=cn({async:!0,ssr:!1},e),t}var Wj=function(e){var t=e.sideCar,r=Bj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,cn({},r))};Wj.isSideCarExport=!0;function aI(e,t){return e.useMedium(t),Wj}var qj=sI(),Vf=function(){},Od=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Vf,onWheelCapture:Vf,onTouchMoveCapture:Vf}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,g=e.gapMode,j=Bj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,N=tI([r,t]),_=cn(cn({},j),s);return p.createElement(p.Fragment,null,d&&p.createElement(E,{sideCar:qj,removeScrollBar:u,shards:f,noRelative:m,noIsolation:w,inert:y,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:g}),i?p.cloneElement(p.Children.only(l),cn(cn({},_),{ref:N})):p.createElement(v,cn({},_,{className:c,ref:N}),l))});Od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Od.classNames={fullWidth:lu,zeroRight:iu};var oI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oI();return t&&e.setAttribute("nonce",t),e}function lI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=iI())&&(lI(t,r),cI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dI=function(){var e=uI();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Hj=function(){var e=dI(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},fI={left:0,top:0,right:0,gap:0},Gf=function(e){return parseInt(e||"",10)||0},hI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Gf(r),Gf(n),Gf(s)]},mI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fI;var t=hI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},pI=Hj(),_o="data-scroll-locked",gI=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(XM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_o,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_o,`] {
    `).concat(JM,": ").concat(l,`px;
  }
`)},mx=function(){var e=parseInt(document.body.getAttribute(_o)||"0",10);return isFinite(e)?e:0},vI=function(){p.useEffect(function(){return document.body.setAttribute(_o,(mx()+1).toString()),function(){var e=mx()-1;e<=0?document.body.removeAttribute(_o):document.body.setAttribute(_o,e.toString())}},[])},yI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;vI();var a=p.useMemo(function(){return mI(s)},[s]);return p.createElement(pI,{styles:gI(a,!t,s,r?"":"!important")})},gm=!1;if(typeof window<"u")try{var zc=Object.defineProperty({},"passive",{get:function(){return gm=!0,!0}});window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{gm=!1}var Ka=gm?{passive:!1}:!1,xI=function(e){return e.tagName==="TEXTAREA"},Vj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xI(e)&&r[t]==="visible")},wI=function(e){return Vj(e,"overflowY")},bI=function(e){return Vj(e,"overflowX")},px=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Gj(e,n);if(s){var a=Kj(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_I=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Gj=function(e,t){return e==="v"?wI(t):bI(t)},Kj=function(e,t){return e==="v"?jI(t):_I(t)},EI=function(e,t){return e==="h"&&t==="rtl"?-1:1},SI=function(e,t,r,n,s){var a=EI(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var m=Kj(e,l),w=m[0],y=m[1],b=m[2],x=y-b-a*w;(w||x)&&Gj(e,l)&&(f+=x,h+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Bc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gx=function(e){return[e.deltaX,e.deltaY]},vx=function(e){return e&&"current"in e?e.current:e},NI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kI=0,Ya=[];function RI(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(kI++)[0],a=p.useState(Hj)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=QM([e.lockRef.current],(e.shards||[]).map(vx),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=Bc(y),v=r.current,g="deltaX"in y?y.deltaX:v[0]-x[0],j="deltaY"in y?y.deltaY:v[1]-x[1],E,N=y.target,_=Math.abs(g)>Math.abs(j)?"h":"v";if("touches"in y&&_==="h"&&N.type==="range")return!1;var C=px(_,N);if(!C)return!0;if(C?E=_:(E=_==="v"?"h":"v",C=px(_,N)),!C)return!1;if(!n.current&&"changedTouches"in y&&(g||j)&&(n.current=E),!E)return!0;var M=n.current||E;return SI(M,b,y,M==="h"?g:j)},[]),c=p.useCallback(function(y){var b=y;if(!(!Ya.length||Ya[Ya.length-1]!==a)){var x="deltaY"in b?gx(b):Bc(b),v=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&NI(E.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var g=(i.current.shards||[]).map(vx).filter(Boolean).filter(function(E){return E.contains(b.target)}),j=g.length>0?l(b,g[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(y,b,x,v){var g={name:y,delta:b,target:x,should:v,shadowParent:PI(x)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(j){return j!==g})},1)},[]),d=p.useCallback(function(y){r.current=Bc(y),n.current=void 0},[]),f=p.useCallback(function(y){u(y.type,gx(y),y.target,l(y,e.lockRef.current))},[]),h=p.useCallback(function(y){u(y.type,Bc(y),y.target,l(y,e.lockRef.current))},[]);p.useEffect(function(){return Ya.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ka),document.addEventListener("touchmove",c,Ka),document.addEventListener("touchstart",d,Ka),function(){Ya=Ya.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Ka),document.removeEventListener("touchmove",c,Ka),document.removeEventListener("touchstart",d,Ka)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(a,{styles:CI(s)}):null,m?p.createElement(yI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function PI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TI=aI(qj,RI);var Xp=p.forwardRef(function(e,t){return p.createElement(Od,cn({},e,{ref:t,sideCar:TI}))});Xp.classNames=Od.classNames;var vm=["Enter"," "],OI=["ArrowDown","PageUp","Home"],Yj=["ArrowUp","PageDown","End"],AI=[...OI,...Yj],MI={ltr:[...vm,"ArrowRight"],rtl:[...vm,"ArrowLeft"]},II={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ec="Menu",[Tl,DI,LI]=aj(ec),[Ta,Qj]=hr(ec,[LI,Td,li]),Ad=Td(),Xj=li(),[$I,Oa]=Ta(ec),[FI,tc]=Ta(ec),Jj=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=Ad(t),[c,u]=p.useState(null),d=p.useRef(!1),f=jt(a),h=Xl(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),o.jsx(Tj,{...l,children:o.jsx($I,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(FI,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};Jj.displayName=ec;var UI="MenuAnchor",Jp=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ad(r);return o.jsx(Oj,{...s,...n,ref:t})});Jp.displayName=UI;var Zp="MenuPortal",[zI,Zj]=Ta(Zp,{forceMount:void 0}),e_=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Oa(Zp,t);return o.jsx(zI,{scope:t,forceMount:r,children:o.jsx(At,{present:r||a.open,children:o.jsx(Kp,{asChild:!0,container:s,children:n})})})};e_.displayName=Zp;var jr="MenuContent",[BI,eg]=Ta(jr),t_=p.forwardRef((e,t)=>{const r=Zj(jr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Oa(jr,e.__scopeMenu),i=tc(jr,e.__scopeMenu);return o.jsx(Tl.Provider,{scope:e.__scopeMenu,children:o.jsx(At,{present:n||a.open,children:o.jsx(Tl.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(WI,{...s,ref:t}):o.jsx(qI,{...s,ref:t})})})})}),WI=p.forwardRef((e,t)=>{const r=Oa(jr,e.__scopeMenu),n=p.useRef(null),s=Te(t,n);return p.useEffect(()=>{const a=n.current;if(a)return zj(a)},[]),o.jsx(tg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),qI=p.forwardRef((e,t)=>{const r=Oa(jr,e.__scopeMenu);return o.jsx(tg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),HI=qo("MenuContent.ScrollLock"),tg=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:w,...y}=e,b=Oa(jr,r),x=tc(jr,r),v=Ad(r),g=Xj(r),j=DI(r),[E,N]=p.useState(null),_=p.useRef(null),C=Te(t,_,b.onContentChange),M=p.useRef(0),R=p.useRef(""),B=p.useRef(0),D=p.useRef(null),W=p.useRef("right"),K=p.useRef(0),ue=w?Xp:p.Fragment,ee=w?{as:HI,allowPinchZoom:!0}:void 0,se=T=>{var le,qt;const $=R.current+T,Q=j().filter(nt=>!nt.disabled),H=document.activeElement,fe=(le=Q.find(nt=>nt.ref.current===H))==null?void 0:le.textValue,he=Q.map(nt=>nt.textValue),je=nD(he,$,fe),Pe=(qt=Q.find(nt=>nt.textValue===je))==null?void 0:qt.ref.current;(function nt(mr){R.current=mr,window.clearTimeout(M.current),mr!==""&&(M.current=window.setTimeout(()=>nt(""),1e3))})($),Pe&&setTimeout(()=>Pe.focus())};p.useEffect(()=>()=>window.clearTimeout(M.current),[]),lj();const P=p.useCallback(T=>{var Q,H;return W.current===((Q=D.current)==null?void 0:Q.side)&&aD(T,(H=D.current)==null?void 0:H.area)},[]);return o.jsx(BI,{scope:r,searchRef:R,onItemEnter:p.useCallback(T=>{P(T)&&T.preventDefault()},[P]),onItemLeave:p.useCallback(T=>{var $;P(T)||(($=_.current)==null||$.focus(),N(null))},[P]),onTriggerLeave:p.useCallback(T=>{P(T)&&T.preventDefault()},[P]),pointerGraceTimerRef:B,onPointerGraceIntentChange:p.useCallback(T=>{D.current=T},[]),children:o.jsx(ue,{...ee,children:o.jsx($p,{asChild:!0,trapped:s,onMountAutoFocus:Z(a,T=>{var $;T.preventDefault(),($=_.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(Yp,{asChild:!0,...g,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:N,onEntryFocus:Z(c,T=>{x.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Aj,{role:"menu","aria-orientation":"vertical","data-state":v_(b.open),"data-radix-menu-content":"",dir:x.dir,...v,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,T=>{const Q=T.target.closest("[data-radix-menu-content]")===T.currentTarget,H=T.ctrlKey||T.altKey||T.metaKey,fe=T.key.length===1;Q&&(T.key==="Tab"&&T.preventDefault(),!H&&fe&&se(T.key));const he=_.current;if(T.target!==he||!AI.includes(T.key))return;T.preventDefault();const Pe=j().filter(le=>!le.disabled).map(le=>le.ref.current);Yj.includes(T.key)&&Pe.reverse(),tD(Pe)}),onBlur:Z(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(M.current),R.current="")}),onPointerMove:Z(e.onPointerMove,Ol(T=>{const $=T.target,Q=K.current!==T.clientX;if(T.currentTarget.contains($)&&Q){const H=T.clientX>K.current?"right":"left";W.current=H,K.current=T.clientX}}))})})})})})})});t_.displayName=jr;var VI="MenuGroup",rg=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(me.div,{role:"group",...n,ref:t})});rg.displayName=VI;var GI="MenuLabel",r_=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(me.div,{...n,ref:t})});r_.displayName=GI;var Gu="MenuItem",yx="menu.itemSelect",Md=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=p.useRef(null),i=tc(Gu,e.__scopeMenu),l=eg(Gu,e.__scopeMenu),c=Te(t,a),u=p.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(yx,{bubbles:!0,cancelable:!0});f.addEventListener(yx,m=>n==null?void 0:n(m),{once:!0}),sj(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(n_,{...s,ref:c,disabled:r,onClick:Z(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Z(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Z(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||vm.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Md.displayName=Gu;var n_=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=eg(Gu,r),l=Xj(r),c=p.useRef(null),u=Te(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[a.children]),o.jsx(Tl.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(Qp,{asChild:!0,...l,focusable:!n,children:o.jsx(me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Z(e.onPointerMove,Ol(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Ol(w=>i.onItemLeave(w))),onFocus:Z(e.onFocus,()=>f(!0)),onBlur:Z(e.onBlur,()=>f(!1))})})})}),KI="MenuCheckboxItem",s_=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(c_,{scope:e.__scopeMenu,checked:r,children:o.jsx(Md,{role:"menuitemcheckbox","aria-checked":Ku(r)?"mixed":r,...s,ref:t,"data-state":sg(r),onSelect:Z(s.onSelect,()=>n==null?void 0:n(Ku(r)?!0:!r),{checkForDefaultPrevented:!1})})})});s_.displayName=KI;var a_="MenuRadioGroup",[YI,QI]=Ta(a_,{value:void 0,onValueChange:()=>{}}),o_=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=jt(n);return o.jsx(YI,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(rg,{...s,ref:t})})});o_.displayName=a_;var i_="MenuRadioItem",l_=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=QI(i_,e.__scopeMenu),a=r===s.value;return o.jsx(c_,{scope:e.__scopeMenu,checked:a,children:o.jsx(Md,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":sg(a),onSelect:Z(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});l_.displayName=i_;var ng="MenuItemIndicator",[c_,XI]=Ta(ng,{checked:!1}),u_=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=XI(ng,r);return o.jsx(At,{present:n||Ku(a.checked)||a.checked===!0,children:o.jsx(me.span,{...s,ref:t,"data-state":sg(a.checked)})})});u_.displayName=ng;var JI="MenuSeparator",d_=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});d_.displayName=JI;var ZI="MenuArrow",f_=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ad(r);return o.jsx(Mj,{...s,...n,ref:t})});f_.displayName=ZI;var eD="MenuSub",[CF,h_]=Ta(eD),zi="MenuSubTrigger",m_=p.forwardRef((e,t)=>{const r=Oa(zi,e.__scopeMenu),n=tc(zi,e.__scopeMenu),s=h_(zi,e.__scopeMenu),a=eg(zi,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Jp,{asChild:!0,...u,children:o.jsx(n_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":v_(r.open),...e,ref:Sd(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Ol(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,Ol(f=>{var m,w;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const y=(w=r.content)==null?void 0:w.dataset.side,b=y==="right",x=b?-5:5,v=h[b?"left":"right"],g=h[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:h.top},{x:g,y:h.top},{x:g,y:h.bottom},{x:v,y:h.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||MI[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});m_.displayName=zi;var p_="MenuSubContent",g_=p.forwardRef((e,t)=>{const r=Zj(jr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Oa(jr,e.__scopeMenu),i=tc(jr,e.__scopeMenu),l=h_(p_,e.__scopeMenu),c=p.useRef(null),u=Te(t,c);return o.jsx(Tl.Provider,{scope:e.__scopeMenu,children:o.jsx(At,{present:n||a.open,children:o.jsx(Tl.Slot,{scope:e.__scopeMenu,children:o.jsx(tg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=II[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});g_.displayName=p_;function v_(e){return e?"open":"closed"}function Ku(e){return e==="indeterminate"}function sg(e){return Ku(e)?"indeterminate":e?"checked":"unchecked"}function tD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function rD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function nD(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=rD(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function sD(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function aD(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return sD(r,t)}function Ol(e){return t=>t.pointerType==="mouse"?e(t):void 0}var oD=Jj,iD=Jp,lD=e_,cD=t_,uD=rg,dD=r_,fD=Md,hD=s_,mD=o_,pD=l_,gD=u_,vD=d_,yD=f_,xD=m_,wD=g_,Id="DropdownMenu",[bD]=hr(Id,[Qj]),Wt=Qj(),[jD,y_]=bD(Id),x_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Wt(t),u=p.useRef(null),[d,f]=Pa({prop:s,defaultProp:a??!1,onChange:i,caller:Id});return o.jsx(jD,{scope:t,triggerId:Ss(),triggerRef:u,contentId:Ss(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(oD,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};x_.displayName=Id;var w_="DropdownMenuTrigger",b_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=y_(w_,r),i=Wt(r);return o.jsx(iD,{asChild:!0,...i,children:o.jsx(me.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Sd(t,a.triggerRef),onPointerDown:Z(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Z(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});b_.displayName=w_;var _D="DropdownMenuPortal",j_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Wt(t);return o.jsx(lD,{...n,...r})};j_.displayName=_D;var __="DropdownMenuContent",E_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=y_(__,r),a=Wt(r),i=p.useRef(!1);return o.jsx(cD,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E_.displayName=__;var ED="DropdownMenuGroup",SD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(uD,{...s,...n,ref:t})});SD.displayName=ED;var ND="DropdownMenuLabel",S_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(dD,{...s,...n,ref:t})});S_.displayName=ND;var CD="DropdownMenuItem",N_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(fD,{...s,...n,ref:t})});N_.displayName=CD;var kD="DropdownMenuCheckboxItem",C_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(hD,{...s,...n,ref:t})});C_.displayName=kD;var RD="DropdownMenuRadioGroup",PD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(mD,{...s,...n,ref:t})});PD.displayName=RD;var TD="DropdownMenuRadioItem",k_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(pD,{...s,...n,ref:t})});k_.displayName=TD;var OD="DropdownMenuItemIndicator",R_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(gD,{...s,...n,ref:t})});R_.displayName=OD;var AD="DropdownMenuSeparator",P_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(vD,{...s,...n,ref:t})});P_.displayName=AD;var MD="DropdownMenuArrow",ID=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(yD,{...s,...n,ref:t})});ID.displayName=MD;var DD="DropdownMenuSubTrigger",T_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(xD,{...s,...n,ref:t})});T_.displayName=DD;var LD="DropdownMenuSubContent",O_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wt(r);return o.jsx(wD,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O_.displayName=LD;var $D=x_,FD=b_,UD=j_,A_=E_,M_=S_,I_=N_,D_=C_,L_=k_,$_=R_,F_=P_,U_=T_,z_=O_;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...BD,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:B_("lucide",s),...l},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(WD,{ref:a,iconNode:t,className:B_(`lucide-${zD(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ie("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ie("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ie("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ie("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ie("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tL=$D,rL=FD,nL=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(U_,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(q_,{className:"ml-auto h-4 w-4"})]}));nL.displayName=U_.displayName;const sL=p.forwardRef(({className:e,...t},r)=>o.jsx(z_,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));sL.displayName=z_.displayName;const t1=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(UD,{children:o.jsx(A_,{ref:n,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));t1.displayName=A_.displayName;const kn=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(I_,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));kn.displayName=I_.displayName;const aL=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(D_,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx($_,{children:o.jsx(Vo,{className:"h-4 w-4"})})}),t]}));aL.displayName=D_.displayName;const oL=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(L_,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx($_,{children:o.jsx(H_,{className:"h-2 w-2 fill-current"})})}),t]}));oL.displayName=L_.displayName;const r1=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(M_,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));r1.displayName=M_.displayName;const xm=p.forwardRef(({className:e,...t},r)=>o.jsx(F_,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));xm.displayName=F_.displayName;var iL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lL="VisuallyHidden",n1=p.forwardRef((e,t)=>o.jsx(me.span,{...e,ref:t,style:{...iL,...e.style}}));n1.displayName=lL;var cL=n1,[Dd]=hr("Tooltip",[Td]),Ld=Td(),s1="TooltipProvider",uL=700,wm="tooltip.open",[dL,dg]=Dd(s1),a1=e=>{const{__scopeTooltip:t,delayDuration:r=uL,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,i=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(dL,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};a1.displayName=s1;var Il="Tooltip",[fL,$d]=Dd(Il),o1=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=e,c=dg(Il,e.__scopeTooltip),u=Ld(t),[d,f]=p.useState(null),h=Ss(),m=p.useRef(0),w=i??c.disableHoverableContent,y=l??c.delayDuration,b=p.useRef(!1),[x,v]=Pa({prop:n,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(wm))):c.onClose(),a==null||a(_)},caller:Il}),g=p.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),E=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),N=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},y)},[y,v]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(Tj,{...u,children:o.jsx(fL,{scope:t,contentId:h,open:x,stateAttribute:g,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:p.useCallback(()=>{w?E():(window.clearTimeout(m.current),m.current=0)},[E,w]),onOpen:j,onClose:E,disableHoverableContent:w,children:r})})};o1.displayName=Il;var bm="TooltipTrigger",i1=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=$d(bm,r),a=dg(bm,r),i=Ld(r),l=p.useRef(null),c=Te(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Oj,{asChild:!0,...i,children:o.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Z(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});i1.displayName=bm;var hL="TooltipPortal",[kF,mL]=Dd(hL,{forceMount:void 0}),Go="TooltipContent",l1=p.forwardRef((e,t)=>{const r=mL(Go,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=$d(Go,e.__scopeTooltip);return o.jsx(At,{present:n||i.open,children:i.disableHoverableContent?o.jsx(c1,{side:s,...a,ref:t}):o.jsx(pL,{side:s,...a,ref:t})})}),pL=p.forwardRef((e,t)=>{const r=$d(Go,e.__scopeTooltip),n=dg(Go,e.__scopeTooltip),s=p.useRef(null),a=Te(t,s),[i,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((w,y)=>{const b=w.currentTarget,x={x:w.clientX,y:w.clientY},v=wL(x,b.getBoundingClientRect()),g=bL(x,v),j=jL(y.getBoundingClientRect()),E=EL([...g,...j]);l(E),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const w=b=>m(b,d),y=b=>m(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[c,d,m,h]),p.useEffect(()=>{if(i){const w=y=>{const b=y.target,x={x:y.clientX,y:y.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),g=!_L(x,i);v?h():g&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,h]),o.jsx(c1,{...e,ref:a})}),[gL,vL]=Dd(Il,{isInside:!1}),yL=iO("TooltipContent"),c1=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=$d(Go,r),u=Ld(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(wm,d),()=>document.removeEventListener(wm,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Aj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(yL,{children:n}),o.jsx(gL,{scope:r,isInside:!0,children:o.jsx(cL,{id:c.contentId,role:"tooltip",children:s||n})})]})})});l1.displayName=Go;var u1="TooltipArrow",xL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ld(r);return vL(u1,r).isInside?null:o.jsx(Mj,{...s,...n,ref:t})});xL.displayName=u1;function wL(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function bL(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jL(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function _L(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function EL(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),SL(t)}function SL(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var NL=a1,CL=o1,kL=i1,d1=l1;const RL=NL,Oi=CL,Ai=kL,eo=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(d1,{ref:n,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eo.displayName=d1.displayName;var f1={exports:{}},h1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=p;function PL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TL=typeof Object.is=="function"?Object.is:PL,OL=Ko.useState,AL=Ko.useEffect,ML=Ko.useLayoutEffect,IL=Ko.useDebugValue;function DL(e,t){var r=t(),n=OL({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return ML(function(){s.value=r,s.getSnapshot=t,Yf(s)&&a({inst:s})},[e,r,t]),AL(function(){return Yf(s)&&a({inst:s}),e(function(){Yf(s)&&a({inst:s})})},[e]),IL(r),r}function Yf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!TL(e,r)}catch{return!0}}function LL(e,t){return t()}var $L=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LL:DL;h1.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:$L;f1.exports=h1;var FL=f1.exports;function UL(){return FL.useSyncExternalStore(zL,()=>!0,()=>!1)}function zL(){return()=>{}}var fg="Avatar",[BL]=hr(fg),[WL,m1]=BL(fg),p1=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=p.useState("idle");return o.jsx(WL,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(me.span,{...n,ref:t})})});p1.displayName=fg;var g1="AvatarImage",v1=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=m1(g1,r),l=qL(n,a),c=jt(u=>{s(u),i.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(me.img,{...a,ref:t,src:n}):null});v1.displayName=g1;var y1="AvatarFallback",x1=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=m1(y1,r),[i,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(me.span,{...s,ref:t}):null});x1.displayName=y1;function bx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qL(e,{referrerPolicy:t,crossOrigin:r}){const n=UL(),s=p.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=p.useState(()=>bx(a,e));return Nr(()=>{l(bx(a,e))},[a,e]),Nr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),i}var w1=p1,b1=v1,j1=x1;const Cr=p.forwardRef(({className:e,...t},r)=>o.jsx(w1,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Cr.displayName=w1.displayName;const kr=p.forwardRef(({className:e,...t},r)=>o.jsx(b1,{ref:r,className:ge("aspect-square h-full w-full",e),...t}));kr.displayName=b1.displayName;const Rr=p.forwardRef(({className:e,...t},r)=>o.jsx(j1,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Rr.displayName=j1.displayName;const HL=()=>{const{user:e}=rt(),[t,r]=p.useState({totalUnread:0,unreadByConversation:new Map}),[n,s]=p.useState(!0),a=async()=>{if(!e){r({totalUnread:0,unreadByConversation:new Map}),s(!1);return}try{const{data:i,error:l}=await A.from("conversations").select("id").or(`user1_id.eq.${e.id},user2_id.eq.${e.id}`);if(l)throw l;if(!i||i.length===0){r({totalUnread:0,unreadByConversation:new Map}),s(!1);return}const c=i.map(m=>m.id),{data:u,error:d}=await A.from("messages").select("id, conversation_id, sender_id").in("conversation_id",c).eq("is_read",!1).neq("sender_id",e.id);if(d)throw d;const f=new Map;let h=0;u&&u.forEach(m=>{const w=f.get(m.conversation_id)||0;f.set(m.conversation_id,w+1),h++}),r({totalUnread:h,unreadByConversation:f})}catch(i){console.error("Error loading unread messages:",i)}finally{s(!1)}};return p.useEffect(()=>{a()},[e]),p.useEffect(()=>{if(!e)return;const i=A.channel("unread-messages-updates").on("postgres_changes",{event:"*",schema:"public",table:"messages"},l=>{a()}).subscribe();return()=>{A.removeChannel(i)}},[e]),{...t,loading:n,refresh:a}},St=()=>{const{user:e,signOut:t}=rt(),r=xt(),{totalUnread:n}=HL(),[s,a]=p.useState(null);p.useEffect(()=>{e?i():a(null)},[e]);const i=async()=>{var d,f;if(e)try{const{data:h,error:m}=await A.from("profiles").select("full_name, avatar_url").eq("id",e.id).single();if(m)throw m;a(h)}catch(h){console.error("Error loading profile:",h),a({full_name:((d=e.user_metadata)==null?void 0:d.full_name)||null,avatar_url:((f=e.user_metadata)==null?void 0:f.avatar_url)||null})}},l=async()=>{try{await t(),r(q.HOME)}catch{}},c=d=>d?d.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):"U",u=()=>s!=null&&s.full_name?s.full_name:e!=null&&e.email?e.email.split("@")[0]:"Usuario";return o.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ie,{to:q.HOME,className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Latidos"})}),o.jsx("div",{className:"hidden md:flex items-center space-x-6",children:o.jsxs(RL,{delayDuration:300,children:[o.jsxs(Oi,{children:[o.jsx(Ai,{asChild:!0,children:o.jsx(Ie,{to:q.EXPLORE,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Explorar"})}),o.jsx(eo,{children:o.jsx("p",{children:"Descubre historias públicas de la comunidad"})})]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs(Oi,{children:[o.jsx(Ai,{asChild:!0,children:o.jsx(Ie,{to:q.MY_STORIES,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Mis Historias"})}),o.jsx(eo,{children:o.jsx("p",{children:"Ver todas las historias que has compartido"})})]}),o.jsxs(Oi,{children:[o.jsx(Ai,{asChild:!0,children:o.jsx(Ie,{to:q.CREATE,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Compartir"})}),o.jsx(eo,{children:o.jsx("p",{children:"Crea y comparte una nueva historia"})})]}),o.jsxs(Oi,{children:[o.jsx(Ai,{asChild:!0,children:o.jsx(Ie,{to:q.COMPARTIDOS,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Compartidos"})}),o.jsx(eo,{children:o.jsx("p",{children:"Gestiona tus conexiones con otros usuarios"})})]}),o.jsxs(Oi,{children:[o.jsx(Ai,{asChild:!0,children:o.jsx(Ie,{to:q.CIRCLES,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:"Círculos"})}),o.jsx(eo,{children:o.jsx("p",{children:"Organiza compartidos en grupos temáticos"})})]})]})]})}),o.jsx("div",{className:"flex items-center space-x-4",children:e?o.jsxs(tL,{children:[o.jsx(rL,{asChild:!0,children:o.jsx(U,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:o.jsxs(Cr,{className:"h-10 w-10",children:[o.jsx(kr,{src:(s==null?void 0:s.avatar_url)||void 0,alt:u()}),o.jsx(Rr,{className:"bg-primary text-primary-foreground",children:c((s==null?void 0:s.full_name)||e.email)})]})})}),o.jsxs(t1,{className:"w-56",align:"end",forceMount:!0,children:[o.jsx(r1,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:u()}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),o.jsx(xm,{}),o.jsxs(kn,{onClick:()=>r(q.PROFILE),children:[o.jsx(e1,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Mi perfil"})]}),o.jsxs(kn,{onClick:()=>r(q.MY_STORIES),children:[o.jsx(Yu,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Mis Historias"})]}),o.jsxs(kn,{onClick:()=>r(q.FAVORITES),children:[o.jsx(lg,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Favoritos"})]}),o.jsxs(kn,{onClick:()=>r(q.COMPARTIDOS),children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Compartidos"})]}),o.jsxs(kn,{onClick:()=>r(q.CIRCLES),children:[o.jsx(ci,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Círculos"})]}),o.jsxs(kn,{onClick:()=>r(q.CHAT),children:[o.jsx(Us,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Mensajes"}),n>0&&o.jsx(kl,{variant:"destructive",className:"ml-auto h-5 min-w-5 px-1 text-xs",children:n>99?"99+":n})]}),o.jsxs(kn,{onClick:()=>r(q.PROFILE),children:[o.jsx(JD,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Configuración"})]}),o.jsx(xm,{}),o.jsxs(kn,{onClick:l,className:"text-destructive",children:[o.jsx(G_,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Cerrar sesión"})]})]})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ie,{to:q.LOGIN,children:o.jsx(U,{variant:"ghost",children:"Iniciar sesión"})}),o.jsx(Ie,{to:q.REGISTER,children:o.jsx(U,{children:"Registrarse"})})]})})]})})})},VL="/assets/hero-community-CtTMXCF2.jpg",GL=()=>{const{user:e}=rt();return o.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:VL,alt:"Comunidad compartiendo momentos auténticos",className:"w-full h-full object-cover opacity-30"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-background/60 to-background"})]}),o.jsxs("div",{className:"relative z-10 container mx-auto px-6 text-center max-w-4xl",children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent leading-tight",children:"Comparte tus momentos auténticos"}),o.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-2xl mx-auto leading-relaxed",children:"Un espacio libre de likes y algoritmos. Solo historias reales, experiencias genuinas y conexiones humanas."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e?o.jsx(Ie,{to:q.CREATE,children:o.jsxs(U,{variant:"hero",size:"lg",className:"group",children:["Comenzar a compartir",o.jsx(xx,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}):o.jsxs(o.Fragment,{children:[o.jsx(Ie,{to:q.REGISTER,children:o.jsxs(U,{variant:"hero",size:"lg",className:"group",children:["Comenzar a compartir",o.jsx(xx,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(Ie,{to:q.EXPLORE,children:o.jsx(U,{variant:"outline",size:"lg",children:"Explorar como invitado"})})]}),e&&o.jsx(Ie,{to:q.EXPLORE,children:o.jsx(U,{variant:"outline",size:"lg",children:"Explorar historias"})})]})]}),o.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full blur-3xl -z-10"}),o.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-to-tr from-accent/20 to-primary/20 rounded-full blur-3xl -z-10"})]})},Re=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const ht=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));ht.displayName="CardHeader";const mt=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));mt.displayName="CardTitle";const Ln=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Ln.displayName="CardDescription";const De=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));De.displayName="CardContent";const hg=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));hg.displayName="CardFooter";const KL=()=>o.jsx("section",{className:"py-16 px-6 bg-gradient-subtle",children:o.jsxs("div",{className:"container mx-auto max-w-6xl",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(Os,{className:"h-8 w-8 text-red-500 fill-red-500"}),o.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"¿Qué es Latidos?"})]}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Una plataforma donde compartir experiencias auténticas y conectar con personas a través de historias reales"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(W_,{className:"h-5 w-5 text-primary"}),"Cómo empezar"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"1. Crea tu cuenta"}),o.jsx("p",{children:"2. Completa tu perfil"}),o.jsx("p",{children:"3. Explora historias públicas"}),o.jsx("p",{children:"4. Conecta con otros usuarios"}),o.jsx("p",{children:"5. Comparte tus experiencias"})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(rc,{className:"h-5 w-5 text-primary"}),"Control de privacidad"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Públicas:"})," Todos pueden ver"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Privadas:"})," Solo tus compartidos"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Círculos:"})," Grupos específicos"]}),o.jsx("p",{className:"pt-2 text-xs",children:"Tú decides quién ve cada historia"})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(lr,{className:"h-5 w-5 text-primary"}),"Sistema de compartidos"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Conexiones bidireccionales entre usuarios"}),o.jsx("p",{children:"Accede a historias privadas mutuas"}),o.jsx("p",{children:"Envía y acepta solicitudes"}),o.jsx("p",{className:"pt-2 text-xs",children:"Base para círculos y compartir"})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(ci,{className:"h-5 w-5 text-primary"}),"Círculos"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Organiza compartidos en grupos"}),o.jsx("p",{children:"Ej: Familia, Amigos, Trabajo"}),o.jsx("p",{children:"Comparte historias con grupos específicos"}),o.jsx("p",{className:"pt-2 text-xs",children:"Control granular de privacidad"})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(ig,{className:"h-5 w-5 text-primary"}),"Escribir historias"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Título:"})," Descriptivo y atractivo"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Contenido:"})," Auténtico y sincero"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Imagen:"})," Hasta 5MB"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Etiquetas:"})," Para categorizar"]})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Os,{className:"h-5 w-5 text-primary"}),"Interacciones"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Reacciones:"})," Corazón a historias"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Comentarios:"})," Comparte pensamientos"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Favoritos:"})," Guarda para releer"]}),o.jsx("p",{className:"pt-2 text-xs",children:"Espacio seguro y respetuoso"})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Y_,{className:"h-5 w-5 text-primary"}),"Uso de etiquetas"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Categoriza tus historias"}),o.jsx("p",{children:"Descubre contenido relacionado"}),o.jsx("p",{children:"Crea etiquetas nuevas"}),o.jsx("p",{children:"Filtra por temáticas"})]})]}),o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(ht,{children:o.jsxs(mt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Us,{className:"h-5 w-5 text-primary"}),"Mensajería"]})}),o.jsxs(De,{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Chat en tiempo real:"})," Conversa con tus compartidos"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Privado:"})," Solo entre conexiones aceptadas"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Notificaciones:"})," Contador de mensajes no leídos"]}),o.jsx("p",{className:"pt-2 text-xs",children:"Inicia conversaciones desde Compartidos"})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsx(Ie,{to:q.GUIDES,children:o.jsxs(U,{variant:"outline",className:"gap-2",children:["Ver guía completa",o.jsx(q_,{className:"h-4 w-4"})]})})})]})}),YL=[{icon:"🌟",title:"Auténtico",description:"Sin filtros artificiales. Comparte tu verdad.",bgColor:"bg-primary/10"},{icon:"🤝",title:"Comunidad",description:"Conexiones reales basadas en intereses compartidos.",bgColor:"bg-accent/10"},{icon:"🌱",title:"Libre",description:"Tu contenido, tus reglas. Sin publicidad intrusiva.",bgColor:"bg-primary/10"}],QL=()=>o.jsx("section",{className:"py-20 px-6 bg-gradient-subtle",children:o.jsxs("div",{className:"container mx-auto max-w-6xl",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-4",children:[o.jsx(X_,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Experiencias auténticas"})]}),o.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Un espacio diferente para compartir"}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sin algoritmos que decidan qué ver. Sin métricas de vanidad. Solo historias reales de personas reales."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:YL.map((e,t)=>o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full ${e.bgColor} flex items-center justify-center`,children:o.jsx("span",{className:"text-3xl",children:e.icon})}),o.jsx("h3",{className:"font-bold text-xl mb-2",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]},t))})]})});function ct({className:e,...t}){return o.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",e),...t})}const Fd=({src:e,alt:t,className:r="",fallbackMessage:n="No se pudo cargar la imagen"})=>{const[s,a]=p.useState(!1),[i,l]=p.useState(!0);return p.useEffect(()=>{if(!e){a(!1),l(!1);return}a(!1),l(!0)},[e]),s?o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted text-muted-foreground p-4 text-center",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm",children:["❌ ",n]}),o.jsxs("p",{className:"text-xs mt-2",children:["URL: ",e.substring(0,50),"..."]})]})}):o.jsxs(o.Fragment,{children:[i&&o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cargando imagen..."})}),o.jsx("img",{src:e,alt:t,className:`${r} ${i?"hidden":""}`,onLoad:()=>l(!1),onError:()=>{l(!1),a(!0)}})]})},Ud=({tag:e,onRemove:t,variant:r="secondary",size:n="md"})=>{const s={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return o.jsxs(kl,{variant:r,className:`${s[n]} flex items-center gap-1.5 font-normal`,children:[e.emoji&&o.jsx("span",{className:"text-sm",children:e.emoji}),o.jsx("span",{children:e.name}),t&&o.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),t()},className:"ml-1 hover:text-destructive transition-colors","aria-label":`Eliminar etiqueta ${e.name}`,children:o.jsx(Hn,{className:"h-3 w-3"})})]})};class jm{static async addFavorite(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Usuario no autenticado");const{data:n,error:s}=await A.from("favorites").insert({user_id:r.id,experience_id:t.experience_id}).select().single();if(s)throw console.error("Error al agregar favorito:",s),s;return n}static async removeFavorite(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Usuario no autenticado");const{error:n}=await A.from("favorites").delete().eq("user_id",r.id).eq("experience_id",t);if(n)throw console.error("Error al quitar favorito:",n),n}static async isFavorite(t){const{data:{user:r}}=await A.auth.getUser();if(!r)return!1;const{data:n,error:s}=await A.from("favorites").select("id").eq("user_id",r.id).eq("experience_id",t).maybeSingle();return s?(console.error("Error al verificar favorito:",s),!1):!!n}static async toggleFavorite(t){return await this.isFavorite(t)?(await this.removeFavorite(t),!1):(await this.addFavorite({experience_id:t}),!0)}static async getMyFavorites(){const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await A.from("favorites").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw console.error("Error al obtener favoritos:",n),n;return!r||r.length===0?[]:(await Promise.all(r.map(async a=>{const{data:i,error:l}=await A.from("experiences_with_author").select("id, title, excerpt, image_url, author_name, author_avatar, created_at").eq("id",a.experience_id).single();return l?(console.error("Error al obtener experiencia:",l),null):{...a,experience:i}}))).filter(a=>a!==null)}static async countFavorites(t){const{count:r,error:n}=await A.from("favorites").select("*",{count:"exact",head:!0}).eq("experience_id",t);return n?(console.error("Error al contar favoritos:",n),0):r||0}static async getMyFavoriteIds(){const{data:{user:t}}=await A.auth.getUser();if(!t)return[];const{data:r,error:n}=await A.from("favorites").select("experience_id").eq("user_id",t.id);return n?(console.error("Error al obtener IDs de favoritos:",n),[]):r.map(s=>s.experience_id)}}const _m=({experienceId:e,experienceTitle:t="esta historia",variant:r="ghost",size:n="icon",showLabel:s=!1,className:a})=>{const{user:i}=rt(),[l,c]=p.useState(!1),[u,d]=p.useState(!0),[f,h]=p.useState(!1),m=y=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(y);p.useEffect(()=>{(async()=>{if(!i){d(!1);return}if(!m(e)){d(!1);return}try{const b=await jm.isFavorite(e);c(b)}catch(b){console.error("Error al verificar favorito:",b)}finally{d(!1)}})()},[e,i]);const w=async y=>{if(y.stopPropagation(),y.preventDefault(),!i){pe.error("Debes iniciar sesión para agregar favoritos");return}if(!m(e)){pe.info("Esta es una historia de ejemplo",{description:"Los favoritos solo funcionan con historias reales"});return}if(!f){h(!0);try{const b=await jm.toggleFavorite(e);c(b),b?pe.success("Agregado a favoritos",{description:t}):pe.info("Quitado de favoritos",{description:t})}catch(b){console.error("Error al alternar favorito:",b),pe.error("Error al actualizar favorito")}finally{h(!1)}}};return u?null:o.jsxs(U,{variant:r,size:n,onClick:w,disabled:f||!i,className:ge("transition-all",l&&"text-yellow-500 hover:text-yellow-600",a),title:i?l?"Quitar de favoritos":"Agregar a favoritos":"Inicia sesión para agregar favoritos",children:[o.jsx(lg,{className:ge("h-5 w-5 transition-all",l&&"fill-yellow-500")}),s&&o.jsx("span",{className:"ml-2",children:l?"Favorito":"Agregar a favoritos"})]})},Dl=({experience:e})=>{const t=xt(),r=a=>new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),n=a=>a?a.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2):"?",s=()=>{t(`${q.EXPERIENCE}/${e.id}`)};return o.jsxs(Re,{className:"overflow-hidden group hover:shadow-[var(--shadow-elevated)] transition-[var(--transition-smooth)] cursor-pointer border-border/50",onClick:s,children:[e.image_url?o.jsxs("div",{className:"relative h-64 overflow-hidden bg-muted",children:[o.jsx(Fd,{src:e.image_url,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",fallbackMessage:"Imagen no disponible"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx(_m,{experienceId:e.id,experienceTitle:e.title,variant:"default",className:"bg-white/90 hover:bg-white shadow-lg"})})]}):o.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center",children:[o.jsx("p",{className:"text-muted-foreground text-sm",children:"Sin imagen"}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx(_m,{experienceId:e.id,experienceTitle:e.title,variant:"default",className:"bg-white/90 hover:bg-white shadow-lg"})})]}),o.jsxs(De,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs(Cr,{className:"h-10 w-10 border-2 border-primary/20",children:[o.jsx(kr,{src:e.author_avatar||"",alt:e.author_name||"Usuario"}),o.jsx(Rr,{className:"bg-primary/10 text-primary",children:n(e.author_name)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-sm",children:e.author_name||"Usuario anónimo"}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(ag,{className:"h-3 w-3"}),o.jsx("span",{children:r(e.created_at)})]})]})]}),o.jsx("h3",{className:"font-bold text-xl mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:e.title}),o.jsx("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4 leading-relaxed",children:e.excerpt||e.content.substring(0,150)+"..."}),e.tags&&e.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,3).map(a=>o.jsx(Ud,{tag:a,variant:"secondary",size:"sm"},a.id)),e.tags.length>3&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center",children:["+",e.tags.length-3," más"]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground border-t border-border/50 pt-4",children:[o.jsxs("div",{className:"flex items-center gap-1 hover:text-primary transition-colors",children:[o.jsx(Os,{className:"h-4 w-4"}),o.jsx("span",{children:e.reactions_count||0})]}),o.jsxs("div",{className:"flex items-center gap-1 hover:text-primary transition-colors",children:[o.jsx(Us,{className:"h-4 w-4"}),o.jsx("span",{children:e.comments_count||0})]})]})]})]})};class Vn{static async getAllExperiences(){try{const{data:t,error:r}=await A.from("experiences_with_tags").select("*").order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Error fetching experiences:",t),t}}static async getPublicExperiences(){try{const{data:t,error:r}=await A.from("experiences_with_tags").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Error fetching public experiences:",t),t}}static async getExperienceById(t){try{const{data:r,error:n}=await A.from("experiences_with_tags").select("*").eq("id",t).single();if(n)throw n;return r}catch(r){throw console.error("Error fetching experience:",r),r}}static async getExperiencesByUserId(t){try{const{data:r,error:n}=await A.from("experiences_with_author").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){throw console.error("Error fetching user experiences:",r),r}}static async getMyStories(){try{const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await A.from("experiences_with_tags").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(t){throw console.error("Error fetching my stories:",t),t}}static async getSharedStories(){try{const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await A.from("experiences").select("*").eq("is_public",!1).neq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return await Promise.all((r||[]).map(async a=>{const{data:i}=await A.from("profiles").select("full_name, avatar_url").eq("id",a.user_id).single();return{...a,author_name:(i==null?void 0:i.full_name)||null,author_avatar:(i==null?void 0:i.avatar_url)||null,reactions_count:0,comments_count:0,tags:null}}))}catch(t){throw console.error("Error fetching shared stories:",t),t}}static async createExperience(t){try{const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("User must be authenticated to create experiences");const{tag_ids:n,...s}=t,{data:a,error:i}=await A.from("experiences").insert([{user_id:r.id,...s}]).select().single();if(i)throw i;return a}catch(r){throw console.error("Error creating experience:",r),r}}static async updateExperience(t,r){try{const{tag_ids:n,...s}=r,{data:a,error:i}=await A.from("experiences").update(s).eq("id",t).select().single();if(i)throw i;return a}catch(n){throw console.error("Error updating experience:",n),n}}static async deleteExperience(t){try{const{error:r}=await A.from("experiences").delete().eq("id",t);if(r)throw r}catch(r){throw console.error("Error deleting experience:",r),r}}static async searchExperiences(t){try{const{data:r,error:n}=await A.from("experiences_with_author").select("*").or(`title.ilike.%${t}%,content.ilike.%${t}%,excerpt.ilike.%${t}%`).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){throw console.error("Error searching experiences:",r),r}}static async getUserExperiencesCount(t){try{const{count:r,error:n}=await A.from("experiences").select("*",{count:"exact",head:!0}).eq("user_id",t);if(n)throw n;return r||0}catch(r){return console.error("Error counting user experiences:",r),0}}}const XL=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const a=await Vn.getPublicExperiences();t(a.slice(0,4))}catch(a){console.error("Error loading recent experiences:",a),t([])}finally{n(!1)}};return o.jsx("section",{className:"py-20 px-6",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Experiencias recientes"}),o.jsx("p",{className:"text-muted-foreground",children:"Historias compartidas por nuestra comunidad"})]}),o.jsx(Ie,{to:q.EXPLORE,children:o.jsx(U,{variant:"outline",children:"Ver todas"})})]}),r?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>o.jsx(ct,{className:"h-80 rounded-lg"},a))}):e.length===0?o.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[o.jsx("p",{children:"No hay historias públicas aún"}),o.jsx("p",{className:"text-sm mt-2",children:"Sé el primero en compartir una experiencia"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(a=>o.jsx(Dl,{experience:a},a.id))})]})})},JL=()=>o.jsx("section",{className:"py-20 px-6 bg-gradient-to-r from-primary to-accent",children:o.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-primary-foreground",children:"¿Listo para compartir tu historia?"}),o.jsx("p",{className:"text-xl text-primary-foreground/90 mb-8 max-w-2xl mx-auto",children:"Únete a una comunidad que valora la autenticidad y las conexiones genuinas."}),o.jsx(Ie,{to:q.REGISTER,children:o.jsx(U,{size:"lg",variant:"secondary",className:"shadow-[var(--shadow-elevated)] hover:scale-105 transition-[var(--transition-bounce)]",children:"Crear mi cuenta"})})]})}),nc=()=>o.jsx("footer",{className:"py-12 px-6 border-t border-border/50",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Ie,{to:q.HOME,children:o.jsx("h3",{className:"font-bold text-2xl mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent hover:opacity-80 transition-opacity cursor-pointer",children:"Momentos Auténticos"})}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"Una plataforma dedicada a preservar y compartir experiencias reales, lejos del ruido de las redes sociales tradicionales."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Comunidad"}),o.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[o.jsx("li",{children:o.jsx(Ie,{to:q.EXPLORE,className:"hover:text-primary transition-colors",children:"Explorar"})}),o.jsx("li",{children:o.jsx(Ie,{to:q.GUIDES,className:"hover:text-primary transition-colors",children:"Guías"})}),o.jsx("li",{children:o.jsx(Ie,{to:q.EXPLORE,className:"hover:text-primary transition-colors",children:"Historias destacadas"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Acerca de"}),o.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[o.jsx("li",{children:o.jsx(Ie,{to:q.MISSION,className:"hover:text-primary transition-colors",children:"Nuestra misión"})}),o.jsx("li",{children:o.jsx(Ie,{to:q.PRIVACY,className:"hover:text-primary transition-colors",children:"Privacidad"})}),o.jsx("li",{children:o.jsx(Ie,{to:q.CONTACT,className:"hover:text-primary transition-colors",children:"Contacto"})})]})]})]}),o.jsx("div",{className:"pt-8 border-t border-border/50 text-center text-muted-foreground",children:o.jsx("p",{children:"© 2025 Momentos Auténticos. Hecho con ❤️ por GOMEZMON & Claude para personas reales."})})]})}),ZL=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx(St,{}),o.jsx(GL,{}),o.jsx(KL,{}),o.jsx(QL,{}),o.jsx(XL,{}),o.jsx(JL,{}),o.jsx(nc,{})]}),Tt=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Tt.displayName="Input";class Yo{static async getAllTags(){const{data:t,error:r}=await A.from("tags").select("*").order("name",{ascending:!0});if(r)throw console.error("Error fetching tags:",r),new Error("No se pudieron cargar las etiquetas");return t||[]}static async getTagBySlug(t){const{data:r,error:n}=await A.from("tags").select("*").eq("slug",t).single();return n?(console.error("Error fetching tag:",n),null):r}static async getTagsForExperience(t){const{data:r,error:n}=await A.from("experience_tags").select(`
        tag_id,
        tags (*)
      `).eq("experience_id",t);if(n)throw console.error("Error fetching experience tags:",n),new Error("No se pudieron cargar las etiquetas de la historia");return(r==null?void 0:r.map(s=>s.tags).filter(Boolean))||[]}static async addTagsToExperience(t,r){const n=r.map(a=>({experience_id:t,tag_id:a})),{error:s}=await A.from("experience_tags").insert(n);if(s)throw console.error("Error adding tags to experience:",s),new Error("No se pudieron agregar las etiquetas a la historia")}static async removeAllTagsFromExperience(t){const{error:r}=await A.from("experience_tags").delete().eq("experience_id",t);if(r)throw console.error("Error removing tags from experience:",r),new Error("No se pudieron eliminar las etiquetas de la historia")}static async updateTagsForExperience(t,r){await this.removeAllTagsFromExperience(t),r.length>0&&await this.addTagsToExperience(t,r)}static async getExperiencesByTag(t){const{data:r,error:n}=await A.rpc("get_experiences_by_tag",{tag_slug:t});if(n)throw console.error("Error fetching experiences by tag:",n),new Error("No se pudieron cargar las historias con esta etiqueta");return r||[]}static async getExperiencesByTags(t){const{data:r,error:n}=await A.rpc("get_experiences_by_tags",{tag_slugs:t});if(n)throw console.error("Error fetching experiences by tags:",n),new Error("No se pudieron cargar las historias con estas etiquetas");return r||[]}static async createTag(t,r){const n=t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-"),{data:s,error:a}=await A.from("tags").insert({name:t.trim(),slug:n,emoji:r||null}).select().single();if(a)throw console.error("Error creating tag:",a),a.code==="23505"?new Error("Ya existe una etiqueta con ese nombre"):new Error("No se pudo crear la etiqueta");return s}}const e4=({selectedTagIds:e,onChange:t})=>{const[r,n]=p.useState([]),[s,a]=p.useState(!0),[i,l]=p.useState(!1);p.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0);const h=await Yo.getAllTags();n(h)}catch(h){console.error("Error loading tags:",h)}finally{a(!1)}},u=h=>{const m=e.includes(h);t(m?e.filter(w=>w!==h):[...e,h])},d=()=>{t([])},f=r.filter(h=>e.includes(h.id));return i||r.slice(0,12),s?o.jsx("div",{className:"w-full py-4 px-6 bg-card border-b border-border",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"Cargando etiquetas..."})}):o.jsx("div",{className:"w-full py-4 px-6 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto max-w-7xl",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Filtrar por categorías"}),f.length>0&&o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Filtrando por:"}),f.map(h=>o.jsx(Ud,{tag:h,onRemove:()=>u(h.id),variant:"default",size:"sm"},h.id))]})]}),f.length>0&&o.jsxs(U,{variant:"ghost",size:"sm",onClick:d,className:"h-7 px-2 text-xs",children:[o.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Limpiar"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:(i?r:r.slice(0,12)).map(h=>{const m=e.includes(h.id);return o.jsxs(U,{type:"button",variant:m?"default":"outline",size:"sm",onClick:()=>u(h.id),className:"h-9 px-3 justify-start transition-all",children:[h.emoji&&o.jsx("span",{className:"mr-2",children:h.emoji}),o.jsx("span",{className:"truncate",children:h.name})]},h.id)})}),r.length>12&&o.jsx("div",{className:"mt-3 text-center",children:o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>l(!i),className:"h-8 px-4 text-xs",children:i?"Ver menos":`Ver todas (${r.length-12} más)`})})]})})},t4=()=>{const[e,t]=p.useState(""),[r,n]=p.useState([]),[s,a]=p.useState([]),[i,l]=p.useState([]),[c,u]=p.useState(!0);p.useEffect(()=>{f()},[]),p.useEffect(()=>{d()},[e,r,s]);const d=()=>{let h=s;if(e.trim()){const m=e.toLowerCase();h=h.filter(w=>{var y,b;return w.title.toLowerCase().includes(m)||w.content.toLowerCase().includes(m)||((y=w.excerpt)==null?void 0:y.toLowerCase().includes(m))||((b=w.author_name)==null?void 0:b.toLowerCase().includes(m))})}r.length>0&&(h=h.filter(m=>!m.tags||m.tags.length===0?!1:m.tags.some(w=>r.includes(w.id)))),l(h)},f=async()=>{u(!0);try{const h=await Vn.getPublicExperiences();a(h),l(h)}catch(h){console.error("Error loading experiences:",h)}finally{u(!1)}};return o.jsxs("div",{className:"min-h-screen",children:[o.jsx(St,{}),o.jsx(e4,{selectedTagIds:r,onChange:n}),o.jsx("main",{className:"container mx-auto px-6 py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Explora historias auténticas"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Descubre experiencias reales compartidas por nuestra comunidad"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(K_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(Tt,{type:"search",placeholder:"Buscar experiencias, autores...",className:"pl-10",value:e,onChange:h=>t(h.target.value)})]}),o.jsxs(U,{variant:"outline",className:"gap-2",children:[o.jsx(YD,{className:"h-4 w-4"}),"Filtros"]})]}),!c&&o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-muted-foreground",children:[i.length," ",i.length===1?"experiencia encontrada":"experiencias encontradas",(e||r.length>0)&&o.jsx("span",{className:"ml-1",children:e&&r.length>0?" (con búsqueda y filtros activos)":e?" (con búsqueda activa)":" (con filtros activos)"})]})}),c&&o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((h,m)=>o.jsxs("div",{className:"space-y-4",children:[o.jsx(ct,{className:"h-64 w-full"}),o.jsx(ct,{className:"h-4 w-3/4"}),o.jsx(ct,{className:"h-4 w-1/2"})]},m))}),!c&&i.length>0&&o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(h=>o.jsx(Dl,{experience:h},h.id))}),!c&&i.length===0&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx("p",{className:"text-2xl font-semibold mb-2",children:e?"No se encontraron experiencias":"Aún no hay historias"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:e?"Intenta con otros términos de búsqueda":"Sé el primero en compartir una experiencia auténtica"}),o.jsx(U,{onClick:()=>t(""),children:e?"Limpiar búsqueda":"Compartir mi historia"})]})]})})]})};var r4="Label",_1=p.forwardRef((e,t)=>o.jsx(me.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_1.displayName=r4;var E1=_1;const n4=Dp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=p.forwardRef(({className:e,...t},r)=>o.jsx(E1,{ref:r,className:ge(n4(),e),...t}));xe.displayName=E1.displayName;const s4=()=>{const[e,t]=p.useState(""),[r,n]=p.useState(""),[s,a]=p.useState(!1),{signIn:i,signInWithGoogle:l,signInWithGitHub:c}=rt(),u=xt(),d=async f=>{f.preventDefault(),a(!0);try{await i(e,r),u(q.HOME)}catch{}finally{a(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-subtle px-6",children:[o.jsxs(Ie,{to:"/",className:"absolute top-6 left-6 flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[o.jsx(Aa,{className:"h-4 w-4"}),"Volver al inicio"]}),o.jsxs(Re,{className:"w-full max-w-md",children:[o.jsxs(ht,{className:"space-y-1",children:[o.jsx(mt,{className:"text-3xl font-bold text-center",children:"Bienvenido de nuevo"}),o.jsx(Ln,{className:"text-center",children:"Ingresa tu email y contraseña para continuar"})]}),o.jsxs(De,{children:[o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email"}),o.jsx(Tt,{id:"email",type:"email",placeholder:"tu@email.com",value:e,onChange:f=>t(f.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xe,{htmlFor:"password",children:"Contraseña"}),o.jsx(Ie,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"¿Olvidaste tu contraseña?"})]}),o.jsx(Tt,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:f=>n(f.target.value),required:!0})]}),o.jsx(U,{type:"submit",className:"w-full",disabled:s,children:s?"Iniciando sesión...":"Iniciar sesión"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"O continúa con"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(U,{variant:"outline",type:"button",onClick:l,disabled:s,children:"Google"}),o.jsx(U,{variant:"outline",type:"button",onClick:c,disabled:s,children:"GitHub"})]})]}),o.jsxs(hg,{className:"flex flex-col gap-4",children:[o.jsxs("p",{className:"text-center text-sm text-muted-foreground w-full",children:["¿No tienes una cuenta?"," ",o.jsx(Ie,{to:"/register",className:"text-primary hover:underline font-semibold",children:"Regístrate"})]}),o.jsxs("div",{className:"w-full border-t pt-4",children:[o.jsxs(U,{variant:"ghost",className:"w-full",onClick:()=>u(q.EXPLORE),children:[o.jsx(og,{className:"h-4 w-4 mr-2"}),"Continuar como Invitado"]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Solo podrás ver historias públicas"})]})]})]})]})};function S1(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zd="Checkbox",[a4]=hr(zd),[o4,mg]=a4(zd);function i4(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Pa({prop:r,defaultProp:s??!1,onChange:c,caller:zd}),[w,y]=p.useState(null),[b,x]=p.useState(null),v=p.useRef(!1),g=w?!!i||!!w.closest("form"):!0,j={checked:h,disabled:a,setChecked:m,control:w,setControl:y,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Ns(s)?!1:s,isFormControl:g,bubbleInput:b,setBubbleInput:x};return o.jsx(o4,{scope:t,...j,children:l4(f)?f(j):n})}var N1="CheckboxTrigger",C1=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:w}=mg(N1,e),y=Te(s,d),b=p.useRef(c);return p.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const v=()=>f(b.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[a,f]),o.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Ns(c)?"mixed":c,"aria-required":u,"data-state":O1(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:y,onKeyDown:Z(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Z(r,x=>{f(v=>Ns(v)?!0:!v),w&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});C1.displayName=N1;var pg=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(i4,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(C1,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(T1,{__scopeCheckbox:r})]})})});pg.displayName=zd;var k1="CheckboxIndicator",R1=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=mg(k1,r);return o.jsx(At,{present:n||Ns(a.checked)||a.checked===!0,children:o.jsx(me.span,{"data-state":O1(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});R1.displayName=k1;var P1="CheckboxBubbleInput",T1=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=mg(P1,e),w=Te(r,m),y=S1(a),b=Hp(n);p.useEffect(()=>{const v=h;if(!v)return;const g=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(g,"checked").set,N=!s.current;if(y!==a&&E){const _=new Event("click",{bubbles:N});v.indeterminate=Ns(a),E.call(v,Ns(a)?!1:a),v.dispatchEvent(_)}},[h,y,a,s]);const x=p.useRef(Ns(a)?!1:a);return o.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T1.displayName=P1;function l4(e){return typeof e=="function"}function Ns(e){return e==="indeterminate"}function O1(e){return Ns(e)?"indeterminate":e?"checked":"unchecked"}const gg=p.forwardRef(({className:e,...t},r)=>o.jsx(pg,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(R1,{className:ge("flex items-center justify-center text-current"),children:o.jsx(Vo,{className:"h-4 w-4"})})}));gg.displayName=pg.displayName;const c4=()=>{const[e,t]=p.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=p.useState(!1),[s,a]=p.useState(!1),{signUp:i,signInWithGoogle:l,signInWithGitHub:c}=rt(),{toast:u}=fr(),d=xt(),f=async m=>{if(m.preventDefault(),e.password!==e.confirmPassword){u({title:"Error",description:"Las contraseñas no coinciden",variant:"destructive"});return}if(!r){u({title:"Error",description:"Debes aceptar los términos y condiciones",variant:"destructive"});return}a(!0);try{console.log("🔵 [Register] Intentando registrar usuario..."),await i(e.email,e.password,e.name),console.log("✅ [Register] Usuario registrado, navegando a home..."),d(q.HOME)}catch(w){if(console.error("🔴 [Register] Error en registro:",w),(w==null?void 0:w.message)==="EMAIL_CONFIRMATION_REQUIRED"){console.log("⚠️ [Register] Se requiere confirmación de email, no navegando");return}}finally{a(!1)}},h=m=>{t(w=>({...w,[m.target.id]:m.target.value}))};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-subtle px-6 py-12",children:[o.jsxs(Ie,{to:"/",className:"absolute top-6 left-6 flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[o.jsx(Aa,{className:"h-4 w-4"}),"Volver al inicio"]}),o.jsxs(Re,{className:"w-full max-w-md",children:[o.jsxs(ht,{className:"space-y-1",children:[o.jsx(mt,{className:"text-3xl font-bold text-center",children:"Crea tu cuenta"}),o.jsx(Ln,{className:"text-center",children:"Únete a nuestra comunidad de historias auténticas"})]}),o.jsxs(De,{children:[o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"name",children:"Nombre completo"}),o.jsx(Tt,{id:"name",type:"text",placeholder:"Juan Pérez",value:e.name,onChange:h,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email"}),o.jsx(Tt,{id:"email",type:"email",placeholder:"tu@email.com",value:e.email,onChange:h,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"password",children:"Contraseña"}),o.jsx(Tt,{id:"password",type:"password",placeholder:"••••••••",value:e.password,onChange:h,required:!0,minLength:8}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Mínimo 8 caracteres"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"confirmPassword",children:"Confirmar contraseña"}),o.jsx(Tt,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:e.confirmPassword,onChange:h,required:!0})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(gg,{id:"terms",checked:r,onCheckedChange:m=>n(m)}),o.jsxs("label",{htmlFor:"terms",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Acepto los"," ",o.jsx(Ie,{to:"/terms",className:"text-primary hover:underline",children:"términos y condiciones"})," ","y la"," ",o.jsx(Ie,{to:"/privacy",className:"text-primary hover:underline",children:"política de privacidad"})]})]}),o.jsx(U,{type:"submit",className:"w-full",disabled:s,children:s?"Creando cuenta...":"Crear cuenta"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"O regístrate con"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(U,{variant:"outline",type:"button",onClick:l,disabled:s,children:"Google"}),o.jsx(U,{variant:"outline",type:"button",onClick:c,disabled:s,children:"GitHub"})]})]}),o.jsxs(hg,{className:"flex flex-col gap-4",children:[o.jsxs("p",{className:"text-center text-sm text-muted-foreground w-full",children:["¿Ya tienes una cuenta?"," ",o.jsx(Ie,{to:"/login",className:"text-primary hover:underline font-semibold",children:"Inicia sesión"})]}),o.jsxs("div",{className:"w-full border-t pt-4",children:[o.jsxs(U,{variant:"ghost",className:"w-full",onClick:()=>d(q.EXPLORE),children:[o.jsx(og,{className:"h-4 w-4 mr-2"}),"Continuar como Invitado"]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Solo podrás ver historias públicas"})]})]})]})]})},vn=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vn.displayName="Textarea";var u4="Separator",jx="horizontal",d4=["horizontal","vertical"],A1=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=jx,...s}=e,a=f4(n)?n:jx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(me.div,{"data-orientation":a,...l,...s,ref:t})});A1.displayName=u4;function f4(e){return d4.includes(e)}var M1=A1;const rl=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(M1,{ref:s,decorative:r,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));rl.displayName=M1.displayName;const h4=()=>{var b;const{user:e,signOut:t}=rt(),{toast:r}=fr(),n=xt(),[s,a]=p.useState(!1),[i,l]=p.useState(!1),[c,u]=p.useState({fullName:"",bio:"",avatarUrl:""});p.useEffect(()=>{e?d():n(q.LOGIN)},[e,n]);const d=async()=>{var x,v,g;if(e)try{const{data:j,error:E}=await A.from("profiles").select("full_name, bio, avatar_url").eq("id",e.id).single();if(E)throw E;j&&u({fullName:j.full_name||"",bio:j.bio||"",avatarUrl:j.avatar_url||""})}catch(j){console.error("Error loading profile:",j),u({fullName:((x=e.user_metadata)==null?void 0:x.full_name)||"",bio:((v=e.user_metadata)==null?void 0:v.bio)||"",avatarUrl:((g=e.user_metadata)==null?void 0:g.avatar_url)||""})}},f=x=>{u(v=>({...v,[x.target.id]:x.target.value}))},h=async()=>{if(e){l(!0);try{const{error:x}=await A.from("profiles").update({full_name:c.fullName,bio:c.bio,avatar_url:c.avatarUrl,updated_at:new Date().toISOString()}).eq("id",e.id);if(x)throw x;r({title:"Perfil actualizado",description:"Tus cambios han sido guardados exitosamente"}),a(!1),await d(),setTimeout(()=>{window.location.reload()},500)}catch(x){console.error("Error saving profile:",x),r({title:"Error al guardar",description:x.message||"No se pudo actualizar tu perfil",variant:"destructive"})}finally{l(!1)}}},m=async()=>{try{await t(),n(q.HOME)}catch{}},w=x=>x?x.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"U",y=x=>x?new Date(x).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha desconocida";return e?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b sticky top-0 z-10",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(U,{variant:"ghost",onClick:()=>n(q.HOME),className:"flex items-center gap-2",children:[o.jsx(Aa,{className:"h-4 w-4"}),"Volver"]}),o.jsx("h1",{className:"text-xl font-bold",children:"Mi Perfil"}),o.jsxs(U,{variant:"ghost",onClick:m,className:"flex items-center gap-2 text-destructive hover:text-destructive",children:[o.jsx(G_,{className:"h-4 w-4"}),"Salir"]})]})})}),o.jsx("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(Re,{children:[o.jsx(ht,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Cr,{className:"h-20 w-20",children:[o.jsx(kr,{src:c.avatarUrl,alt:c.fullName}),o.jsx(Rr,{className:"text-xl",children:w(c.fullName||e.email||"")})]}),s&&o.jsx(U,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",children:o.jsx(HD,{className:"h-4 w-4"})})]}),o.jsxs("div",{children:[o.jsx(mt,{className:"text-2xl",children:c.fullName||"Usuario sin nombre"}),o.jsxs(Ln,{className:"flex items-center gap-2 mt-1",children:[o.jsx(tl,{className:"h-4 w-4"}),e.email]})]})]}),s?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",onClick:()=>{a(!1),d()},children:"Cancelar"}),o.jsx(U,{onClick:h,disabled:i,children:i?"Guardando...":"Guardar"})]}):o.jsx(U,{onClick:()=>a(!0),children:"Editar perfil"})]})}),o.jsxs(De,{className:"space-y-6",children:[s?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"fullName",children:"Nombre completo"}),o.jsx(Tt,{id:"fullName",value:c.fullName,onChange:f,placeholder:"Tu nombre completo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"bio",children:"Biografía"}),o.jsx(vn,{id:"bio",value:c.bio,onChange:f,placeholder:"Cuéntanos algo sobre ti...",rows:4,className:"resize-none"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.bio.length,"/500 caracteres"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"avatarUrl",children:"URL de avatar (opcional)"}),o.jsx(Tt,{id:"avatarUrl",value:c.avatarUrl,onChange:f,placeholder:"https://ejemplo.com/tu-foto.jpg",type:"url"})]})]})}):o.jsx(o.Fragment,{children:o.jsx("div",{className:"space-y-4",children:c.bio&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Biografía"}),o.jsx("p",{className:"text-sm",children:c.bio})]})})}),o.jsx(rl,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Información de la cuenta"}),o.jsxs("div",{className:"grid gap-3 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(e1,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsxs("span",{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ag,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Miembro desde:"}),o.jsx("span",{children:y(e.created_at)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tl,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),o.jsx("span",{className:"capitalize",children:((b=e.app_metadata)==null?void 0:b.provider)||"email"})]})]})]})]})]}),o.jsxs(Re,{children:[o.jsxs(ht,{children:[o.jsx(mt,{children:"Estadísticas"}),o.jsx(Ln,{children:"Tu actividad en la plataforma"})]}),o.jsx(De,{children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-3xl font-bold text-primary",children:"0"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Historias"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-3xl font-bold text-primary",children:"0"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Reacciones"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-3xl font-bold text-primary",children:"0"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comentarios"})]})]})})]}),o.jsxs(Re,{children:[o.jsxs(ht,{children:[o.jsx(mt,{children:"Mis Historias"}),o.jsx(Ln,{children:"Las experiencias que has compartido"})]}),o.jsx(De,{children:o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("p",{className:"mb-4",children:"Aún no has compartido ninguna historia"}),o.jsx(U,{onClick:()=>n(q.HOME),children:"Compartir mi primera historia"})]})})]})]})})]}):null};var vg="Radio",[m4,I1]=hr(vg),[p4,g4]=m4(vg),D1=p.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=p.useState(null),m=Te(t,b=>h(b)),w=p.useRef(!1),y=f?u||!!f.closest("form"):!0;return o.jsxs(p4,{scope:r,checked:s,disabled:i,children:[o.jsx(me.button,{type:"button",role:"radio","aria-checked":s,"data-state":U1(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:m,onClick:Z(e.onClick,b=>{s||c==null||c(),y&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),y&&o.jsx(F1,{control:f,bubbles:!w.current,name:n,value:l,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});D1.displayName=vg;var L1="RadioIndicator",$1=p.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=g4(L1,r);return o.jsx(At,{present:n||a.checked,children:o.jsx(me.span,{"data-state":U1(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});$1.displayName=L1;var v4="RadioBubbleInput",F1=p.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=p.useRef(null),l=Te(i,a),c=S1(r),u=Hp(t);return p.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(w)}},[c,r,n]),o.jsx(me.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F1.displayName=v4;function U1(e){return e?"checked":"unchecked"}var y4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bd="RadioGroup",[x4]=hr(Bd,[li,I1]),z1=li(),B1=I1(),[w4,b4]=x4(Bd),W1=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=z1(r),w=Xl(u),[y,b]=Pa({prop:a,defaultProp:s??null,onChange:f,caller:Bd});return o.jsx(w4,{scope:r,name:n,required:i,disabled:l,value:y,onValueChange:b,children:o.jsx(Yp,{asChild:!0,...m,orientation:c,dir:w,loop:d,children:o.jsx(me.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...h,ref:t})})})});W1.displayName=Bd;var q1="RadioGroupItem",H1=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=b4(q1,r),i=a.disabled||n,l=z1(r),c=B1(r),u=p.useRef(null),d=Te(t,u),f=a.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const m=y=>{y4.includes(y.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),o.jsx(Qp,{asChild:!0,...l,focusable:!i,active:f,children:o.jsx(D1,{disabled:i,required:a.required,checked:f,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Z(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Z(s.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});H1.displayName=q1;var j4="RadioGroupIndicator",V1=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=B1(r);return o.jsx($1,{...s,...n,ref:t})});V1.displayName=j4;var G1=W1,K1=H1,_4=V1;const sc=p.forwardRef(({className:e,...t},r)=>o.jsx(G1,{className:ge("grid gap-2",e),...t,ref:r}));sc.displayName=G1.displayName;const $n=p.forwardRef(({className:e,...t},r)=>o.jsx(K1,{ref:r,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(_4,{className:"flex items-center justify-center",children:o.jsx(H_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$n.displayName=K1.displayName;const Qf="experience-images",Wc=5*1024*1024,Xf=["image/jpeg","image/jpg","image/png","image/webp","image/gif"];class nl{static async uploadImage(t,r){if(!Xf.includes(t.type))throw new Error(`Tipo de archivo no permitido. Solo se permiten: ${Xf.join(", ")}`);if(t.size>Wc)throw new Error(`El archivo es demasiado grande. Tamaño máximo: ${Wc/1024/1024}MB`);const n=t.name.split(".").pop(),s=`${crypto.randomUUID()}.${n}`,a=`${r}/${s}`,{data:i,error:l}=await A.storage.from(Qf).upload(a,t,{cacheControl:"3600",upsert:!1});if(l)throw console.error("Upload error:",l),new Error(`Error al subir la imagen: ${l.message}`);const{data:c}=A.storage.from(Qf).getPublicUrl(i.path);return{url:c.publicUrl,path:i.path}}static async deleteImage(t){const{error:r}=await A.storage.from(Qf).remove([t]);if(r)throw console.error("Delete error:",r),new Error(`Error al eliminar la imagen: ${r.message}`)}static async replaceImage(t,r,n){const s=await this.uploadImage(r,n);if(t)try{await this.deleteImage(t)}catch(a){console.warn("Failed to delete old image:",a)}return s}static getPathFromUrl(t){try{const r=t.match(/\/object\/public\/experience-images\/(.+)$/);return r?r[1]:null}catch{return null}}static validateImageFile(t){return Xf.includes(t.type)?t.size>Wc?{valid:!1,error:`El archivo es demasiado grande. Tamaño máximo: ${Wc/1024/1024}MB`}:{valid:!0}:{valid:!1,error:"Tipo de archivo no permitido. Solo se permiten: JPG, PNG, WebP, GIF"}}}const Y1=({selectedTagIds:e,onChange:t,maxTags:r=5,required:n=!1,label:s="Etiquetas"})=>{const[a,i]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(""),[f,h]=p.useState(!1),{toast:m}=fr();p.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0);const g=await Yo.getAllTags();i(g)}catch(g){console.error("Error loading tags:",g),m({title:"Error",description:"No se pudieron cargar las etiquetas",variant:"destructive"})}finally{c(!1)}},y=g=>{if(e.includes(g))t(e.filter(E=>E!==g));else{if(e.length>=r){m({title:"Límite alcanzado",description:`Solo puedes seleccionar hasta ${r} etiquetas`,variant:"destructive"});return}t([...e,g])}},b=async()=>{console.log("🔵 [TagSelector] handleCreateTag llamado");const g=u.trim();if(console.log("🔵 [TagSelector] Nombre trimmed:",g),!g){console.log("❌ [TagSelector] Nombre vacío"),m({title:"Error",description:"El nombre de la etiqueta no puede estar vacío",variant:"destructive"});return}if(g.length<2){m({title:"Error",description:"El nombre debe tener al menos 2 caracteres",variant:"destructive"});return}if(g.length>30){m({title:"Error",description:"El nombre no puede tener más de 30 caracteres",variant:"destructive"});return}h(!0),console.log("⏳ [TagSelector] Iniciando creación...");try{console.log("🔵 [TagSelector] Llamando a TagService.createTag");const j=await Yo.createTag(g);console.log("✅ [TagSelector] Etiqueta creada:",j),i(E=>[...E,j].sort((N,_)=>N.name.localeCompare(_.name))),console.log("✅ [TagSelector] Etiqueta agregada a la lista"),e.length<r&&(t([...e,j.id]),console.log("✅ [TagSelector] Etiqueta seleccionada automáticamente")),d(""),console.log("✅ [TagSelector] Campo limpiado"),m({title:"¡Etiqueta creada!",description:`La etiqueta "${j.name}" ha sido creada y agregada`}),console.log("✅ [TagSelector] Toast mostrado")}catch(j){console.error("❌ [TagSelector] Error al crear etiqueta:",j),m({title:"Error",description:j.message||"No se pudo crear la etiqueta",variant:"destructive"})}finally{h(!1),console.log("✅ [TagSelector] Proceso finalizado")}},x=a.filter(g=>e.includes(g.id)),v=a.filter(g=>!e.includes(g.id));return l?o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:s}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),"Cargando etiquetas..."]})]}):a.length===0?o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:s}),o.jsx("div",{className:"text-sm text-destructive",children:"No se pudieron cargar las etiquetas. Por favor recarga la página."})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(xe,{children:[s,n&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length,"/",r," seleccionadas"]})]}),x.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:x.map(g=>o.jsx(Ud,{tag:g,onRemove:()=>y(g.id),variant:"default"},g.id))}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Crear nueva etiqueta:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Tt,{type:"text",value:u,onChange:g=>d(g.target.value),onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),b())},placeholder:"Nombre de la etiqueta...",maxLength:30,disabled:f,className:"flex-1"}),o.jsx(U,{type:"button",onClick:b,disabled:f||!u.trim(),size:"sm",className:"gap-1",children:f?o.jsxs(o.Fragment,{children:[o.jsx(lt,{className:"h-4 w-4 animate-spin"}),"Creando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Al,{className:"h-4 w-4"}),"Crear"]})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e.length<r?"O selecciona etiquetas existentes:":"Límite alcanzado. Elimina alguna para agregar otra."}),o.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto p-2 border border-border rounded-lg",children:v.map(g=>o.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>y(g.id),disabled:e.length>=r,className:"h-auto py-1.5 px-3 hover:bg-primary/10 hover:border-primary transition-colors",children:[g.emoji&&o.jsx("span",{className:"mr-1.5",children:g.emoji}),g.name]},g.id))})]}),n&&e.length===0&&o.jsx("p",{className:"text-sm text-destructive",children:"Debes seleccionar al menos una etiqueta"})]})};function E4(e,[t,r]){return Math.min(r,Math.max(t,e))}function S4(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var yg="ScrollArea",[Q1]=hr(yg),[N4,Pr]=Q1(yg),X1=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,w]=p.useState(null),[y,b]=p.useState(null),[x,v]=p.useState(0),[g,j]=p.useState(0),[E,N]=p.useState(!1),[_,C]=p.useState(!1),M=Te(t,B=>c(B)),R=Xl(s);return o.jsx(N4,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:j,children:o.jsx(me.div,{dir:R,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":g+"px",...e.style}})})});X1.displayName=yg;var J1="ScrollAreaViewport",Z1=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,i=Pr(J1,r),l=p.useRef(null),c=Te(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(me.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Z1.displayName=J1;var xn="ScrollAreaScrollbar",xg=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(xn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(C4,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(k4,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(eE,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(wg,{...n,ref:t}):null});xg.displayName=xn;var C4=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(xn,e.__scopeScrollArea),[a,i]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(At,{present:r||a,children:o.jsx(eE,{"data-state":a?"visible":"hidden",...n,ref:t})})}),k4=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Pr(xn,e.__scopeScrollArea),a=e.orientation==="horizontal",i=qd(()=>c("SCROLL_END"),100),[l,c]=S4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(At,{present:r||l!=="hidden",children:o.jsx(wg,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),eE=p.forwardRef((e,t)=>{const r=Pr(xn,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=p.useState(!1),l=e.orientation==="horizontal",c=qd(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Qo(r.viewport,c),Qo(r.content,c),o.jsx(At,{present:n||a,children:o.jsx(wg,{"data-state":a?"visible":"hidden",...s,ref:t})})}),wg=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Pr(xn,e.__scopeScrollArea),a=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=aE(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return M4(h,i.current,l,m)}return r==="horizontal"?o.jsx(R4,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=_x(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(P4,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=_x(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),R4=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Pr(xn,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=Te(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(rE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),iE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Xu(i.paddingLeft),paddingEnd:Xu(i.paddingRight)}})}})}),P4=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Pr(xn,e.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=Te(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(rE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),iE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Xu(i.paddingTop),paddingEnd:Xu(i.paddingBottom)}})}})}),[T4,tE]=Q1(xn),rE=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Pr(xn,r),[w,y]=p.useState(null),b=Te(t,M=>y(M)),x=p.useRef(null),v=p.useRef(""),g=m.viewport,j=n.content-n.viewport,E=jt(d),N=jt(c),_=qd(f,10);function C(M){if(x.current){const R=M.clientX-x.current.left,B=M.clientY-x.current.top;u({x:R,y:B})}}return p.useEffect(()=>{const M=R=>{const B=R.target;(w==null?void 0:w.contains(B))&&E(R,j)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[g,w,j,E]),p.useEffect(N,[n,N]),Qo(w,_),Qo(m.content,_),o.jsx(T4,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:jt(a),onThumbPointerUp:jt(i),onThumbPositionChange:N,onThumbPointerDown:jt(l),children:o.jsx(me.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:Z(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),x.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(M))}),onPointerMove:Z(e.onPointerMove,C),onPointerUp:Z(e.onPointerUp,M=>{const R=M.target;R.hasPointerCapture(M.pointerId)&&R.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Qu="ScrollAreaThumb",nE=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=tE(Qu,e.__scopeScrollArea);return o.jsx(At,{present:r||s.hasThumb,children:o.jsx(O4,{ref:t,...n})})}),O4=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Pr(Qu,r),i=tE(Qu,r),{onThumbPositionChange:l}=i,c=Te(t,f=>i.onThumbChange(f)),u=p.useRef(void 0),d=qd(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=I4(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(me.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Z(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,y=f.clientY-m.top;i.onThumbPointerDown({x:w,y})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});nE.displayName=Qu;var bg="ScrollAreaCorner",sE=p.forwardRef((e,t)=>{const r=Pr(bg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(A4,{...e,ref:t}):null});sE.displayName=bg;var A4=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Pr(bg,r),[a,i]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return Qo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Qo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(me.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xu(e){return e?parseInt(e,10):0}function aE(e,t){const r=e/t;return isNaN(r)?0:r}function Wd(e){const t=aE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function M4(e,t,r,n="ltr"){const s=Wd(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return oE([c,u],f)(e)}function _x(e,t,r="ltr"){const n=Wd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=E4(e,c);return oE([0,i],[0,l])(u)}function oE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function iE(e,t){return e>0&&e<t}var I4=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function qd(e,t){const r=jt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qo(e,t){const r=jt(t);Nr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var lE=X1,D4=Z1,L4=sE;const Xo=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(lE,{ref:n,className:ge("relative overflow-hidden",e),...r,children:[o.jsx(D4,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(cE,{}),o.jsx(L4,{})]}));Xo.displayName=lE.displayName;const cE=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(xg,{ref:n,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(nE,{className:"relative flex-1 rounded-full bg-border"})}));cE.displayName=xg.displayName;class $t{static async sendConnectionRequest(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión para enviar solicitudes");if(r.id===t.shared_user_id)throw new Error("No puedes conectarte contigo mismo");const n=await this.getConnectionBetweenUsers(r.id,t.shared_user_id);if(n){if(n.status==="pending")throw new Error("Ya tienes una solicitud pendiente con este usuario");if(n.status==="accepted")throw new Error("Ya estás conectado con este usuario");n.status==="rejected"&&await this.deleteConnection(n.id)}const{data:s,error:a}=await A.from("shared_connections").insert({user_id:r.id,shared_user_id:t.shared_user_id,status:"pending"}).select().single();if(a)throw console.error("Error sending connection request:",a),new Error("No se pudo enviar la solicitud");return s}static async getConnectionBetweenUsers(t,r){const{data:n,error:s}=await A.from("shared_connections").select("*").or(`and(user_id.eq.${t},shared_user_id.eq.${r}),and(user_id.eq.${r},shared_user_id.eq.${t})`).maybeSingle();return s?(console.error("Error getting connection:",s),null):n}static async acceptConnectionRequest(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión");const{data:n,error:s}=await A.from("shared_connections").update({status:"accepted"}).eq("id",t).eq("shared_user_id",r.id).select().single();if(s)throw console.error("Error accepting connection:",s),new Error("No se pudo aceptar la solicitud");return n}static async rejectConnectionRequest(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión");const{data:n,error:s}=await A.from("shared_connections").update({status:"rejected"}).eq("id",t).eq("shared_user_id",r.id).select().single();if(s)throw console.error("Error rejecting connection:",s),new Error("No se pudo rechazar la solicitud");return n}static async deleteConnection(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión");const{error:n}=await A.from("shared_connections").delete().eq("id",t).or(`user_id.eq.${r.id},shared_user_id.eq.${r.id}`);if(n)throw console.error("Error deleting connection:",n),new Error("No se pudo eliminar la conexión")}static async getMyConnections(){const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Debes iniciar sesión");const{data:r,error:n}=await A.from("shared_connections").select("*").eq("status","accepted").or(`user_id.eq.${t.id},shared_user_id.eq.${t.id}`);if(n)throw console.error("Error getting connections:",n),new Error("No se pudieron cargar las conexiones");return await Promise.all((r||[]).map(async a=>{const i=a.user_id===t.id,l=i?a.shared_user_id:a.user_id,{data:c}=await A.from("profiles").select("id, full_name, avatar_url").eq("id",l).single();return{id:a.id,other_user_id:l,other_user_name:(c==null?void 0:c.full_name)||null,other_user_avatar:(c==null?void 0:c.avatar_url)||null,status:a.status,is_sender:i,created_at:a.created_at}}))}static async getPendingRequests(){const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Debes iniciar sesión");const{data:r,error:n}=await A.from("shared_connections").select("*").eq("status","pending").eq("shared_user_id",t.id);if(n)throw console.error("Error getting pending requests:",n),new Error("No se pudieron cargar las solicitudes");return await Promise.all((r||[]).map(async a=>{const{data:i}=await A.from("profiles").select("id, full_name, avatar_url").eq("id",a.user_id).single();return{id:a.id,other_user_id:a.user_id,other_user_name:(i==null?void 0:i.full_name)||null,other_user_avatar:(i==null?void 0:i.avatar_url)||null,status:a.status,is_sender:!1,created_at:a.created_at}}))}static async getSentRequests(){const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Debes iniciar sesión");const{data:r,error:n}=await A.from("shared_connections").select("*").eq("status","pending").eq("user_id",t.id);if(n)throw console.error("Error getting sent requests:",n),new Error("No se pudieron cargar las solicitudes enviadas");return await Promise.all((r||[]).map(async a=>{const{data:i}=await A.from("profiles").select("id, full_name, avatar_url").eq("id",a.shared_user_id).single();return{id:a.id,other_user_id:a.shared_user_id,other_user_name:(i==null?void 0:i.full_name)||null,other_user_avatar:(i==null?void 0:i.avatar_url)||null,status:a.status,is_sender:!0,created_at:a.created_at}}))}static async isConnectedWith(t){const{data:{user:r}}=await A.auth.getUser();if(!r)return!1;const{data:n}=await A.rpc("are_users_connected",{user1_id:r.id,user2_id:t});return n||!1}static async getConnectionStatus(t){const{data:{user:r}}=await A.auth.getUser();if(!r)return null;const{data:n}=await A.rpc("get_connection_status",{user1_id:r.id,user2_id:t});return n}static async countMyConnections(){const{data:{user:t}}=await A.auth.getUser();if(!t)return 0;const{data:r}=await A.rpc("count_user_connections",{target_user_id:t.id});return r||0}static async countPendingRequests(){const{data:{user:t}}=await A.auth.getUser();if(!t)return 0;const{data:r}=await A.rpc("count_pending_requests",{target_user_id:t.id});return r||0}}class Cs{static async getMyCircles(){const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await A.from("circles_with_member_count").select("*").eq("owner_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}static async getCircleById(t){const{data:r,error:n}=await A.from("circles").select("*").eq("id",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}static async createCircle(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Usuario no autenticado");const{data:n,error:s}=await A.from("circles").insert([{owner_id:r.id,name:t.name,description:t.description||null,color:t.color||"#8B5CF6"}]).select().single();if(s)throw s;return n}static async updateCircle(t,r){const{data:n,error:s}=await A.from("circles").update(r).eq("id",t).select().single();if(s)throw s;return n}static async deleteCircle(t){const{error:r}=await A.from("circles").delete().eq("id",t);if(r)throw r}static async getCircleMembers(t){const{data:r,error:n}=await A.from("circle_members").select("*").eq("circle_id",t);if(n)throw n;return await Promise.all((r||[]).map(async a=>{const{data:i}=await A.from("profiles").select("full_name, avatar_url").eq("id",a.user_id).single();return{...a,full_name:(i==null?void 0:i.full_name)||null,avatar_url:(i==null?void 0:i.avatar_url)||null}}))}static async addMemberToCircle(t,r){const{data:n,error:s}=await A.from("circle_members").insert([{circle_id:t,user_id:r}]).select().single();if(s)throw s.code==="23505"?new Error("Este usuario ya está en el círculo"):s;return n}static async removeMemberFromCircle(t,r){const{error:n}=await A.from("circle_members").delete().eq("circle_id",t).eq("user_id",r);if(n)throw n}static async isUserInCircle(t,r){const{data:n,error:s}=await A.from("circle_members").select("id").eq("circle_id",t).eq("user_id",r).maybeSingle();if(s)throw s;return n!==null}static async countCircleMembers(t){const{count:r,error:n}=await A.from("circle_members").select("*",{count:"exact",head:!0}).eq("circle_id",t);if(n)throw n;return r||0}}const $4=({selectedCircleId:e,onChange:t})=>{const[r,n]=p.useState([]),[s,a]=p.useState(!0);p.useEffect(()=>{i()},[]);const i=async()=>{try{a(!0);const l=await Cs.getMyCircles();n(l)}catch(l){console.error("Error loading circles:",l)}finally{a(!1)}};return s?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):r.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground border rounded-lg bg-muted/30",children:[o.jsx(ci,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm font-medium",children:"No tienes círculos creados"}),o.jsx("p",{className:"text-xs mt-1",children:"Crea círculos para compartir historias con grupos específicos"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{className:"text-sm text-muted-foreground",children:"Selecciona un círculo"}),o.jsx(Xo,{className:"max-h-[300px] rounded-md border p-4",children:o.jsx(sc,{value:e||"",onValueChange:l=>t(l||null),className:"space-y-3",children:r.map(l=>o.jsxs("div",{className:"flex items-start space-x-3 space-y-0 p-3 rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsx($n,{value:l.id,id:`circle-${l.id}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:`circle-${l.id}`,className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),o.jsx("span",{className:"font-medium",children:l.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",l.member_count," ",l.member_count===1?"miembro":"miembros",")"]})]}),l.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 ml-5",children:l.description})]})]},l.id))})})]})},uE=({selectedUserIds:e,onChange:t,shareMode:r,onShareModeChange:n,selectedCircleId:s,onCircleChange:a})=>{const[i,l]=p.useState([]),[c,u]=p.useState(!0);p.useEffect(()=>{d()},[]);const d=async()=>{try{u(!0);const m=await $t.getMyConnections();l(m)}catch(m){console.error("Error loading connections:",m)}finally{u(!1)}},f=m=>{e.includes(m)?t(e.filter(w=>w!==m)):t([...e,m])},h=m=>m?m.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2):"U";return c?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):i.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(lr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No tienes compartidos aún"}),o.jsx("p",{className:"text-xs mt-1",children:"Las historias privadas solo las verás tú"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs(sc,{value:r,onValueChange:m=>n(m),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"all",id:"share-all"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"share-all",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(lr,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"font-medium",children:"Compartir con todos mis compartidos"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Todos tus compartidos aceptados podrán ver esta historia (",i.length," ",i.length===1?"persona":"personas",")"]})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"circle",id:"share-circle"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"share-circle",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(ci,{className:"h-4 w-4 text-violet-600"}),o.jsx("span",{className:"font-medium",children:"Compartir con un círculo"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Comparte con un grupo específico de personas"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"specific",id:"share-specific"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"share-specific",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(ug,{className:"h-4 w-4 text-purple-600"}),o.jsx("span",{className:"font-medium",children:"Compartir con compartidos específicos"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Selecciona individualmente con quién compartir esta historia"})]})]})]}),r==="circle"&&a&&o.jsx("div",{className:"mt-4",children:o.jsx($4,{selectedCircleId:s||null,onChange:a})}),r==="specific"&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs(xe,{className:"text-sm text-muted-foreground",children:["Selecciona personas (",e.length," seleccionada",e.length!==1?"s":"",")"]}),o.jsx(Xo,{className:"h-[300px] rounded-md border p-4",children:o.jsx("div",{className:"space-y-3",children:i.map(m=>o.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsx(gg,{checked:e.includes(m.other_user_id),onCheckedChange:()=>f(m.other_user_id)}),o.jsxs(Cr,{className:"h-10 w-10",children:[o.jsx(kr,{src:m.other_user_avatar||void 0,alt:m.other_user_name||"Usuario"}),o.jsx(Rr,{children:h(m.other_user_name)})]}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium truncate",children:m.other_user_name||"Usuario sin nombre"})})]},m.id))})})]})]})},F4=()=>{const{user:e}=rt(),{toast:t}=fr(),r=xt(),[n,s]=p.useState(!1),[a,i]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState([]),[m,w]=p.useState(!0),[y,b]=p.useState("all"),[x,v]=p.useState([]),[g,j]=p.useState(null),[E,N]=p.useState({title:"",content:"",excerpt:"",image_url:""});p.useEffect(()=>{e||r(q.LOGIN)},[e,r]);const _=D=>{N(W=>({...W,[D.target.id]:D.target.value}))},C=D=>{var ee;const W=(ee=D.target.files)==null?void 0:ee[0];if(!W)return;const K=nl.validateImageFile(W);if(!K.valid){t({title:"⚠️ Archivo no válido",description:K.error,variant:"destructive"}),D.target.value="";return}c(W);const ue=URL.createObjectURL(W);d(ue)},M=()=>{u&&URL.revokeObjectURL(u),c(null),d(""),N(D=>({...D,image_url:""}))},R=async D=>{if(D.preventDefault(),!E.title.trim()){t({title:"Error",description:"El título es obligatorio",variant:"destructive"});return}if(!E.content.trim()){t({title:"Error",description:"El contenido es obligatorio",variant:"destructive"});return}if(f.length===0){t({title:"Error",description:"Debes seleccionar al menos una etiqueta",variant:"destructive"});return}if(e){s(!0);try{let W=E.image_url.trim();if(l){i(!0);try{W=(await nl.uploadImage(l,e.id)).url}catch(se){t({title:"Error al subir imagen",description:se.message,variant:"destructive"}),s(!1),i(!1);return}finally{i(!1)}}let K=null,ue=null;m||(y==="circle"?ue=g:y==="specific"&&(K=x));const ee=await Vn.createExperience({title:E.title.trim(),content:E.content.trim(),excerpt:E.excerpt.trim()||void 0,image_url:W||void 0,is_public:m,shared_with:K,shared_circle_id:ue,tag_ids:f});f.length>0&&await Yo.addTagsToExperience(ee.id,f),t({title:"¡Historia publicada!",description:"Tu experiencia ha sido compartida exitosamente"}),u&&URL.revokeObjectURL(u),r(`${q.EXPERIENCE}/${ee.id}`)}catch(W){t({title:"Error al publicar",description:W.message||"No se pudo publicar tu historia",variant:"destructive"})}finally{s(!1)}}},B=()=>{E.title||E.content||E.excerpt||E.image_url?window.confirm("¿Estás seguro de que quieres salir? Los cambios no guardados se perderán.")&&r(q.HOME):r(q.HOME)};return e?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>r(q.HOME),children:o.jsx(Aa,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Comparte tu historia"}),o.jsx("p",{className:"text-muted-foreground",children:"Comparte una experiencia auténtica con la comunidad"})]})]}),o.jsxs(Re,{children:[o.jsxs(ht,{children:[o.jsx(mt,{children:"Nueva Historia"}),o.jsx(Ln,{children:"Completa los campos para publicar tu experiencia"})]}),o.jsx(De,{children:o.jsxs("form",{onSubmit:R,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"title",children:["Título ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(Tt,{id:"title",value:E.title,onChange:_,placeholder:"Un título llamativo para tu historia",maxLength:200,required:!0}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.title.length,"/200 caracteres"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"excerpt",children:"Extracto (opcional)"}),o.jsx(vn,{id:"excerpt",value:E.excerpt,onChange:_,placeholder:"Un breve resumen de tu historia (se mostrará en las tarjetas)",rows:2,maxLength:300,className:"resize-none"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.excerpt.length,"/300 caracteres"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"content",children:["Contenido ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(vn,{id:"content",value:E.content,onChange:_,placeholder:"Comparte tu historia completa aquí. Sé auténtico y honesto...",rows:12,className:"resize-none",required:!0}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.content.length," caracteres"]})]}),o.jsx(Y1,{selectedTagIds:f,onChange:h,maxTags:5,required:!0,label:"Etiquetas"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{children:"Privacidad"}),o.jsxs(sc,{value:m?"public":"private",onValueChange:D=>w(D==="public"),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"public",id:"public"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"public",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(V_,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"font-medium",children:"Pública"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Todos pueden ver esta historia en Explorar"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"private",id:"private"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"private",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(rc,{className:"h-4 w-4 text-amber-600"}),o.jsx("span",{className:"font-medium",children:"Privada"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Solo tú y tus compartidos seleccionados pueden verla"})]})]})]})]}),!m&&o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsx(xe,{className:"text-base font-semibold",children:"¿Con quién compartir?"}),o.jsx(uE,{selectedUserIds:x,onChange:v,shareMode:y,onShareModeChange:b,selectedCircleId:g,onCircleChange:j})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Imagen (opcional)"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"⚠️ Tamaño máximo: 5MB. Formatos: JPG, PNG, WebP, GIF"}),!u&&!E.image_url&&o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",children:[o.jsx("input",{type:"file",id:"image-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:C,className:"hidden"}),o.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center gap-3",children:[o.jsx(Z_,{className:"h-10 w-10 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Sube una imagen"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Haz clic para seleccionar un archivo"})]}),o.jsx("div",{className:"mt-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-md",children:o.jsx("p",{className:"text-xs font-medium text-amber-800",children:"⚠️ Límite: 5MB máximo"})}),o.jsx(U,{type:"button",variant:"outline",size:"sm",children:"Seleccionar archivo"})]})]}),(u||E.image_url)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative w-full h-64 rounded-lg overflow-hidden border border-border",children:[o.jsx(Fd,{src:u||E.image_url,alt:"Preview",className:"w-full h-full object-cover",fallbackMessage:"No se pudo cargar la imagen."}),o.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:M,children:o.jsx(Hn,{className:"h-4 w-4"})})]}),l&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.name," (",(l.size/1024/1024).toFixed(2)," MB)"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[o.jsx(U,{type:"button",variant:"outline",onClick:B,disabled:n,children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:n||a,className:"gap-2",children:a?"Subiendo imagen...":n?"Publicando...":o.jsxs(o.Fragment,{children:[o.jsx(Ml,{className:"h-4 w-4"}),"Publicar historia"]})})]})]})})]}),o.jsxs(Re,{className:"mt-6",children:[o.jsx(ht,{children:o.jsx(mt,{className:"text-lg",children:"Consejos para compartir"})}),o.jsxs(De,{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("p",{children:"✨ Sé auténtico y honesto en tu relato"}),o.jsx("p",{children:"📝 Escribe de forma clara y directa"}),o.jsx("p",{children:"🏷️ Las etiquetas ayudan a otros a encontrar tu historia"}),o.jsx("p",{children:"🖼️ Una buena imagen hace tu historia más atractiva"}),o.jsx("p",{children:"💭 El extracto ayuda a los lectores a decidir si leer más"}),o.jsx("p",{children:"❤️ Recuerda que estás compartiendo con una comunidad respetuosa"})]})]})]})]}):null},U4=()=>{const{id:e}=Cp(),{user:t}=rt(),{toast:r}=fr(),n=xt(),[s,a]=p.useState(!1),[i,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(""),[w,y]=p.useState(null),[b,x]=p.useState([]),[v,g]=p.useState(!0),[j,E]=p.useState("all"),[N,_]=p.useState([]),[C,M]=p.useState(null),[R,B]=p.useState({title:"",content:"",excerpt:"",image_url:""});p.useEffect(()=>{if(!t){n(q.LOGIN);return}if(!e){n(q.HOME);return}D()},[t,e]);const D=async()=>{if(e){l(!0);try{const P=await Vn.getExperienceById(e);if(!P){r({title:"Historia no encontrada",variant:"destructive"}),n(q.EXPLORE);return}if(P.user_id!==(t==null?void 0:t.id)){r({title:"No autorizado",description:"No puedes editar historias de otros usuarios",variant:"destructive"}),n(q.EXPLORE);return}if(B({title:P.title,content:P.content,excerpt:P.excerpt||"",image_url:P.image_url||""}),g(P.is_public??!0),P.shared_circle_id?(E("circle"),M(P.shared_circle_id)):P.shared_with&&P.shared_with.length>0?(E("specific"),_(P.shared_with)):(E("all"),_([])),P.image_url){const T=nl.getPathFromUrl(P.image_url);y(T)}try{const T=await Yo.getTagsForExperience(e);x(T.map($=>$.id))}catch(T){console.error("Error loading tags:",T)}}catch(P){r({title:"Error al cargar",description:P.message,variant:"destructive"}),n(q.EXPLORE)}finally{l(!1)}}},W=P=>{B(T=>({...T,[P.target.id]:P.target.value}))},K=P=>{var H;const T=(H=P.target.files)==null?void 0:H[0];if(!T)return;const $=nl.validateImageFile(T);if(!$.valid){r({title:"⚠️ Archivo no válido",description:$.error,variant:"destructive"}),P.target.value="";return}f(T);const Q=URL.createObjectURL(T);m(Q)},ue=()=>{h&&URL.revokeObjectURL(h),f(null),m(""),B(P=>({...P,image_url:""})),y(null)},ee=async P=>{if(P.preventDefault(),!R.title.trim()){r({title:"Error",description:"El título es obligatorio",variant:"destructive"});return}if(!R.content.trim()){r({title:"Error",description:"El contenido es obligatorio",variant:"destructive"});return}if(b.length===0){r({title:"Error",description:"Debes seleccionar al menos una etiqueta",variant:"destructive"});return}if(!(!e||!t)){a(!0);try{let T=R.image_url.trim();if(d){u(!0);try{const H=await nl.replaceImage(w,d,t.id);T=H.url,y(H.path)}catch(H){r({title:"Error al subir imagen",description:H.message,variant:"destructive"}),a(!1),u(!1);return}finally{u(!1)}}let $=null,Q=null;v||(j==="circle"?Q=C:j==="specific"&&($=N)),await Vn.updateExperience(e,{title:R.title.trim(),content:R.content.trim(),excerpt:R.excerpt.trim()||void 0,image_url:T||void 0,is_public:v,shared_with:$,shared_circle_id:Q,tag_ids:b}),await Yo.updateTagsForExperience(e,b),r({title:"¡Historia actualizada!",description:"Los cambios han sido guardados exitosamente"}),h&&URL.revokeObjectURL(h),n(`${q.EXPERIENCE}/${e}`,{replace:!0}),window.location.reload()}catch(T){r({title:"Error al actualizar",description:T.message||"No se pudo actualizar tu historia",variant:"destructive"})}finally{a(!1)}}},se=()=>{window.confirm("¿Estás seguro de que quieres salir sin guardar los cambios?")&&n(`${q.EXPERIENCE}/${e}`)};return!t||i?null:o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(`${q.EXPERIENCE}/${e}`),children:o.jsx(Aa,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Editar historia"}),o.jsx("p",{className:"text-muted-foreground",children:"Modifica tu experiencia compartida"})]})]}),o.jsxs(Re,{children:[o.jsxs(ht,{children:[o.jsx(mt,{children:"Editar Historia"}),o.jsx(Ln,{children:"Actualiza los campos que desees modificar"})]}),o.jsx(De,{children:o.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"title",children:["Título ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(Tt,{id:"title",value:R.title,onChange:W,placeholder:"Un título llamativo para tu historia",maxLength:200,required:!0}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.title.length,"/200 caracteres"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"excerpt",children:"Extracto (opcional)"}),o.jsx(vn,{id:"excerpt",value:R.excerpt,onChange:W,placeholder:"Un breve resumen de tu historia",rows:2,maxLength:300,className:"resize-none"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.excerpt.length,"/300 caracteres"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"content",children:["Contenido ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(vn,{id:"content",value:R.content,onChange:W,placeholder:"Tu historia completa...",rows:12,className:"resize-none",required:!0}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.content.length," caracteres"]})]}),o.jsx(Y1,{selectedTagIds:b,onChange:x,maxTags:5,required:!0,label:"Etiquetas"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{children:"Privacidad"}),o.jsxs(sc,{value:v?"public":"private",onValueChange:P=>g(P==="public"),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"public",id:"public"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"public",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(V_,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"font-medium",children:"Pública"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Todos pueden ver esta historia en Explorar"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[o.jsx($n,{value:"private",id:"private"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(xe,{htmlFor:"private",className:"font-normal cursor-pointer flex items-center gap-2",children:[o.jsx(rc,{className:"h-4 w-4 text-amber-600"}),o.jsx("span",{className:"font-medium",children:"Privada"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Solo tú y tus compartidos seleccionados pueden verla"})]})]})]})]}),!v&&o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsx(xe,{className:"text-base font-semibold",children:"¿Con quién compartir?"}),o.jsx(uE,{selectedUserIds:N,onChange:_,shareMode:j,onShareModeChange:E,selectedCircleId:C,onCircleChange:M})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Imagen (opcional)"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"⚠️ Tamaño máximo: 5MB. Formatos: JPG, PNG, WebP, GIF"}),!h&&!R.image_url&&o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",children:[o.jsx("input",{type:"file",id:"image-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:K,className:"hidden"}),o.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center gap-3",children:[o.jsx(Z_,{className:"h-10 w-10 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Sube una imagen"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Haz clic para seleccionar un archivo"})]}),o.jsx("div",{className:"mt-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-md",children:o.jsx("p",{className:"text-xs font-medium text-amber-800",children:"⚠️ Límite: 5MB máximo"})}),o.jsx(U,{type:"button",variant:"outline",size:"sm",children:"Seleccionar archivo"})]})]}),(h||R.image_url)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative w-full h-64 rounded-lg overflow-hidden border border-border",children:[o.jsx(Fd,{src:h||R.image_url,alt:"Preview",className:"w-full h-full object-cover",fallbackMessage:"No se pudo cargar la imagen."}),o.jsx(U,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:ue,children:o.jsx(Hn,{className:"h-4 w-4"})})]}),d&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.name," (",(d.size/1024/1024).toFixed(2)," MB)"]}),!d&&R.image_url&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"file",id:"image-replace",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:K,className:"hidden"}),o.jsx("label",{htmlFor:"image-replace",children:o.jsx(U,{type:"button",variant:"outline",size:"sm",asChild:!0,children:o.jsx("span",{children:"Cambiar imagen"})})})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[o.jsx(U,{type:"button",variant:"outline",onClick:se,disabled:s,children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:s||c,className:"gap-2",children:c?"Subiendo imagen...":s?"Guardando...":o.jsxs(o.Fragment,{children:[o.jsx(Ml,{className:"h-4 w-4"}),"Guardar cambios"]})})]})]})})]})]})]})};class Jf{static async getReactionsByExperience(t){const{data:r,error:n}=await A.from("reactions").select("*").eq("experience_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching reactions:",n),new Error("No se pudieron cargar las reacciones");return r||[]}static async getReactionCounts(t){const r=await this.getReactionsByExperience(t),n={total:r.length,byType:{}};return r.forEach(s=>{n.byType[s.reaction_type]||(n.byType[s.reaction_type]=0),n.byType[s.reaction_type]++}),n}static async getUserReaction(t,r){const{data:n,error:s}=await A.from("reactions").select("*").eq("experience_id",t).eq("user_id",r).maybeSingle();return s?(console.error("Error fetching user reaction:",s),null):n}static async toggleReaction(t,r){const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("Debes iniciar sesión para reaccionar");const s=await this.getUserReaction(t,n.id);if(s)if(s.reaction_type===r)await this.removeReaction(t);else{const{error:a}=await A.from("reactions").update({reaction_type:r}).eq("id",s.id);if(a)throw console.error("Error updating reaction:",a),new Error("No se pudo actualizar la reacción")}else{const{error:a}=await A.from("reactions").insert({experience_id:t,user_id:n.id,reaction_type:r});if(a)throw console.error("Error creating reaction:",a),new Error("No se pudo agregar la reacción")}}static async removeReaction(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión");const{error:n}=await A.from("reactions").delete().eq("experience_id",t).eq("user_id",r.id);if(n)throw console.error("Error removing reaction:",n),new Error("No se pudo eliminar la reacción")}}const z4=[{type:"heart",emoji:"❤️",label:"Me encanta"},{type:"clap",emoji:"👏",label:"Aplauso"},{type:"fire",emoji:"🔥",label:"Fuego"},{type:"sparkles",emoji:"✨",label:"Brillante"}],B4=({experienceId:e})=>{const{user:t}=rt(),{toast:r}=fr(),n=xt(),[s,a]=p.useState({total:0,byType:{}}),[i,l]=p.useState(null),[c,u]=p.useState(!1),d=m=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(m);p.useEffect(()=>{d(e)&&f()},[e,t]);const f=async()=>{try{const m=await Jf.getReactionCounts(e);if(a(m),t){const w=await Jf.getUserReaction(e,t.id);l((w==null?void 0:w.reaction_type)||null)}}catch(m){console.error("Error loading reactions:",m)}},h=async m=>{if(!t){r({title:"Inicia sesión",description:"Debes iniciar sesión para reaccionar",variant:"destructive"}),n(q.LOGIN);return}if(!d(e)){r({title:"Esta es una historia de ejemplo",description:"Las reacciones solo funcionan con historias reales"});return}u(!0);try{await Jf.toggleReaction(e,m),await f(),r({title:"¡Reacción actualizada!",description:i===m?"Reacción eliminada":"Tu reacción ha sido guardada"})}catch(w){r({title:"Error",description:w.message||"No se pudo guardar tu reacción",variant:"destructive"})}finally{u(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:z4.map(({type:m,emoji:w,label:y})=>{const b=s.byType[m]||0,x=i===m;return o.jsxs(U,{variant:x?"default":"outline",size:"sm",onClick:()=>h(m),disabled:c,className:"gap-2 hover:scale-105 transition-transform",title:y,children:[o.jsx("span",{className:"text-lg",children:w}),b>0&&o.jsx("span",{className:"font-semibold",children:b})]},m)})}),s.total>0&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.total," ",s.total===1?"reacción":"reacciones"]})]})};function $e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function As(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const dE=6048e5,W4=864e5,qc=43200,Ex=1440;let q4={};function ac(){return q4}function Ll(e,t){var l,c,u,d;const r=ac(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=$e(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ju(e){return Ll(e,{weekStartsOn:1})}function fE(e){const t=$e(e),r=t.getFullYear(),n=As(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ju(n),a=As(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=Ju(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Sx(e){const t=$e(e);return t.setHours(0,0,0,0),t}function Zu(e){const t=$e(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function H4(e,t){const r=Sx(e),n=Sx(t),s=+r-Zu(r),a=+n-Zu(n);return Math.round((s-a)/W4)}function V4(e){const t=fE(e),r=As(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ju(r)}function cu(e,t){const r=$e(e),n=$e(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function G4(e){return As(e,Date.now())}function K4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Y4(e){if(!K4(e)&&typeof e!="number")return!1;const t=$e(e);return!isNaN(Number(t))}function Q4(e,t){const r=$e(e),n=$e(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function X4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function J4(e,t){return+$e(e)-+$e(t)}function Z4(e){const t=$e(e);return t.setHours(23,59,59,999),t}function e3(e){const t=$e(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function t3(e){const t=$e(e);return+Z4(t)==+e3(t)}function r3(e,t){const r=$e(e),n=$e(t),s=cu(r,n),a=Math.abs(Q4(r,n));let i;if(a<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=cu(r,n)===-s;t3($e(e))&&a===1&&cu(e,n)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function n3(e,t,r){const n=J4(e,t)/1e3;return X4(r==null?void 0:r.roundingMethod)(n)}function s3(e){const t=$e(e),r=As(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const a3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o3=(e,t,r)=>{let n;const s=a3[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Eo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const i3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},c3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u3={date:Eo({formats:i3,defaultWidth:"full"}),time:Eo({formats:l3,defaultWidth:"full"}),dateTime:Eo({formats:c3,defaultWidth:"full"})},d3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f3=(e,t,r,n)=>d3[e];function un(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const h3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w3={ordinalNumber:x3,era:un({values:h3,defaultWidth:"wide"}),quarter:un({values:m3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:un({values:p3,defaultWidth:"wide"}),day:un({values:g3,defaultWidth:"wide"}),dayPeriod:un({values:v3,defaultWidth:"wide",formattingValues:y3,defaultFormattingWidth:"wide"})};function dn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?j3(l,f=>f.test(i)):b3(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function b3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function j3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const _3=/^(\d+)(th|st|nd|rd)?/i,E3=/\d+/i,S3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N3={any:[/^b/i,/^(a|c)/i]},C3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k3={any:[/1/i,/2/i,/3/i,/4/i]},R3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},A3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I3={ordinalNumber:hE({matchPattern:_3,parsePattern:E3,valueCallback:e=>parseInt(e,10)}),era:dn({matchPatterns:S3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any"}),quarter:dn({matchPatterns:C3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dn({matchPatterns:R3,defaultMatchWidth:"wide",parsePatterns:P3,defaultParseWidth:"any"}),day:dn({matchPatterns:T3,defaultMatchWidth:"wide",parsePatterns:O3,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:A3,defaultMatchWidth:"any",parsePatterns:M3,defaultParseWidth:"any"})},mE={code:"en-US",formatDistance:o3,formatLong:u3,formatRelative:f3,localize:w3,match:I3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function D3(e){const t=$e(e);return H4(t,s3(t))+1}function L3(e){const t=$e(e),r=+Ju(t)-+V4(t);return Math.round(r/dE)+1}function pE(e,t){var d,f,h,m;const r=$e(e),n=r.getFullYear(),s=ac(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=As(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=Ll(i,t),c=As(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Ll(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function $3(e,t){var l,c,u,d;const r=ac(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=pE(e,t),a=As(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Ll(a,t)}function F3(e,t){const r=$e(e),n=+Ll(r,t)-+$3(r,t);return Math.round(n/dE)+1}function Ae(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Jn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ae(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ae(r+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ae(s,t.length)}},Qa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nx={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Jn.y(e,t)},Y:function(e,t,r,n){const s=pE(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Ae(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ae(a,t.length)},R:function(e,t){const r=fE(e);return Ae(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ae(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ae(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ae(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Jn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ae(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=F3(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ae(s,t.length)},I:function(e,t,r){const n=L3(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ae(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Jn.d(e,t)},D:function(e,t,r){const n=D3(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ae(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ae(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ae(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ae(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Qa.noon:n===0?s=Qa.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Qa.evening:n>=12?s=Qa.afternoon:n>=4?s=Qa.morning:s=Qa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Jn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Jn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ae(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ae(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Jn.s(e,t)},S:function(e,t){return Jn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kx(n);case"XXXX":case"XX":return ea(n);case"XXXXX":case"XXX":default:return ea(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return kx(n);case"xxxx":case"xx":return ea(n);case"xxxxx":case"xxx":default:return ea(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cx(n,":");case"OOOO":default:return"GMT"+ea(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cx(n,":");case"zzzz":default:return"GMT"+ea(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ae(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ae(n,t.length)}};function Cx(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Ae(a,2)}function kx(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):ea(e,t)}function ea(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ae(Math.trunc(n/60),2),a=Ae(n%60,2);return r+s+t+a}const Rx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},U3=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Rx(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Rx(n,t)).replace("{{time}}",gE(s,t))},z3={p:gE,P:U3},B3=/^D+$/,W3=/^Y+$/,q3=["D","DD","YY","YYYY"];function H3(e){return B3.test(e)}function V3(e){return W3.test(e)}function G3(e,t,r){const n=K3(e,t,r);if(console.warn(n),q3.includes(e))throw new RangeError(n)}function K3(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X3=/^'([^]*?)'?$/,J3=/''/g,Z3=/[a-zA-Z]/;function e$(e,t,r){var d,f,h,m,w,y,b,x;const n=ac(),s=(r==null?void 0:r.locale)??n.locale??mE,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((y=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=$e(e);if(!Y4(l))throw new RangeError("Invalid time value");let c=t.match(Q3).map(v=>{const g=v[0];if(g==="p"||g==="P"){const j=z3[g];return j(v,s.formatLong)}return v}).join("").match(Y3).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:t$(v)};if(Nx[g])return{isToken:!0,value:v};if(g.match(Z3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&V3(g)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&H3(g))&&G3(g,t,String(e));const j=Nx[g[0]];return j(l,g,s.localize,u)}).join("")}function t$(e){const t=e.match(X3);return t?t[1].replace(J3,"'"):e}function r$(e,t,r){const n=ac(),s=(r==null?void 0:r.locale)??n.locale??mE,a=2520,i=cu(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=$e(t),u=$e(e)):(c=$e(e),u=$e(t));const d=n3(u,c),f=(Zu(u)-Zu(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Ex){const w=Math.round(h/60);return s.formatDistance("aboutXHours",w,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<qc){const w=Math.round(h/Ex);return s.formatDistance("xDays",w,l)}else if(h<qc*2)return m=Math.round(h/qc),s.formatDistance("aboutXMonths",m,l)}if(m=r3(u,c),m<12){const w=Math.round(h/qc);return s.formatDistance("xMonths",w,l)}else{const w=m%12,y=Math.trunc(m/12);return w<3?s.formatDistance("aboutXYears",y,l):w<9?s.formatDistance("overXYears",y,l):s.formatDistance("almostXYears",y+1,l)}}function jg(e,t){return r$(e,G4(e),t)}const n$={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},s$=(e,t,r)=>{let n;const s=n$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},a$={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},o$={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},i$={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l$={date:Eo({formats:a$,defaultWidth:"full"}),time:Eo({formats:o$,defaultWidth:"full"}),dateTime:Eo({formats:i$,defaultWidth:"full"})},c$={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},u$={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},d$=(e,t,r,n)=>t.getHours()!==1?u$[e]:c$[e],f$={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},h$={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},m$={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},p$={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},g$={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},v$={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},y$=(e,t)=>Number(e)+"º",x$={ordinalNumber:y$,era:un({values:f$,defaultWidth:"wide"}),quarter:un({values:h$,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:un({values:m$,defaultWidth:"wide"}),day:un({values:p$,defaultWidth:"wide"}),dayPeriod:un({values:g$,defaultWidth:"wide",formattingValues:v$,defaultFormattingWidth:"wide"})},w$=/^(\d+)(º)?/i,b$=/\d+/i,j$={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},_$={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},E$={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},S$={any:[/1/i,/2/i,/3/i,/4/i]},N$={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},C$={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},k$={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},R$={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},P$={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},T$={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},O$={ordinalNumber:hE({matchPattern:w$,parsePattern:b$,valueCallback:function(e){return parseInt(e,10)}}),era:dn({matchPatterns:j$,defaultMatchWidth:"wide",parsePatterns:_$,defaultParseWidth:"any"}),quarter:dn({matchPatterns:E$,defaultMatchWidth:"wide",parsePatterns:S$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dn({matchPatterns:N$,defaultMatchWidth:"wide",parsePatterns:C$,defaultParseWidth:"any"}),day:dn({matchPatterns:k$,defaultMatchWidth:"wide",parsePatterns:R$,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:P$,defaultMatchWidth:"any",parsePatterns:T$,defaultParseWidth:"any"})},Hd={code:"es",formatDistance:s$,formatLong:l$,formatRelative:d$,localize:x$,match:O$,options:{weekStartsOn:1,firstWeekContainsDate:1}};function vE({comment:e,depth:t=0,onReply:r,onEdit:n,onDelete:s,onToggleReplies:a}){var D;const{user:i}=rt(),[l,c]=p.useState(!1),[u,d]=p.useState(e.content),[f,h]=p.useState(!1),[m,w]=p.useState(""),[y,b]=p.useState(!0),[x,v]=p.useState(!1),g=(i==null?void 0:i.id)===e.user_id,j=e.replies&&e.replies.length>0,E=5,N=async()=>{if(u.trim()){v(!0);try{await n(e.id,u),c(!1)}catch(W){console.error("Error editing comment:",W)}finally{v(!1)}}},_=async()=>{if(!m.trim()){pe.error("El comentario no puede estar vacío");return}if(t>=E){pe.error(`No se pueden crear respuestas más allá del nivel ${E}`);return}v(!0);try{await r(e.id,m),w(""),h(!1),b(!0)}catch(W){console.error("Error replying to comment:",W)}finally{v(!1)}},C=()=>{if(t>=E){pe.warning(`Has alcanzado el límite de ${E} niveles de respuestas. Responde a un comentario de nivel superior.`,{duration:4e3});return}h(!f)},M=async()=>{if(window.confirm("¿Estás seguro de eliminar este comentario? Se eliminarán también todas las respuestas."))try{await s(e.id)}catch(W){console.error("Error deleting comment:",W)}},R=()=>{b(!y),a&&a(e.id)},B=t>0?`ml-${Math.min(t*4,12)}`:"";return o.jsx("div",{className:`${B} ${t>0?"border-l-2 border-gray-200 dark:border-gray-700 pl-4":""}`,children:o.jsxs("div",{className:"flex gap-3 py-3",children:[o.jsxs(Cr,{className:"h-8 w-8 flex-shrink-0",children:[o.jsx(kr,{src:e.author_avatar||void 0}),o.jsx(Rr,{children:((D=e.author_name)==null?void 0:D.charAt(0).toUpperCase())||"?"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"font-semibold text-sm",children:e.author_name||"Usuario desconocido"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:jg(new Date(e.created_at),{addSuffix:!0,locale:Hd})}),e.updated_at!==e.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"(editado)"})]}),l?o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsx(vn,{value:u,onChange:W=>d(W.target.value),className:"min-h-[80px]",placeholder:"Edita tu comentario..."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{size:"sm",onClick:N,disabled:x||!u.trim(),children:[o.jsx(Vo,{className:"h-4 w-4 mr-1"}),"Guardar"]}),o.jsxs(U,{size:"sm",variant:"outline",onClick:()=>{c(!1),d(e.content)},disabled:x,children:[o.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Cancelar"]})]})]}):o.jsx("p",{className:"mt-1 text-sm whitespace-pre-wrap break-words",children:e.content}),!l&&o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i&&o.jsxs(U,{variant:"ghost",size:"sm",onClick:C,className:"h-7 px-2 text-xs",disabled:t>=E,title:t>=E?`Límite de ${E} niveles alcanzado`:"Responder a este comentario",children:[o.jsx(Us,{className:"h-3 w-3 mr-1"}),"Responder",t>=E&&o.jsx(wx,{className:"h-3 w-3 ml-1 text-amber-500"})]}),j&&o.jsxs(U,{variant:"ghost",size:"sm",onClick:R,className:"h-7 px-2 text-xs",children:[y?"Ocultar":"Ver"," ",e.replies_count," ",e.replies_count===1?"respuesta":"respuestas"]}),g&&o.jsxs(o.Fragment,{children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"h-7 px-2 text-xs",children:[o.jsx(XD,{className:"h-3 w-3 mr-1"}),"Editar"]}),o.jsxs(U,{variant:"ghost",size:"sm",onClick:M,className:"h-7 px-2 text-xs text-destructive hover:text-destructive",children:[o.jsx(cg,{className:"h-3 w-3 mr-1"}),"Eliminar"]})]})]}),f&&o.jsxs("div",{className:"mt-3 space-y-2",children:[t>=E-1&&o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md text-sm",children:[o.jsx(wx,{className:"h-4 w-4 text-amber-600 dark:text-amber-500 flex-shrink-0 mt-0.5"}),o.jsxs("p",{className:"text-amber-800 dark:text-amber-200",children:["Estás en el nivel ",t+1," de anidación. Este será uno de los últimos niveles permitidos."]})]}),o.jsx(vn,{value:m,onChange:W=>w(W.target.value),className:"min-h-[80px]",placeholder:"Escribe tu respuesta..."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{size:"sm",onClick:_,disabled:x||!m.trim(),children:[o.jsx(Vo,{className:"h-4 w-4 mr-1"}),"Responder"]}),o.jsxs(U,{size:"sm",variant:"outline",onClick:()=>{h(!1),w("")},disabled:x,children:[o.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Cancelar"]})]})]}),y&&j&&o.jsx("div",{className:"mt-3 space-y-2",children:e.replies.map(W=>o.jsx(vE,{comment:W,depth:t+1,onReply:r,onEdit:n,onDelete:s,onToggleReplies:a},W.id))})]})]})})}class Mi{static async getCommentsByExperience(t){const{data:r,error:n}=await A.from("comments").select("*").eq("experience_id",t).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching comments:",n),new Error("No se pudieron cargar los comentarios");if(!r||r.length===0)return[];const s=[...new Set(r.map(c=>c.user_id))],{data:a,error:i}=await A.from("profiles").select("id, full_name, avatar_url").in("id",s);i&&console.error("Error fetching profiles:",i);const l=new Map((a||[]).map(c=>[c.id,c]));return r.map(c=>{const u=l.get(c.user_id);return{...c,author_name:(u==null?void 0:u.full_name)||null,author_avatar:(u==null?void 0:u.avatar_url)||null}})}static async getCommentsTree(t){const r=await this.getCommentsByExperience(t),n=[],s=new Map;r.forEach(i=>{const l={...i,replies:[],replies_count:0};i.parent_comment_id?(s.has(i.parent_comment_id)||s.set(i.parent_comment_id,[]),s.get(i.parent_comment_id).push(l)):n.push(l)});const a=i=>{const l=s.get(i.id)||[];return i.replies=l.map(a),i.replies_count=i.replies.length,i};return n.map(a)}static async getReplies(t){const{data:r,error:n}=await A.from("comments").select("*").eq("parent_comment_id",t).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching replies:",n),new Error("No se pudieron cargar las respuestas");if(!r||r.length===0)return[];const s=[...new Set(r.map(c=>c.user_id))],{data:a,error:i}=await A.from("profiles").select("id, full_name, avatar_url").in("id",s);i&&console.error("Error fetching profiles:",i);const l=new Map((a||[]).map(c=>[c.id,c]));return r.map(c=>{const u=l.get(c.user_id);return{...c,author_name:(u==null?void 0:u.full_name)||null,author_avatar:(u==null?void 0:u.avatar_url)||null}})}static async createComment(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión para comentar");console.log("Creating comment with data:",{experience_id:t.experience_id,user_id:r.id,content:t.content,parent_comment_id:t.parent_comment_id||null});const{data:n,error:s}=await A.from("comments").insert({experience_id:t.experience_id,user_id:r.id,content:t.content,parent_comment_id:t.parent_comment_id||null}).select().single();if(s)throw console.error("Error creating comment:",s),console.error("Error details:",{message:s.message,details:s.details,hint:s.hint,code:s.code}),new Error(`No se pudo crear el comentario: ${s.message}`);return console.log("Comment created successfully:",n),n}static async updateComment(t,r){const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("Debes iniciar sesión");const{data:s}=await A.from("comments").select("user_id").eq("id",t).single();if(!s||s.user_id!==n.id)throw new Error("No puedes editar comentarios de otros usuarios");const{data:a,error:i}=await A.from("comments").update({content:r.content,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw console.error("Error updating comment:",i),new Error("No se pudo actualizar el comentario");return a}static async deleteComment(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Debes iniciar sesión");const{data:n}=await A.from("comments").select("user_id").eq("id",t).single();if(!n||n.user_id!==r.id)throw new Error("No puedes eliminar comentarios de otros usuarios");const{error:s}=await A.from("comments").delete().eq("id",t);if(s)throw console.error("Error deleting comment:",s),new Error("No se pudo eliminar el comentario")}static async getCommentCount(t){const{count:r,error:n}=await A.from("comments").select("*",{count:"exact",head:!0}).eq("experience_id",t);return n?(console.error("Error counting comments:",n),0):r||0}static async getReplyCount(t){const{count:r,error:n}=await A.from("comments").select("*",{count:"exact",head:!0}).eq("parent_comment_id",t);return n?(console.error("Error counting replies:",n),0):r||0}}function A$({experienceId:e}){const{user:t}=rt(),r=xt(),[n,s]=p.useState([]),[a,i]=p.useState(""),[l,c]=p.useState(!0),[u,d]=p.useState(!1);p.useEffect(()=>{f()},[e]);const f=async()=>{try{c(!0);const b=await Mi.getCommentsTree(e);s(b)}catch(b){console.error("Error loading comments:",b),pe.error("No se pudieron cargar los comentarios")}finally{c(!1)}},h=async()=>{if(!t){pe.error("Debes iniciar sesión para comentar"),r(q.LOGIN);return}if(!a.trim()){pe.error("El comentario no puede estar vacío");return}d(!0);try{await Mi.createComment({experience_id:e,content:a.trim()}),i(""),pe.success("Comentario publicado"),await f()}catch(b){console.error("Error creating comment:",b),pe.error(b.message||"No se pudo publicar el comentario")}finally{d(!1)}},m=async(b,x)=>{if(!t){pe.error("Debes iniciar sesión para responder"),r(q.LOGIN);return}try{await Mi.createComment({experience_id:e,content:x.trim(),parent_comment_id:b}),pe.success("Respuesta publicada"),await f()}catch(v){throw console.error("Error replying to comment:",v),pe.error(v.message||"No se pudo publicar la respuesta"),v}},w=async(b,x)=>{try{await Mi.updateComment(b,{content:x.trim()}),pe.success("Comentario actualizado"),await f()}catch(v){throw console.error("Error editing comment:",v),pe.error(v.message||"No se pudo editar el comentario"),v}},y=async b=>{try{await Mi.deleteComment(b),pe.success("Comentario eliminado"),await f()}catch(x){throw console.error("Error deleting comment:",x),pe.error(x.message||"No se pudo eliminar el comentario"),x}};return l?o.jsx(Re,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"}),o.jsx("span",{className:"ml-2 text-muted-foreground",children:"Cargando comentarios..."})]})}):o.jsxs(Re,{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Comentarios (",n.length,")"]}),o.jsx("div",{className:"mb-6",children:t?o.jsxs(o.Fragment,{children:[o.jsx(vn,{value:a,onChange:b=>i(b.target.value),placeholder:"Escribe un comentario...",className:"min-h-[100px] mb-2",disabled:u}),o.jsx(U,{onClick:h,disabled:u||!a.trim(),className:"w-full sm:w-auto",children:u?o.jsxs(o.Fragment,{children:[o.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Publicando..."]}):"Publicar comentario"})]}):o.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-3",children:"Inicia sesión para comentar en esta historia"}),o.jsx(U,{onClick:()=>r(q.LOGIN),size:"sm",children:"Iniciar sesión"})]})}),o.jsx("div",{className:"space-y-2",children:n.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"Aún no hay comentarios."}),o.jsx("p",{className:"text-sm mt-1",children:"¡Sé el primero en comentar!"})]}):n.map(b=>o.jsx(vE,{comment:b,depth:0,onReply:m,onEdit:w,onDelete:y},b.id))})]})}function M$({userId:e,userName:t}){const{user:r}=rt(),[n,s]=p.useState(null),[a,i]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(!0),[f,h]=p.useState(!1);p.useEffect(()=>{m()},[e]);const m=async()=>{if(!r||r.id===e){d(!1);return}try{d(!0);const g=await $t.getConnectionBetweenUsers(r.id,e);g?(s(g.status),i(g.id),c(g.user_id===r.id)):(s(null),i(null),c(!1))}catch(g){console.error("Error loading connection status:",g)}finally{d(!1)}},w=async()=>{h(!0);try{await $t.sendConnectionRequest({shared_user_id:e}),pe.success(`Solicitud enviada a ${t||"el usuario"}`),await m()}catch(g){pe.error(g.message||"No se pudo enviar la solicitud")}finally{h(!1)}},y=async()=>{if(a){h(!0);try{await $t.deleteConnection(a),pe.success("Solicitud cancelada"),await m()}catch(g){pe.error(g.message||"No se pudo cancelar la solicitud")}finally{h(!1)}}},b=async()=>{if(a&&window.confirm(`¿Estás seguro de eliminar la conexión con ${t||"este usuario"}?`)){h(!0);try{await $t.deleteConnection(a),pe.success("Conexión eliminada"),await m()}catch(g){pe.error(g.message||"No se pudo eliminar la conexión")}finally{h(!1)}}},x=async()=>{if(a){h(!0);try{await $t.acceptConnectionRequest(a),pe.success(`Ahora compartes con ${t||"este usuario"}`),await m()}catch(g){pe.error(g.message||"No se pudo aceptar la solicitud")}finally{h(!1)}}},v=async()=>{if(a){h(!0);try{await $t.rejectConnectionRequest(a),pe.success("Solicitud rechazada"),await m()}catch(g){pe.error(g.message||"No se pudo rechazar la solicitud")}finally{h(!1)}}};return!r||r.id===e?null:u?o.jsxs(U,{variant:"outline",disabled:!0,children:[o.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Cargando..."]}):n?n==="pending"?l?o.jsxs(U,{variant:"outline",onClick:y,disabled:f,className:"gap-2",title:"Click para cancelar la solicitud",children:[f?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(GD,{className:"h-4 w-4"}),"Pendiente"]}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{size:"sm",onClick:x,disabled:f,title:"Aceptar solicitud",children:f?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(Vo,{className:"h-4 w-4"})}),o.jsx(U,{size:"sm",variant:"outline",onClick:v,disabled:f,title:"Rechazar solicitud",children:f?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(Hn,{className:"h-4 w-4"})})]}):n==="accepted"?o.jsxs(U,{variant:"secondary",onClick:b,disabled:f,className:"gap-2",children:[f?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(ug,{className:"h-4 w-4"}),"Compartido"]}):n==="rejected"?o.jsxs(U,{variant:"outline",onClick:w,disabled:f,className:"gap-2",children:[f?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(ym,{className:"h-4 w-4"}),"Enviar solicitud"]}):null:o.jsxs(U,{onClick:w,disabled:f,className:"gap-2",children:[f?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(ym,{className:"h-4 w-4"}),"Agregar a Compartidos"]})}const I$=()=>{const{id:e}=Cp(),{user:t}=rt(),{toast:r}=fr(),n=xt(),[s,a]=p.useState(null),[i,l]=p.useState(!0),[c,u]=p.useState(!1);p.useEffect(()=>{if(!e){n(q.HOME);return}d()},[e]);const d=async()=>{if(e){l(!0);try{const y=await Vn.getExperienceById(e);if(!y){r({title:"Historia no encontrada",description:"Esta historia no existe o fue eliminada",variant:"destructive"}),n(q.EXPLORE);return}a(y)}catch(y){r({title:"Error al cargar",description:y.message||"No se pudo cargar la historia",variant:"destructive"}),n(q.EXPLORE)}finally{l(!1)}}},f=async()=>{if(!(!s||!e||!window.confirm("¿Estás seguro de que quieres eliminar esta historia? Esta acción no se puede deshacer."))){u(!0);try{await Vn.deleteExperience(e),r({title:"Historia eliminada",description:"Tu historia ha sido eliminada exitosamente"}),n(q.PROFILE)}catch(b){r({title:"Error al eliminar",description:b.message||"No se pudo eliminar la historia",variant:"destructive"})}finally{u(!1)}}},h=y=>new Date(y).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),m=y=>y?y.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2):"?",w=t&&s&&t.id===s.user_id;return i?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsx(ct,{className:"h-8 w-32 mb-8"}),o.jsxs(Re,{children:[o.jsx(ct,{className:"h-96 w-full rounded-t-lg"}),o.jsxs(De,{className:"p-8 space-y-4",children:[o.jsx(ct,{className:"h-8 w-3/4"}),o.jsx(ct,{className:"h-4 w-1/4"}),o.jsx(ct,{className:"h-4 w-full"}),o.jsx(ct,{className:"h-4 w-full"}),o.jsx(ct,{className:"h-4 w-2/3"})]})]})]})]}):s?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsxs(U,{variant:"ghost",onClick:()=>n(q.EXPLORE),className:"mb-6 gap-2",children:[o.jsx(Aa,{className:"h-4 w-4"}),"Volver a explorar"]}),o.jsxs(Re,{className:"overflow-hidden",children:[s.image_url&&o.jsx("div",{className:"relative w-full h-96",children:o.jsx(Fd,{src:s.image_url,alt:s.title,className:"w-full h-full object-cover",fallbackMessage:"La imagen no se pudo cargar"})}),o.jsxs(De,{className:"p-8",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.title}),s.tags&&s.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:s.tags.map(y=>o.jsx(Ud,{tag:y,variant:"secondary",size:"md"},y.id))}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(Cr,{className:"h-12 w-12",children:[o.jsx(kr,{src:s.author_avatar||"",alt:s.author_name||"Usuario"}),o.jsx(Rr,{children:m(s.author_name)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:s.author_name||"Usuario anónimo"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ag,{className:"h-3 w-3"}),o.jsx("span",{children:h(s.created_at)})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[o.jsx(_m,{experienceId:s.id,experienceTitle:s.title,variant:"outline",showLabel:!0}),!w&&t&&o.jsx(M$,{userId:s.user_id,userName:s.author_name||void 0}),w&&o.jsxs(o.Fragment,{children:[o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>n(`${q.EXPERIENCE}/${e}/edit`),children:[o.jsx(J_,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsxs(U,{variant:"destructive",size:"sm",onClick:f,disabled:c,children:[o.jsx(cg,{className:"h-4 w-4 mr-2"}),c?"Eliminando...":"Eliminar"]})]})]})]}),o.jsx(rl,{className:"mb-6"}),o.jsx("div",{className:"prose prose-lg max-w-none mb-8",children:o.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:s.content})}),o.jsx(rl,{className:"mb-6"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reacciones"}),t?o.jsx(B4,{experienceId:s.id}):o.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-3",children:"Inicia sesión para reaccionar a esta historia"}),o.jsx(U,{onClick:()=>n(q.LOGIN),size:"sm",children:"Iniciar sesión"})]})]}),o.jsx(rl,{className:"mb-6"}),o.jsx("div",{children:o.jsx(A$,{experienceId:s.id})}),o.jsx("div",{className:"hidden",children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>r({title:"Próximamente",description:"El sistema de reacciones estará disponible pronto"}),children:[o.jsx(Os,{className:"h-4 w-4 mr-2"}),"Reaccionar"]})})})]})]})]})]}):null},D$=()=>{const{user:e}=rt(),t=xt(),[r,n]=p.useState([]),[s,a]=p.useState(!0);p.useEffect(()=>{if(!e){t(q.LOGIN);return}i()},[e]);const i=async()=>{a(!0);try{const c=await jm.getMyFavorites();n(c)}catch(c){console.error("Error al cargar favoritos:",c),pe.error("Error al cargar tus favoritos")}finally{a(!1)}},l=c=>({id:c.experience.id,title:c.experience.title,content:"",excerpt:c.experience.excerpt,image_url:c.experience.image_url,user_id:"",created_at:c.experience.created_at,updated_at:c.experience.created_at,author_name:c.experience.author_name,author_avatar:c.experience.author_avatar,reactions_count:0,comments_count:0,tags:[]});return o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsx("div",{className:"bg-card border-b border-border/50",children:o.jsx("div",{className:"container mx-auto px-6 py-8",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-full bg-yellow-500/10",children:o.jsx(lg,{className:"h-6 w-6 text-yellow-500 fill-yellow-500"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Mis Favoritos"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Historias que has guardado para leer más tarde"})]})]})})}),o.jsx("main",{className:"container mx-auto px-6 py-8",children:s?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(c=>o.jsxs("div",{className:"space-y-4",children:[o.jsx(ct,{className:"h-64 w-full rounded-lg"}),o.jsx(ct,{className:"h-4 w-3/4"}),o.jsx(ct,{className:"h-4 w-1/2"})]},c))}):r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[o.jsx("div",{className:"p-6 rounded-full bg-muted/50 mb-6",children:o.jsx(Os,{className:"h-16 w-16 text-muted-foreground"})}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Aún no tienes favoritos"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Comienza a explorar historias y marca como favoritas las que más te gusten. Aparecerán aquí para que puedas encontrarlas fácilmente."}),o.jsx("button",{onClick:()=>t(q.EXPLORE),className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Explorar historias"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," ",r.length===1?"historia":"historias"," guardada",r.length===1?"":"s"]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(c=>o.jsx(Dl,{experience:l(c)},c.id))})]})})]})};var Vd="Tabs",[L$]=hr(Vd,[li]),yE=li(),[$$,_g]=L$(Vd),xE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Xl(l),[f,h]=Pa({prop:n,onChange:s,defaultProp:a??"",caller:Vd});return o.jsx($$,{scope:r,baseId:Ss(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(me.div,{dir:d,"data-orientation":i,...u,ref:t})})});xE.displayName=Vd;var wE="TabsList",bE=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=_g(wE,r),i=yE(r);return o.jsx(Yp,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(me.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});bE.displayName=wE;var jE="TabsTrigger",_E=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=_g(jE,r),l=yE(r),c=NE(i.baseId,n),u=CE(i.baseId,n),d=n===i.value;return o.jsx(Qp,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Z(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Z(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Z(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});_E.displayName=jE;var EE="TabsContent",SE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=_g(EE,r),c=NE(l.baseId,n),u=CE(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(At,{present:s||d,children:({present:h})=>o.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});SE.displayName=EE;function NE(e,t){return`${e}-trigger-${t}`}function CE(e,t){return`${e}-content-${t}`}var F$=xE,kE=bE,RE=_E,PE=SE;const TE=F$,Eg=p.forwardRef(({className:e,...t},r)=>o.jsx(kE,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Eg.displayName=kE.displayName;const So=p.forwardRef(({className:e,...t},r)=>o.jsx(RE,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));So.displayName=RE.displayName;const No=p.forwardRef(({className:e,...t},r)=>o.jsx(PE,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));No.displayName=PE.displayName;class Sg{static async getMyConversations(){const{data:{user:t}}=await A.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await A.from("conversations_with_details").select("*").or(`user1_id.eq.${t.id},user2_id.eq.${t.id}`).order("updated_at",{ascending:!1});if(n)throw n;return await Promise.all((r||[]).map(async a=>{const{data:i}=await A.from("messages").select("*").eq("conversation_id",a.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{count:l}=await A.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",a.id).eq("is_read",!1).neq("sender_id",t.id),c=a.user1_id===t.id,u={id:c?a.user2_id:a.user1_id,name:c?a.user2_name:a.user1_name,avatar:c?a.user2_avatar:a.user1_avatar};return{conversation:a,last_message:i,unread_count:l||0,other_user:u}}))}static async getOrCreateConversation(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Usuario no autenticado");const n=r.id<t?r.id:t,s=r.id<t?t:r.id,{data:a,error:i}=await A.from("conversations").select("*").eq("user1_id",n).eq("user2_id",s).maybeSingle();if(i)throw i;if(a)return a;const{data:l,error:c}=await A.from("conversations").insert([{user1_id:n,user2_id:s}]).select().single();if(c)throw c;return l}static async getConversationById(t){const{data:r,error:n}=await A.from("conversations_with_details").select("*").eq("id",t).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}static async deleteConversation(t){const{error:r}=await A.from("conversations").delete().eq("id",t);if(r)throw r}}function U$(){const{user:e}=rt(),t=xt(),[r,n]=p.useState([]),[s,a]=p.useState([]),[i,l]=p.useState([]),[c,u]=p.useState(!0),[d,f]=p.useState(null);p.useEffect(()=>{h()},[]);const h=async()=>{u(!0);try{const[g,j,E]=await Promise.all([$t.getMyConnections(),$t.getPendingRequests(),$t.getSentRequests()]);n(g),a(j),l(E)}catch(g){pe.error(g.message||"Error al cargar datos")}finally{u(!1)}},m=async g=>{f(g);try{await $t.acceptConnectionRequest(g),pe.success("Solicitud aceptada"),await h()}catch(j){pe.error(j.message||"Error al aceptar solicitud")}finally{f(null)}},w=async g=>{f(g);try{await $t.rejectConnectionRequest(g),pe.success("Solicitud rechazada"),await h()}catch(j){pe.error(j.message||"Error al rechazar solicitud")}finally{f(null)}},y=async g=>{f(g);try{await $t.deleteConnection(g),pe.success("Solicitud cancelada"),await h()}catch(j){pe.error(j.message||"Error al cancelar solicitud")}finally{f(null)}},b=async(g,j)=>{if(window.confirm(`¿Eliminar conexión con ${j}?`)){f(g);try{await $t.deleteConnection(g),pe.success("Conexión eliminada"),await h()}catch(E){pe.error(E.message||"Error al eliminar conexión")}finally{f(null)}}},x=async g=>{f(g);try{const j=await Sg.getOrCreateConversation(g);t(`${q.CHAT}/${j.id}`)}catch(j){pe.error(j.message||"Error al iniciar conversación")}finally{f(null)}},v=({request:g,showActions:j=!1})=>{var N;const E=d===g.id;return o.jsx(Re,{children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Cr,{className:"h-12 w-12",children:[o.jsx(kr,{src:g.other_user_avatar||void 0}),o.jsx(Rr,{children:((N=g.other_user_name)==null?void 0:N.charAt(0).toUpperCase())||"?"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:g.other_user_name||"Usuario desconocido"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:jg(new Date(g.created_at),{addSuffix:!0,locale:Hd})})]})]}),j&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{size:"sm",onClick:()=>m(g.id),disabled:E,children:E?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(Vo,{className:"h-4 w-4"})}),o.jsx(U,{size:"sm",variant:"outline",onClick:()=>w(g.id),disabled:E,children:E?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(Hn,{className:"h-4 w-4"})})]}),!j&&g.status==="pending"&&o.jsx(U,{size:"sm",variant:"outline",onClick:()=>y(g.id),disabled:E,children:"Cancelar"}),!j&&g.status==="accepted"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{size:"sm",variant:"default",onClick:()=>x(g.other_user_id),disabled:E,children:[o.jsx(Us,{className:"h-4 w-4 mr-2"}),"Mensaje"]}),o.jsx(U,{size:"sm",variant:"ghost",onClick:()=>b(g.id,g.other_user_name||"este usuario"),disabled:E,children:"Eliminar"})]})]})})})};return c?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsx(ct,{className:"h-10 w-48 mb-6"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ct,{className:"h-24 w-full"}),o.jsx(ct,{className:"h-24 w-full"}),o.jsx(ct,{className:"h-24 w-full"})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Compartidos"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(kl,{variant:"secondary",className:"text-sm",children:[o.jsx(lr,{className:"h-3 w-3 mr-1"}),r.length]}),s.length>0&&o.jsxs(kl,{variant:"default",className:"text-sm",children:[o.jsx(Kf,{className:"h-3 w-3 mr-1"}),s.length]})]})]}),o.jsxs(TE,{defaultValue:"connections",className:"w-full",children:[o.jsxs(Eg,{className:"grid w-full grid-cols-3",children:[o.jsxs(So,{value:"connections",children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Mis Compartidos (",r.length,")"]}),o.jsxs(So,{value:"pending",children:[o.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Recibidas (",s.length,")"]}),o.jsxs(So,{value:"sent",children:[o.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Enviadas (",i.length,")"]})]}),o.jsx(No,{value:"connections",className:"mt-6 space-y-4",children:r.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"p-8 text-center text-muted-foreground",children:[o.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Aún no tienes compartidos."}),o.jsx("p",{className:"text-sm mt-1",children:"Busca usuarios y envíales solicitudes para conectar"})]})}):r.map(g=>o.jsx(v,{request:g},g.id))}),o.jsx(No,{value:"pending",className:"mt-6 space-y-4",children:s.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"p-8 text-center text-muted-foreground",children:[o.jsx(Kf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No tienes solicitudes pendientes."})]})}):s.map(g=>o.jsx(v,{request:g,showActions:!0},g.id))}),o.jsx(No,{value:"sent",className:"mt-6 space-y-4",children:i.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"p-8 text-center text-muted-foreground",children:[o.jsx(Ml,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No has enviado solicitudes."})]})}):i.map(g=>o.jsx(v,{request:g},g.id))})]})]})]})}const z$=()=>{const{user:e}=rt(),t=xt(),[r,n]=p.useState([]),[s,a]=p.useState([]),[i,l]=p.useState(!0),[c,u]=p.useState(!0);p.useEffect(()=>{if(!e){t(q.LOGIN);return}d(),f()},[e,t]);const d=async()=>{l(!0);try{const h=await Vn.getMyStories();n(h)}catch(h){console.error("Error loading my stories:",h)}finally{l(!1)}},f=async()=>{u(!0);try{const h=await Vn.getSharedStories();a(h)}catch(h){console.error("Error loading shared stories:",h)}finally{u(!1)}};return e?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Mis Historias"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona tus historias y descubre las que han compartido contigo"})]}),o.jsxs(U,{onClick:()=>t(q.CREATE_EXPERIENCE),className:"gap-2",children:[o.jsx(Al,{className:"h-4 w-4"}),"Nueva historia"]})]}),o.jsxs(TE,{defaultValue:"my-stories",className:"space-y-6",children:[o.jsxs(Eg,{className:"grid w-full max-w-md grid-cols-2",children:[o.jsxs(So,{value:"my-stories",className:"gap-2",children:[o.jsx(Yu,{className:"h-4 w-4"}),"Mis historias (",r.length,")"]}),o.jsxs(So,{value:"shared",className:"gap-2",children:[o.jsx(lr,{className:"h-4 w-4"}),"Compartidas (",s.length,")"]})]}),o.jsxs(No,{value:"my-stories",className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{children:"Tus historias (públicas y privadas)"})]})}),i?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(h=>o.jsx(ct,{className:"h-80 rounded-lg"},h))}):r.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Yu,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Aún no tienes historias"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Comparte tu primera experiencia auténtica con la comunidad"}),o.jsxs(U,{onClick:()=>t(q.CREATE_EXPERIENCE),children:[o.jsx(Al,{className:"h-4 w-4 mr-2"}),"Crear mi primera historia"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(h=>o.jsx("div",{className:"relative border-2 border-green-500 rounded-lg p-1 bg-gradient-to-br from-green-50 to-transparent",children:o.jsx(Dl,{experience:h})},h.id))})]}),o.jsxs(No,{value:"shared",className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),o.jsx("span",{children:"Historias compartidas contigo por tus conexiones"})]})}),c?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(h=>o.jsx(ct,{className:"h-80 rounded-lg"},h))}):s.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(lr,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay historias compartidas"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Conecta con otros usuarios para ver sus historias privadas"}),o.jsx(U,{onClick:()=>t(q.COMPARTIDOS),variant:"outline",children:"Ver mis conexiones"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(h=>o.jsx("div",{className:"relative border-2 border-purple-500 rounded-lg p-1 bg-gradient-to-br from-purple-50 to-transparent",children:o.jsx(Dl,{experience:h})},h.id))})]})]})]})]}):null};var Gd="Dialog",[OE]=hr(Gd),[B$,Kr]=OE(Gd),AE=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Pa({prop:n,defaultProp:s??!1,onChange:a,caller:Gd});return o.jsx(B$,{scope:t,triggerRef:l,contentRef:c,contentId:Ss(),titleId:Ss(),descriptionId:Ss(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};AE.displayName=Gd;var ME="DialogTrigger",W$=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(ME,r),a=Te(t,s.triggerRef);return o.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kg(s.open),...n,ref:a,onClick:Z(e.onClick,s.onOpenToggle)})});W$.displayName=ME;var Ng="DialogPortal",[q$,IE]=OE(Ng,{forceMount:void 0}),DE=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Kr(Ng,t);return o.jsx(q$,{scope:t,forceMount:r,children:p.Children.map(n,i=>o.jsx(At,{present:r||a.open,children:o.jsx(Kp,{asChild:!0,container:s,children:i})}))})};DE.displayName=Ng;var ed="DialogOverlay",LE=p.forwardRef((e,t)=>{const r=IE(ed,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Kr(ed,e.__scopeDialog);return a.modal?o.jsx(At,{present:n||a.open,children:o.jsx(V$,{...s,ref:t})}):null});LE.displayName=ed;var H$=qo("DialogOverlay.RemoveScroll"),V$=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(ed,r);return o.jsx(Xp,{as:H$,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(me.div,{"data-state":kg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Sa="DialogContent",$E=p.forwardRef((e,t)=>{const r=IE(Sa,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Kr(Sa,e.__scopeDialog);return o.jsx(At,{present:n||a.open,children:a.modal?o.jsx(G$,{...s,ref:t}):o.jsx(K$,{...s,ref:t})})});$E.displayName=Sa;var G$=p.forwardRef((e,t)=>{const r=Kr(Sa,e.__scopeDialog),n=p.useRef(null),s=Te(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return zj(a)},[]),o.jsx(FE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,a=>a.preventDefault())})}),K$=p.forwardRef((e,t)=>{const r=Kr(Sa,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(FE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),FE=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Kr(Sa,r),c=p.useRef(null),u=Te(t,c);return lj(),o.jsxs(o.Fragment,{children:[o.jsx($p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Nd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kg(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Y$,{titleId:l.titleId}),o.jsx(X$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Cg="DialogTitle",UE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(Cg,r);return o.jsx(me.h2,{id:s.titleId,...n,ref:t})});UE.displayName=Cg;var zE="DialogDescription",BE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(zE,r);return o.jsx(me.p,{id:s.descriptionId,...n,ref:t})});BE.displayName=zE;var WE="DialogClose",qE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(WE,r);return o.jsx(me.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});qE.displayName=WE;function kg(e){return e?"open":"closed"}var HE="DialogTitleWarning",[RF,VE]=HO(HE,{contentName:Sa,titleName:Cg,docsSlug:"dialog"}),Y$=({titleId:e})=>{const t=VE(HE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Q$="DialogDescriptionWarning",X$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VE(Q$).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},J$=AE,Z$=DE,GE=LE,KE=$E,YE=UE,QE=BE,eF=qE;const XE=J$,tF=Z$,JE=p.forwardRef(({className:e,...t},r)=>o.jsx(GE,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));JE.displayName=GE.displayName;const Rg=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(tF,{children:[o.jsx(JE,{}),o.jsxs(KE,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(eF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Hn,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rg.displayName=KE.displayName;const Pg=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pg.displayName="DialogHeader";const ZE=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ZE.displayName="DialogFooter";const Tg=p.forwardRef(({className:e,...t},r)=>o.jsx(YE,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));Tg.displayName=YE.displayName;const Og=p.forwardRef(({className:e,...t},r)=>o.jsx(QE,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Og.displayName=QE.displayName;const rF=["#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#6366F1","#14B8A6"],nF=({isOpen:e,onClose:t,onSuccess:r,circle:n})=>{const{toast:s}=fr(),[a,i]=p.useState(!1),[l,c]=p.useState({name:"",description:"",color:"#8B5CF6"});p.useEffect(()=>{c(n?{name:n.name,description:n.description||"",color:n.color}:{name:"",description:"",color:"#8B5CF6"})},[n,e]);const u=async f=>{if(f.preventDefault(),!l.name.trim()){s({title:"Error",description:"El nombre del círculo es obligatorio",variant:"destructive"});return}i(!0);try{n?(await Cs.updateCircle(n.id,{name:l.name.trim(),description:l.description.trim()||null,color:l.color}),s({title:"Círculo actualizado",description:"Los cambios han sido guardados"})):(await Cs.createCircle({name:l.name.trim(),description:l.description.trim()||null,color:l.color}),s({title:"Círculo creado",description:"El nuevo círculo ha sido creado exitosamente"})),r(),t()}catch(h){s({title:"Error",description:h.message||"No se pudo guardar el círculo",variant:"destructive"})}finally{i(!1)}},d=f=>{c(h=>({...h,[f.target.id]:f.target.value}))};return o.jsx(XE,{open:e,onOpenChange:t,children:o.jsxs(Rg,{className:"sm:max-w-[500px]",children:[o.jsxs(Pg,{children:[o.jsx(Tg,{children:n?"Editar círculo":"Crear nuevo círculo"}),o.jsx(Og,{children:n?"Modifica los detalles de tu círculo":"Crea un grupo de personas para compartir historias"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"name",children:["Nombre del círculo ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(Tt,{id:"name",value:l.name,onChange:d,placeholder:"Ej: Familia, Amigos cercanos, Compañeros de trabajo...",maxLength:100,required:!0,disabled:a}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.name.length,"/100 caracteres"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"description",children:"Descripción (opcional)"}),o.jsx(vn,{id:"description",value:l.description,onChange:d,placeholder:"Una breve descripción del círculo...",rows:3,className:"resize-none",disabled:a})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Color identificador"}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[rF.map(f=>o.jsx("button",{type:"button",onClick:()=>c(h=>({...h,color:f})),className:`w-10 h-10 rounded-full border-2 transition-all ${l.color===f?"border-foreground scale-110":"border-border hover:scale-105"}`,style:{backgroundColor:f},disabled:a,title:f},f)),o.jsx("input",{type:"color",value:l.color,onChange:f=>c(h=>({...h,color:f.target.value})),className:"w-10 h-10 rounded-full border-2 border-border cursor-pointer",disabled:a,title:"Elegir color personalizado"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona un color o usa el selector personalizado"})]}),o.jsxs(ZE,{children:[o.jsx(U,{type:"button",variant:"outline",onClick:t,disabled:a,children:"Cancelar"}),o.jsx(U,{type:"submit",disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Guardando..."]}):n?"Guardar cambios":"Crear círculo"})]})]})]})})},sF=({isOpen:e,onClose:t,circle:r})=>{const{toast:n}=fr(),[s,a]=p.useState(!0),[i,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState([]),[h,m]=p.useState("");p.useEffect(()=>{e&&r&&w()},[e,r]);const w=async()=>{if(r){a(!0);try{const g=await Cs.getCircleMembers(r.id);u(g);const j=await $t.getMyConnections(),E=new Set(g.map(_=>_.user_id)),N=j.filter(_=>!E.has(_.other_user_id));f(N)}catch(g){n({title:"Error al cargar",description:g.message,variant:"destructive"})}finally{a(!1)}}},y=async g=>{if(r){l(!0);try{await Cs.addMemberToCircle(r.id,g),n({title:"Miembro añadido",description:"El usuario ha sido añadido al círculo"}),await w()}catch(j){n({title:"Error",description:j.message||"No se pudo añadir el miembro",variant:"destructive"})}finally{l(!1)}}},b=async g=>{if(r&&window.confirm("¿Estás seguro de que quieres eliminar este miembro del círculo?"))try{await Cs.removeMemberFromCircle(r.id,g),n({title:"Miembro eliminado",description:"El usuario ha sido eliminado del círculo"}),await w()}catch(j){n({title:"Error",description:j.message||"No se pudo eliminar el miembro",variant:"destructive"})}},x=g=>g?g.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2):"U",v=d.filter(g=>{var j;return(j=g.other_user_name)==null?void 0:j.toLowerCase().includes(h.toLowerCase())});return r?o.jsx(XE,{open:e,onOpenChange:t,children:o.jsxs(Rg,{className:"sm:max-w-[600px] max-h-[80vh]",children:[o.jsxs(Pg,{children:[o.jsxs(Tg,{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r.color}}),"Gestionar miembros: ",r.name]}),o.jsx(Og,{children:"Añade o elimina personas de este círculo"})]}),s?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-semibold text-sm",children:["Miembros actuales (",c.length,")"]}),c.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground border rounded-lg bg-muted/30",children:o.jsx("p",{className:"text-sm",children:"Este círculo no tiene miembros aún"})}):o.jsx(Xo,{className:"max-h-[200px] rounded-md border p-3",children:o.jsx("div",{className:"space-y-2",children:c.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Cr,{className:"h-10 w-10",children:[o.jsx(kr,{src:g.avatar_url||void 0,alt:g.full_name||"Usuario"}),o.jsx(Rr,{children:x(g.full_name)})]}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-medium",children:g.full_name||"Usuario sin nombre"})})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>b(g.user_id),children:o.jsx(eL,{className:"h-4 w-4 text-destructive"})})]},g.user_id))})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-semibold text-sm",children:["Añadir miembros (",d.length," disponibles)"]}),d.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground border rounded-lg bg-muted/30",children:o.jsx("p",{className:"text-sm",children:"Todos tus compartidos ya están en este círculo"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(K_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Tt,{placeholder:"Buscar por nombre...",value:h,onChange:g=>m(g.target.value),className:"pl-9"})]}),o.jsx(Xo,{className:"max-h-[200px] rounded-md border p-3",children:v.length===0?o.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"No se encontraron usuarios"}):o.jsx("div",{className:"space-y-2",children:v.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Cr,{className:"h-10 w-10",children:[o.jsx(kr,{src:g.other_user_avatar||void 0,alt:g.other_user_name||"Usuario"}),o.jsx(Rr,{children:x(g.other_user_name)})]}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-medium",children:g.other_user_name||"Usuario sin nombre"})})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>y(g.other_user_id),disabled:i,children:o.jsx(ym,{className:"h-4 w-4 text-green-600"})})]},g.id))})})]})]})]})]})}):null},aF=()=>{const{user:e}=rt(),{toast:t}=fr(),r=xt(),[n,s]=p.useState(!0),[a,i]=p.useState([]),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState(null);p.useEffect(()=>{if(!e){r(q.LOGIN);return}m()},[e,r]);const m=async()=>{s(!0);try{const g=await Cs.getMyCircles();i(g)}catch(g){t({title:"Error al cargar círculos",description:g.message,variant:"destructive"})}finally{s(!1)}},w=()=>{h(null),c(!0)},y=g=>{h(g),c(!0)},b=g=>{h(g),d(!0)},x=async g=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el círculo "${g.name}"?`))try{await Cs.deleteCircle(g.id),t({title:"Círculo eliminado",description:"El círculo ha sido eliminado exitosamente"}),m()}catch(j){t({title:"Error",description:j.message||"No se pudo eliminar el círculo",variant:"destructive"})}},v=()=>{m()};return e?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-6xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Mis Círculos"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus grupos de personas para compartir historias"})]}),o.jsxs(U,{onClick:w,className:"gap-2",children:[o.jsx(Al,{className:"h-4 w-4"}),"Nuevo círculo"]})]}),n?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsx(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx(ci,{className:"h-16 w-16 text-muted-foreground mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No tienes círculos aún"}),o.jsx("p",{className:"text-muted-foreground text-center mb-6 max-w-md",children:"Los círculos te permiten organizar a tus compartidos en grupos y compartir historias privadas con grupos específicos de personas."}),o.jsxs(U,{onClick:w,className:"gap-2",children:[o.jsx(Al,{className:"h-4 w-4"}),"Crear mi primer círculo"]})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>o.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[o.jsxs(ht,{children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:g.color}}),o.jsx(mt,{className:"truncate",children:g.name})]})}),o.jsx(Ln,{className:"line-clamp-2",children:g.description||"Sin descripción"})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(lr,{className:"h-4 w-4"}),o.jsxs("span",{children:[g.member_count," ",g.member_count===1?"miembro":"miembros"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>b(g),className:"flex-1 gap-2",children:[o.jsx(lr,{className:"h-4 w-4"}),"Miembros"]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>y(g),children:o.jsx(J_,{className:"h-4 w-4"})}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>x(g),children:o.jsx(cg,{className:"h-4 w-4 text-destructive"})})]})]})})]},g.id))}),o.jsxs(Re,{className:"mt-8",children:[o.jsx(ht,{children:o.jsx(mt,{className:"text-lg",children:"¿Qué son los círculos?"})}),o.jsxs(De,{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("p",{children:"🔵 Los círculos te permiten organizar a tus compartidos en grupos temáticos"}),o.jsx("p",{children:"📝 Al crear una historia privada, puedes compartirla con un círculo específico"}),o.jsx("p",{children:"👥 Solo los miembros del círculo podrán ver las historias compartidas con él"}),o.jsx("p",{children:'✨ Ejemplos: "Familia", "Amigos cercanos", "Compañeros de trabajo", etc.'})]})]})]}),o.jsx(nF,{isOpen:l,onClose:()=>{c(!1),h(null)},onSuccess:v,circle:f}),o.jsx(sF,{isOpen:u,onClose:()=>{d(!1),h(null)},circle:f})]}):null},oF=()=>{const{user:e}=rt(),{toast:t}=fr(),r=xt(),[n,s]=p.useState(!0),[a,i]=p.useState([]);p.useEffect(()=>{if(!e){r(q.LOGIN);return}l()},[e,r]);const l=async()=>{s(!0);try{const f=await Sg.getMyConversations();i(f)}catch(f){t({title:"Error al cargar conversaciones",description:f.message,variant:"destructive"})}finally{s(!1)}},c=f=>{r(`${q.CHAT}/${f}`)},u=f=>f?f.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2):"U",d=f=>jg(new Date(f),{addSuffix:!0,locale:Hd});return e?o.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Mensajes"}),o.jsx("p",{className:"text-muted-foreground",children:"Tus conversaciones con compartidos"})]}),n?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsx(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"flex flex-col items-center justify-center py-16",children:[o.jsx(Us,{className:"h-16 w-16 text-muted-foreground mb-4 opacity-50"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No tienes conversaciones"}),o.jsx("p",{className:"text-muted-foreground text-center mb-6 max-w-md",children:"Inicia una conversación con tus compartidos desde su perfil"})]})}):o.jsx("div",{className:"space-y-2",children:a.map(f=>{var h;return o.jsx(Re,{className:"hover:shadow-md hover:bg-accent/50 transition-all cursor-pointer",onClick:()=>c(f.conversation.id),children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Cr,{className:"h-12 w-12",children:[o.jsx(kr,{src:f.other_user.avatar||void 0,alt:f.other_user.name||"Usuario"}),o.jsx(Rr,{children:u(f.other_user.name)})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-semibold truncate",children:f.other_user.name||"Usuario sin nombre"}),f.last_message&&o.jsx("span",{className:"text-xs text-muted-foreground",children:d(f.last_message.created_at)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:((h=f.last_message)==null?void 0:h.content)||"Sin mensajes aún"}),f.unread_count>0&&o.jsx(kl,{variant:"default",className:"ml-2",children:f.unread_count})]})]})]})})},f.conversation.id)})})]})]}):null};class Xa{static async getMessages(t){const{data:r,error:n}=await A.from("messages").select("*").eq("conversation_id",t).order("created_at",{ascending:!0});if(n)throw n;if(!r||r.length===0)return[];const s=[...new Set(r.map(l=>l.sender_id))],{data:a}=await A.from("profiles").select("id, full_name, avatar_url").in("id",s),i=new Map((a||[]).map(l=>[l.id,l]));return r.map(l=>{const c=i.get(l.sender_id);return{id:l.id,conversation_id:l.conversation_id,sender_id:l.sender_id,content:l.content,is_read:l.is_read,created_at:l.created_at,sender_name:(c==null?void 0:c.full_name)||null,sender_avatar:(c==null?void 0:c.avatar_url)||null}})}static async sendMessage(t){const{data:{user:r}}=await A.auth.getUser();if(!r)throw new Error("Usuario no autenticado");const{data:n,error:s}=await A.from("messages").insert([{conversation_id:t.conversation_id,sender_id:r.id,content:t.content}]).select().single();if(s)throw s;return n}static async markMessagesAsRead(t,r){const{data:{user:n}}=await A.auth.getUser();if(!n)throw new Error("Usuario no autenticado");const{error:s}=await A.from("messages").update({is_read:!0}).eq("conversation_id",t).eq("is_read",!1).neq("sender_id",r);if(s)throw s}static subscribeToMessages(t,r){return A.channel(`messages:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${t}`},s=>{r(s.new)}).subscribe()}static unsubscribeFromMessages(t){A.removeChannel(t)}}const iF=()=>{const{id:e}=Cp(),{user:t}=rt(),{toast:r}=fr(),n=xt(),[s,a]=p.useState(!0),[i,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState([]),[h,m]=p.useState(""),w=p.useRef(null),y=p.useRef(null);p.useEffect(()=>{if(!t){n(q.LOGIN);return}if(!e){n(q.CHAT);return}return b(),x(),e&&(y.current=Xa.subscribeToMessages(e,_=>{x(),_.sender_id!==t.id&&Xa.markMessagesAsRead(e,t.id)})),()=>{y.current&&Xa.unsubscribeFromMessages(y.current)}},[t,e,n]),p.useEffect(()=>{g()},[d]);const b=async()=>{if(e)try{const _=await Sg.getConversationById(e);u(_)}catch(_){r({title:"Error al cargar conversación",description:_.message,variant:"destructive"}),n(q.CHAT)}},x=async()=>{if(e){a(!0);try{const _=await Xa.getMessages(e);f(_),t&&await Xa.markMessagesAsRead(e,t.id)}catch(_){r({title:"Error al cargar mensajes",description:_.message,variant:"destructive"})}finally{a(!1)}}},v=async _=>{if(_.preventDefault(),!(!h.trim()||!e)){l(!0);try{await Xa.sendMessage({conversation_id:e,content:h.trim()}),m("")}catch(C){r({title:"Error al enviar mensaje",description:C.message,variant:"destructive"})}finally{l(!1)}}},g=()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},j=_=>_?_.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2):"U",N=(()=>{if(!c||!t)return null;const _=c.user1_id===t.id;return{id:_?c.user2_id:c.user1_id,name:_?c.user2_name:c.user1_name,avatar:_?c.user2_avatar:c.user1_avatar}})();return!t||!N?null:o.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[o.jsx(St,{}),o.jsx("div",{className:"bg-background border-b px-6 py-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl flex items-center gap-4",children:[o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>n(q.CHAT),children:o.jsx(Aa,{className:"h-5 w-5"})}),o.jsxs(Cr,{className:"h-10 w-10",children:[o.jsx(kr,{src:N.avatar||void 0,alt:N.name||"Usuario"}),o.jsx(Rr,{children:j(N.name)})]}),o.jsx("div",{children:o.jsx("h2",{className:"font-semibold",children:N.name||"Usuario sin nombre"})})]})}),o.jsx("div",{className:"flex-1 container mx-auto max-w-4xl px-6 py-4",children:s?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsx(Xo,{className:"h-[calc(100vh-280px)]",children:o.jsxs("div",{className:"space-y-4 pb-4",children:[d.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:o.jsx("p",{children:"No hay mensajes aún. ¡Comienza la conversación!"})}):d.map(_=>{const C=_.sender_id===t.id;return o.jsx("div",{className:`flex ${C?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${C?"bg-primary text-primary-foreground":"bg-muted"}`,children:[o.jsx("p",{className:"text-sm break-words",children:_.content}),o.jsx("p",{className:`text-xs mt-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:e$(new Date(_.created_at),"HH:mm",{locale:Hd})})]})},_.id)}),o.jsx("div",{ref:w})]})})}),o.jsx("div",{className:"bg-background border-t px-6 py-4",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:o.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[o.jsx(Tt,{value:h,onChange:_=>m(_.target.value),placeholder:"Escribe un mensaje...",disabled:i,className:"flex-1"}),o.jsx(U,{type:"submit",disabled:i||!h.trim(),children:i?o.jsx(lt,{className:"h-4 w-4 animate-spin"}):o.jsx(Ml,{className:"h-4 w-4"})})]})})})]})},lF=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto max-w-4xl px-6 py-16",children:[o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Guías de uso"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Aprende a sacar el máximo provecho de Momentos Auténticos"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(W_,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Cómo empezar"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsx("p",{children:"1. Crea tu cuenta con un email válido"}),o.jsx("p",{children:"2. Completa tu perfil con tu nombre y foto"}),o.jsx("p",{children:'3. Explora las historias públicas en la sección "Explorar"'}),o.jsx("p",{children:"4. Conecta con otros usuarios enviando solicitudes de compartidos"}),o.jsx("p",{children:"5. Comienza a escribir tus propias experiencias"})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ig,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Escribir historias"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Título:"})," Elige un título descriptivo que resuma tu experiencia"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Contenido:"})," Escribe tu historia con autenticidad. No hay límite de extensión"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Extracto:"})," Un breve resumen de 2-3 líneas para mostrar en las vistas previas"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Imagen:"})," Añade una foto relacionada (máximo 5MB)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Etiquetas:"})," Categoriza tu historia con etiquetas temáticas"]})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(rc,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Control de privacidad"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Historias públicas:"})," Visibles para todos los usuarios"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Historias privadas:"})," Solo visibles para ti y tus compartidos seleccionados"]}),o.jsxs("p",{className:"mt-3",children:[o.jsx("strong",{children:"Compartir con todos mis compartidos:"})," Tus compartidos aceptados verán la historia"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Compartir con un círculo:"})," Solo los miembros de un círculo específico verán la historia"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Compartir con específicos:"})," Selecciona uno o varios compartidos concretos"]}),o.jsx("p",{className:"mt-4 text-sm",children:"Puedes cambiar la configuración de privacidad en cualquier momento editando la historia"})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(lr,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Sistema de compartidos"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsx("p",{children:"Los compartidos son conexiones bidireccionales con otros usuarios que te permiten ver sus historias privadas"}),o.jsxs("p",{className:"mt-3",children:[o.jsx("strong",{children:"Enviar solicitud:"})," Desde el perfil de cualquier usuario"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Aceptar solicitud:"})," En tu perfil verás las solicitudes pendientes"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Gestionar compartidos:"})," Puedes eliminar conexiones en cualquier momento"]}),o.jsx("p",{className:"mt-4 text-sm",children:'Solo los compartidos con estado "Aceptado" pueden ver tus historias privadas'})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ci,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Círculos - Grupos de compartidos"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsx("p",{children:"Los círculos te permiten organizar a tus compartidos en grupos temáticos para compartir historias de forma más específica"}),o.jsx("p",{className:"mt-3",children:o.jsx("strong",{children:"¿Qué son los círculos?"})}),o.jsx("p",{children:'Son grupos personalizables donde puedes añadir a tus compartidos. Por ejemplo: "Familia", "Amigos cercanos", "Compañeros de trabajo", etc.'}),o.jsxs("p",{className:"mt-3",children:[o.jsx("strong",{children:"Crear un círculo:"}),' Accede a la sección "Círculos" desde el menú de navegación']}),o.jsxs("p",{children:[o.jsx("strong",{children:"Añadir miembros:"})," Solo puedes añadir usuarios con los que ya tienes conexión de compartidos aceptada"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Personalización:"})," Cada círculo tiene nombre, descripción opcional y color identificador"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Compartir con círculos:"}),' Al crear/editar una historia privada, elige la opción "Compartir con un círculo"']}),o.jsx("p",{className:"mt-4 text-sm",children:"Los círculos te dan un control granular sobre quién ve cada historia, sin necesidad de seleccionar personas individualmente"})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Us,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Sistema de mensajería"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsx("p",{children:"Comunícate de forma privada con tus compartidos a través del chat en tiempo real"}),o.jsxs("p",{className:"mt-3",children:[o.jsx("strong",{children:"Iniciar conversación:"}),' Desde la página de Compartidos, haz clic en el botón "Mensaje"']}),o.jsxs("p",{children:[o.jsx("strong",{children:"Ver mensajes:"}),' Accede a "Mensajes" desde el menú para ver todas tus conversaciones']}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tiempo real:"})," Los mensajes llegan instantáneamente sin necesidad de recargar"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mensajes no leídos:"})," Se muestran con un contador para que no pierdas ninguna conversación"]}),o.jsx("p",{className:"mt-4 text-sm",children:"Solo puedes chatear con usuarios con los que tengas una conexión de compartidos aceptada"})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Os,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Interacciones"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Reacciones:"})," Da corazón a las historias que te conmuevan"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Comentarios:"})," Comparte tus pensamientos y experiencias relacionadas"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Favoritos:"})," Guarda historias para releerlas después en tu sección de favoritos"]}),o.jsx("p",{className:"mt-4 text-sm",children:"Todas las interacciones son respetuosas y constructivas. Mantenemos un espacio seguro"})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Y_,{className:"h-6 w-6 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Uso de etiquetas"}),o.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[o.jsx("p",{children:"Las etiquetas ayudan a categorizar y descubrir historias relacionadas"}),o.jsxs("p",{className:"mt-3",children:[o.jsx("strong",{children:"Seleccionar existentes:"})," Usa etiquetas ya creadas por la comunidad"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Crear nuevas:"})," Si no encuentras una etiqueta adecuada, créala"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Búsqueda:"})," Filtra historias por etiquetas en la página Explorar"]}),o.jsx("p",{className:"mt-4 text-sm",children:"Usa etiquetas descriptivas y relevantes para ayudar a otros a encontrar tu historia"})]})]})]})})]})]}),o.jsx(nc,{})]}),cF=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto max-w-4xl px-6 py-16",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Nuestra Misión"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Crear un espacio digital donde las experiencias humanas auténticas prevalezcan sobre la superficialidad de las redes sociales"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("section",{className:"bg-card border rounded-lg p-8",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ZD,{className:"h-8 w-8 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Nuestro Propósito"}),o.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[o.jsx("p",{children:"Momentos Auténticos nace de la necesidad de recuperar la conexión humana genuina en un mundo digital saturado de contenido superficial y efímero."}),o.jsx("p",{children:"Creemos que cada persona tiene experiencias valiosas que contar, momentos que merecen ser preservados y compartidos con aquellos que realmente importan."}),o.jsx("p",{children:"No buscamos likes, ni viralidad, ni algoritmos que dicten qué es importante. Buscamos crear un espacio seguro para la vulnerabilidad, la reflexión y la conexión real entre personas."})]})]})]})}),o.jsxs("section",{className:"bg-card border rounded-lg p-8",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center gap-3",children:[o.jsx(X_,{className:"h-7 w-7 text-primary"}),"Nuestros Valores"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Os,{className:"h-5 w-5 text-red-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Autenticidad"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valoramos las historias reales, sin filtros ni pretensiones. Cada experiencia importa, sin importar cuán ordinaria parezca."})]})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Q_,{className:"h-5 w-5 text-blue-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Privacidad"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu decides quién puede leer tus historias. Control total sobre tu contenido y con quién lo compartes."})]})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(lr,{className:"h-5 w-5 text-purple-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Comunidad"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fomentamos conexiones significativas basadas en experiencias compartidas y empatía genuina."})]})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Yu,{className:"h-5 w-5 text-green-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Preservación"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tus recuerdos y experiencias merecen ser guardados, no perdidos en el flujo interminable de contenido."})]})]})})]})]}),o.jsxs("section",{className:"bg-card border rounded-lg p-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Lo que NO somos"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"No somos una red social convencional que busca maximizar tu tiempo en pantalla"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"No usamos algoritmos que decidan qué ver o prioricen contenido viral"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"No vendemos tus datos ni mostramos publicidad invasiva"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"No fomentamos la competencia por likes, seguidores o métricas de vanidad"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"No permitimos contenido superficial, spam o autopromoción excesiva"})]})]})]}),o.jsxs("section",{className:"bg-card border rounded-lg p-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Lo que SÍ buscamos"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Crear un diario digital compartido donde preservar tus momentos importantes"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Fomentar la escritura reflexiva y la expresión emocional genuina"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Conectar a personas a través de experiencias compartidas, no métricas"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Ofrecer un espacio seguro para la vulnerabilidad y la autenticidad"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Respetar tu tiempo, tu privacidad y tu bienestar digital"})]})]})]}),o.jsxs("section",{className:"bg-gradient-to-r from-primary/10 to-accent/10 border rounded-lg p-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Nuestro Compromiso"}),o.jsx("p",{className:"text-center text-muted-foreground max-w-2xl mx-auto",children:"Nos comprometemos a mantener Momentos Auténticos como un espacio libre de toxicidad, donde cada historia sea respetada y cada persona se sienta segura para compartir sus experiencias más personales."}),o.jsx("p",{className:"text-center text-muted-foreground max-w-2xl mx-auto mt-4",children:"Este es un proyecto hecho con ❤️ para personas reales que valoran las conexiones genuinas sobre las métricas superficiales."})]})]})]}),o.jsx(nc,{})]}),uF=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto max-w-4xl px-6 py-16",children:[o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Política de Privacidad"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Tu privacidad es nuestra prioridad. Última actualización: Enero 2025"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Q_,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Introducción"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsx("p",{children:"En Momentos Auténticos, entendemos que tus historias y experiencias son profundamente personales. Por eso, nos comprometemos a proteger tu privacidad y darte control total sobre tus datos."}),o.jsx("p",{children:"Esta política explica qué información recopilamos, cómo la usamos, y tus derechos sobre tus datos personales."})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(KD,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Información que Recopilamos"}),o.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Información de cuenta"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"Dirección de correo electrónico (requerido para autenticación)"}),o.jsx("li",{children:"Nombre completo (opcional, para personalizar tu perfil)"}),o.jsx("li",{children:"Foto de perfil (opcional)"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Contenido que creas"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"Historias y experiencias que escribes"}),o.jsx("li",{children:"Imágenes que subes con tus historias"}),o.jsx("li",{children:"Comentarios y reacciones"}),o.jsx("li",{children:"Etiquetas que creas"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Datos de uso"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"Fecha y hora de acceso a la plataforma"}),o.jsx("li",{children:"Páginas visitadas"}),o.jsx("li",{children:"Información técnica básica (navegador, dispositivo)"})]})]})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ig,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Cómo Usamos tu Información"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Proporcionar y mantener el servicio de la plataforma"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Autenticar tu identidad cuando inicias sesión"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Mostrar tu contenido a los usuarios que elijas (público o compartidos)"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Enviar notificaciones importantes sobre tu cuenta"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 font-bold",children:"✓"}),o.jsx("span",{children:"Mejorar la plataforma y corregir problemas técnicos"})]}),o.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg",children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",children:"Lo que NUNCA haremos:"}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"Vender tus datos a terceros"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"Usar tus historias para entrenar IA o análisis de datos"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"Mostrar publicidad basada en tus historias personales"})]}),o.jsxs("p",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 font-bold",children:"×"}),o.jsx("span",{children:"Compartir tus datos sin tu consentimiento explícito"})]})]})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(rc,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Tu Control de Privacidad"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Historias públicas:"})," Visibles para todos los usuarios registrados. Tú decides cuándo hacer una historia pública."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Historias privadas:"})," Solo tú y tus compartidos aceptados pueden verlas. Puedes elegir compartir con todos tus compartidos o seleccionar usuarios específicos."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Edición y eliminación:"})," Puedes editar o eliminar tus historias en cualquier momento. Las eliminaciones son permanentes e irreversibles."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Gestión de compartidos:"})," Controlas completamente con quién te conectas. Puedes aceptar, rechazar o eliminar conexiones cuando quieras."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Perfil:"})," Tu nombre y foto son visibles solo para usuarios con los que tienes alguna interacción (compartidos o historias públicas)."]})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(og,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Seguridad de Datos"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsx("p",{children:"Utilizamos Supabase como proveedor de infraestructura, que implementa:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"Cifrado de datos en tránsito (HTTPS/TLS)"}),o.jsx("li",{children:"Cifrado de datos en reposo"}),o.jsx("li",{children:"Row Level Security (RLS) para control de acceso granular"}),o.jsx("li",{children:"Autenticación segura con tokens JWT"}),o.jsx("li",{children:"Copias de seguridad automáticas"})]}),o.jsx("p",{className:"mt-3",children:"A pesar de estas medidas, ningún sistema es 100% seguro. Te recomendamos usar contraseñas fuertes y únicas para tu cuenta."})]})]})]})}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ug,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Tus Derechos"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsx("p",{children:"Tienes derecho a:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Acceso:"})," Ver toda la información que tenemos sobre ti"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Rectificación:"})," Corregir datos incorrectos en tu perfil"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Eliminación:"})," Borrar tu cuenta y todos tus datos"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Portabilidad:"})," Exportar tus historias en formato legible"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Oposición:"})," Rechazar ciertos usos de tus datos"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Limitación:"})," Restringir cómo procesamos tus datos"]})]}),o.jsxs("p",{className:"mt-4",children:["Para ejercer cualquiera de estos derechos, contáctanos en:"," ",o.jsx("a",{href:"mailto:gomezmon@hotmail.com",className:"text-primary hover:underline",children:"gomezmon@hotmail.com"})]})]})]})]})}),o.jsxs("section",{className:"bg-card border rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Cookies"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsx("p",{children:"Usamos cookies esenciales para mantener tu sesión activa cuando inicias sesión. No usamos cookies de seguimiento, análisis o publicidad."}),o.jsx("p",{children:"Puedes configurar tu navegador para rechazar cookies, pero esto impedirá que puedas iniciar sesión en la plataforma."})]})]}),o.jsxs("section",{className:"bg-card border rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Cambios a esta Política"}),o.jsxs("div",{className:"space-y-3 text-muted-foreground",children:[o.jsx("p",{children:"Podemos actualizar esta política ocasionalmente. Te notificaremos de cambios significativos por email o mediante un aviso en la plataforma."}),o.jsx("p",{children:"La fecha de última actualización siempre estará visible en la parte superior de esta página."})]})]}),o.jsxs("section",{className:"bg-gradient-to-r from-primary/10 to-accent/10 border rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3 text-center",children:"¿Preguntas?"}),o.jsx("p",{className:"text-center text-muted-foreground",children:"Si tienes dudas sobre esta política de privacidad o cómo manejamos tus datos, contáctanos en:"}),o.jsx("p",{className:"text-center mt-3",children:o.jsx("a",{href:"mailto:gomezmon@hotmail.com",className:"text-primary hover:underline font-semibold",children:"gomezmon@hotmail.com"})})]})]})]}),o.jsx(nc,{})]}),dF=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx(St,{}),o.jsxs("main",{className:"container mx-auto max-w-4xl px-6 py-16",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Contacto"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Estamos aquí para ayudarte. No dudes en ponerte en contacto con nosotros"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{className:"bg-gradient-to-r from-primary/10 to-accent/10 border-2 border-primary/20 rounded-lg p-8 text-center",children:[o.jsx(tl,{className:"h-12 w-12 text-primary mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Email de contacto"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Para cualquier consulta, sugerencia o problema, escríbenos a:"}),o.jsxs("a",{href:"mailto:gomezmon@hotmail.com",className:"inline-flex items-center gap-2 text-2xl font-semibold text-primary hover:underline",children:[o.jsx(tl,{className:"h-6 w-6"}),"gomezmon@hotmail.com"]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Respondemos en un plazo de 24-48 horas"})]}),o.jsxs("section",{className:"bg-card border rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"¿En qué podemos ayudarte?"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/30",children:[o.jsx(VD,{className:"h-6 w-6 text-blue-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Soporte técnico"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"¿Tienes problemas con tu cuenta, no puedes iniciar sesión, o algo no funciona correctamente? Contáctanos y te ayudaremos."})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/30",children:[o.jsx(QD,{className:"h-6 w-6 text-yellow-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Sugerencias"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"¿Tienes ideas para mejorar la plataforma? Nos encantaría escucharlas. Tu feedback es valioso para nosotros."})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/30",children:[o.jsx(qD,{className:"h-6 w-6 text-red-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Reportar errores"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"¿Encontraste un bug o comportamiento inesperado? Repórtalo para que podamos solucionarlo rápidamente."})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/30",children:[o.jsx(Us,{className:"h-6 w-6 text-green-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Consultas generales"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"¿Tienes preguntas sobre cómo funciona la plataforma, privacidad, o cualquier otra duda? Estamos para ayudarte."})]})]})]})]}),o.jsxs("section",{className:"bg-card border rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Preguntas Frecuentes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"¿Cómo puedo recuperar mi contraseña?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:'En la página de inicio de sesión, haz clic en "¿Olvidaste tu contraseña?" y sigue las instrucciones. Recibirás un email para restablecer tu contraseña.'})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"¿Puedo eliminar mi cuenta?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sí, contáctanos por email y eliminaremos tu cuenta y todos tus datos de forma permanente. Este proceso es irreversible."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"¿Cómo reporto contenido inapropiado?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Envíanos un email con el enlace a la historia o comentario en cuestión, y tomaremos las medidas apropiadas."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"¿Tienen aplicación móvil?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Actualmente no, pero la plataforma web está optimizada para dispositivos móviles. Puedes acceder desde cualquier navegador en tu teléfono."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"¿La plataforma tiene algún costo?"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Actualmente Momentos Auténticos es completamente gratuito. Nuestro objetivo es mantenerlo así, sin publicidad ni modelos premium."})]})]})]}),o.jsx("section",{className:"bg-card border rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Os,{className:"h-6 w-6 text-red-500 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Nuestro compromiso"}),o.jsx("p",{className:"text-muted-foreground",children:"Momentos Auténticos es un proyecto hecho con dedicación para crear un espacio digital más humano y auténtico. Valoramos cada mensaje que recibimos y nos esforzamos por responder de manera personalizada y oportuna."}),o.jsx("p",{className:"text-muted-foreground mt-3",children:"Tu feedback, preguntas y sugerencias son fundamentales para mejorar la plataforma y asegurar que cumple con las necesidades de nuestra comunidad."})]})]})}),o.jsxs("section",{className:"text-center p-8 bg-gradient-to-r from-primary/5 to-accent/5 rounded-lg border",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"¿Listo para contactarnos?"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"No dudes en escribirnos. Estamos aquí para ayudarte"}),o.jsxs("a",{href:"mailto:gomezmon@hotmail.com",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-semibold",children:[o.jsx(tl,{className:"h-5 w-5"}),"Enviar email"]})]})]})]}),o.jsx(nc,{})]}),Px=()=>{const e=ri();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},fF=Gk([{path:"/",element:o.jsx(ZL,{}),errorElement:o.jsx(Px,{})},{path:"/explore",element:o.jsx(t4,{})},{path:"/login",element:o.jsx(s4,{})},{path:"/register",element:o.jsx(c4,{})},{path:"/profile",element:o.jsx(h4,{})},{path:"/create",element:o.jsx(F4,{})},{path:"/experience/:id",element:o.jsx(I$,{})},{path:"/experience/:id/edit",element:o.jsx(U4,{})},{path:"/favorites",element:o.jsx(D$,{})},{path:"/compartidos",element:o.jsx(U$,{})},{path:"/my-stories",element:o.jsx(z$,{})},{path:"/circles",element:o.jsx(aF,{})},{path:"/chat",element:o.jsx(oF,{})},{path:"/chat/:id",element:o.jsx(iF,{})},{path:"/guides",element:o.jsx(lF,{})},{path:"/mission",element:o.jsx(cF,{})},{path:"/privacy",element:o.jsx(uF,{})},{path:"/contact",element:o.jsx(dF,{})},{path:"*",element:o.jsx(Px,{})}]),q={HOME:"/",EXPLORE:"/explore",LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile",CREATE:"/create",EXPERIENCE:"/experience",FAVORITES:"/favorites",COMPARTIDOS:"/compartidos",MY_STORIES:"/my-stories",CIRCLES:"/circles",CHAT:"/chat",CREATE_EXPERIENCE:"/create",GUIDES:"/guides",MISSION:"/mission",PRIVACY:"/privacy",CONTACT:"/contact",NOT_FOUND:"*"},hF=()=>{const{user:e}=rt(),t=ri(),r=xt(),n=p.useRef(new Set);return p.useEffect(()=>{if(!e)return;const s=A.channel("new-message-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async a=>{const i=a.new;if(n.current.has(i.id)||(n.current.add(i.id),i.sender_id===e.id)||t.pathname.split("/chat/")[1]===i.conversation_id)return;const{data:c}=await A.from("profiles").select("full_name, avatar_url").eq("id",i.sender_id).single(),u=(c==null?void 0:c.full_name)||"Alguien",d=i.content.length>50?i.content.substring(0,50)+"...":i.content;pe(`${u}`,{description:d,action:{label:"Ver",onClick:()=>{r(`${q.CHAT}/${i.conversation_id}`)}},duration:5e3})}).subscribe();return()=>{A.removeChannel(s)}},[e,t.pathname,r]),null},mF=new AR({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}}),eS=document.getElementById("root");if(!eS)throw new Error("Root element not found");eb(eS).render(o.jsx(p.StrictMode,{children:o.jsx(IR,{client:mF,children:o.jsx(sO,{children:o.jsxs(FR,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:[o.jsx(hF,{}),o.jsx(rR,{router:fF}),o.jsx(v2,{})]})})})}));
